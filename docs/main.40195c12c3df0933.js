(self.webpackChunkrestaurante=self.webpackChunkrestaurante||[]).push([[179],{2011:(it,Te,P)=>{"use strict";P.d(Te,{hO:()=>Le,xv:()=>ue,Dh:()=>oe,GT:()=>ce,cc:()=>Ee,on:()=>B,pX:()=>ne});var u=P(5e3),Y=P(127),N=P(5813);it=P.hmd(it);const se=["ngOnDestroy"],ne=(te,pe,be,ge={})=>new Proxy(te,{get:(Ue,Ie)=>be.runOutsideAngular(()=>{var tt;if(te[Ie])return(null===(tt=null==ge?void 0:ge.spy)||void 0===tt?void 0:tt.get)&&ge.spy.get(Ie,te[Ie]),te[Ie];if(se.indexOf(Ie)>-1)return()=>{};const $e=pe.toPromise().then(lt=>{const Q=lt&&lt[Ie];return"function"==typeof Q?Q.bind(lt):Q&&Q.then?Q.then(he=>be.run(()=>he)):be.run(()=>Q)});return new Proxy(()=>{},{get:(lt,Q)=>$e[Q],apply:(lt,Q,he)=>$e.then(me=>{var _e;const Ne=me&&me(...he);return(null===(_e=null==ge?void 0:ge.spy)||void 0===_e?void 0:_e.apply)&&ge.spy.apply(Ie,he,Ne),Ne})})})}),ce=(te,pe)=>{pe.forEach(be=>{Object.getOwnPropertyNames(be.prototype||be).forEach(ge=>{Object.defineProperty(te.prototype,ge,Object.getOwnPropertyDescriptor(be.prototype||be,ge))})})};class ie{constructor(pe){return pe}}const oe=new u.OlP("angularfire2.app.options"),ue=new u.OlP("angularfire2.app.name");function B(te,pe,be){const Ue="object"==typeof be&&be||{};Ue.name=Ue.name||"string"==typeof be&&be||"[DEFAULT]";const tt=Y.Z.apps.filter($e=>$e&&$e.name===Ue.name)[0]||pe.runOutsideAngular(()=>Y.Z.initializeApp(te,Ue));try{JSON.stringify(te)!==JSON.stringify(tt.options)&&U("error",`${tt.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch($e){}return new ie(tt)}const U=(te,...pe)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[te](...pe)},J={provide:ie,useFactory:B,deps:[oe,u.R0b,[new u.FiY,ue]]};let Le=(()=>{class te{constructor(be){Y.Z.registerVersion("angularfire",N.q4.full,"core"),Y.Z.registerVersion("angularfire",N.q4.full,"app-compat"),Y.Z.registerVersion("angular",u.q4F.full,be.toString())}static initializeApp(be,ge){return{ngModule:te,providers:[{provide:oe,useValue:be},{provide:ue,useValue:ge}]}}}return te.\u0275fac=function(be){return new(be||te)(u.LFG(u.Lbi))},te.\u0275mod=u.oAB({type:te}),te.\u0275inj=u.cJS({providers:[J]}),te})();function Ee(te,pe,be,ge,Ue){const[,Ie,tt]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===te)||[];if(Ie)return function Me(te,pe){try{return te.toString()===pe.toString()}catch(be){return te===pe}}(Ue,tt)||(z("error",`${pe} was already initialized on the ${be} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),z("warn",{is:Ue,was:tt})),Ie;{const $e=ge();return globalThis.\u0275AngularfireInstanceCache.push([te,$e,Ue]),$e}}const Fe=!!it.hot,z=(te,...pe)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[te](...pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(it,Te,P)=>{"use strict";P.d(Te,{q4:()=>nf,iC:()=>Zo,HU:()=>Du,vb:()=>rf,JM:()=>md});var u=P(5e3),Y=P(5867),N=P(5861),se=P(9681),ne=P(2090),ce=P(4859),ie=P(1877),oe=P(2940);const ue="@firebase/installations",B="0.5.5",J=`w:${B}`,Le="FIS_v2",pe=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function be(I){return I instanceof ne.ZR&&I.code.includes("request-failed")}function ge({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Ue(I){return{token:I.token,requestStatus:2,expiresIn:me(I.expiresIn),creationTime:Date.now()}}function Ie(I,T){return tt.apply(this,arguments)}function tt(){return(tt=(0,N.Z)(function*(I,T){const F=(yield T.json()).error;return pe.create("request-failed",{requestName:I,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function $e({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function lt(I,{refreshToken:T}){const M=$e(I);return M.append("Authorization",function _e(I){return`${Le} ${I}`}(T)),M}function Q(I){return he.apply(this,arguments)}function he(){return(he=(0,N.Z)(function*(I){const T=yield I();return T.status>=500&&T.status<600?I():T})).apply(this,arguments)}function me(I){return Number(I.replace("s","000"))}function Ne(I,T){return le.apply(this,arguments)}function le(){return(le=(0,N.Z)(function*(I,{fid:T}){const M=ge(I),W={method:"POST",headers:$e(I),body:JSON.stringify({fid:T,authVersion:Le,appId:I.appId,sdkVersion:J})},Ae=yield Q(()=>fetch(M,W));if(Ae.ok){const He=yield Ae.json();return{fid:He.fid||T,registrationStatus:2,refreshToken:He.refreshToken,authToken:Ue(He.authToken)}}throw yield Ie("Create Installation",Ae)})).apply(this,arguments)}function It(I){return new Promise(T=>{setTimeout(T,I)})}const Gn=/^[cdef][\w-]{21}$/;function rt(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const M=function yr(I){return function Nt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Gn.test(M)?M:""}catch(I){return""}}function Kt(I){return`${I.appName}!${I.appId}`}const vr=new Map;function zt(I,T){const M=Kt(I);vn(M,T),function Li(I,T){const M=function un(){return!Pt&&"BroadcastChannel"in self&&(Pt=new BroadcastChannel("[Firebase] FID Change"),Pt.onmessage=I=>{vn(I.data.key,I.data.fid)}),Pt}();M&&M.postMessage({key:I,fid:T}),function Ks(){0===vr.size&&Pt&&(Pt.close(),Pt=null)}()}(M,T)}function vn(I,T){const M=vr.get(I);if(M)for(const F of M)F(T)}let Pt=null;const De="firebase-installations-store";let nr=null;function Xe(){return nr||(nr=(0,oe.openDb)("firebase-installations-database",1,I=>{0===I.oldVersion&&I.createObjectStore(De)})),nr}function ni(I,T){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,N.Z)(function*(I,T){const M=Kt(I),$=(yield Xe()).transaction(De,"readwrite"),W=$.objectStore(De),Ae=yield W.get(M);return yield W.put(T,M),yield $.complete,(!Ae||Ae.fid!==T.fid)&&zt(I,T.fid),T})).apply(this,arguments)}function Pn(I){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,N.Z)(function*(I){const T=Kt(I),F=(yield Xe()).transaction(De,"readwrite");yield F.objectStore(De).delete(T),yield F.complete})).apply(this,arguments)}function ct(I,T){return nt.apply(this,arguments)}function nt(){return(nt=(0,N.Z)(function*(I,T){const M=Kt(I),$=(yield Xe()).transaction(De,"readwrite"),W=$.objectStore(De),Ae=yield W.get(M),He=T(Ae);return void 0===He?yield W.delete(M):yield W.put(He,M),yield $.complete,He&&(!Ae||Ae.fid!==He.fid)&&zt(I,He.fid),He})).apply(this,arguments)}function Ct(I){return nn.apply(this,arguments)}function nn(){return(nn=(0,N.Z)(function*(I){let T;const M=yield ct(I,F=>{const $=Br(F),W=Dt(I,$);return T=W.registrationPromise,W.installationEntry});return""===M.fid?{installationEntry:yield T}:{installationEntry:M,registrationPromise:T}})).apply(this,arguments)}function Br(I){return ln(I||{fid:rt(),registrationStatus:0})}function Dt(I,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(pe.create("app-offline"))};const M={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},F=function et(I,T){return at.apply(this,arguments)}(I,M);return{installationEntry:M,registrationPromise:F}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:gl(I)}:{installationEntry:T}}function at(){return(at=(0,N.Z)(function*(I,T){try{return ni(I,yield Ne(I,T))}catch(M){throw be(M)&&409===M.customData.serverCode?yield Pn(I):yield ni(I,{fid:T.fid,registrationStatus:0}),M}})).apply(this,arguments)}function gl(I){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,N.Z)(function*(I){let T=yield dt(I);for(;1===T.registrationStatus;)yield It(100),T=yield dt(I);if(0===T.registrationStatus){const{installationEntry:M,registrationPromise:F}=yield Ct(I);return F||M}return T})).apply(this,arguments)}function dt(I){return ct(I,T=>{if(!T)throw pe.create("installation-not-found");return ln(T)})}function ln(I){return function _r(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function ns(I,T){return L.apply(this,arguments)}function L(){return(L=(0,N.Z)(function*({appConfig:I,platformLoggerProvider:T},M){const F=Z(I,M),$=lt(I,M),W=T.getImmediate({optional:!0});W&&$.append("x-firebase-client",W.getPlatformInfoString());const He={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:J}})},Be=yield Q(()=>fetch(F,He));if(Be.ok)return Ue(yield Be.json());throw yield Ie("Generate Auth Token",Be)})).apply(this,arguments)}function Z(I,{fid:T}){return`${ge(I)}/${T}/authTokens:generate`}function H(I){return ve.apply(this,arguments)}function ve(){return(ve=(0,N.Z)(function*(I,T=!1){let M;const F=yield ct(I.appConfig,W=>{if(!_n(W))throw pe.create("not-registered");const Ae=W.authToken;if(!T&&wr(Ae))return W;if(1===Ae.requestStatus)return M=X(I,T),W;{if(!navigator.onLine)throw pe.create("app-offline");const He=rr(W);return M=tn(I,He),He}});return M?yield M:F.authToken})).apply(this,arguments)}function X(I,T){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,N.Z)(function*(I,T){let M=yield mt(I.appConfig);for(;1===M.authToken.requestStatus;)yield It(100),M=yield mt(I.appConfig);const F=M.authToken;return 0===F.requestStatus?H(I,T):F})).apply(this,arguments)}function mt(I){return ct(I,T=>{if(!_n(T))throw pe.create("not-registered");return function bs(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function tn(I,T){return kn.apply(this,arguments)}function kn(){return(kn=(0,N.Z)(function*(I,T){try{const M=yield ns(I,T),F=Object.assign(Object.assign({},T),{authToken:M});return yield ni(I.appConfig,F),M}catch(M){if(!be(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const F=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ni(I.appConfig,F)}else yield Pn(I.appConfig);throw M}})).apply(this,arguments)}function _n(I){return void 0!==I&&2===I.registrationStatus}function wr(I){return 2===I.requestStatus&&!function Mt(I){const T=Date.now();return T<I.creationTime||I.creationTime+I.expiresIn<T+36e5}(I)}function rr(I){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:T})}function _o(){return(_o=(0,N.Z)(function*(I){const T=I,{installationEntry:M,registrationPromise:F}=yield Ct(T.appConfig);return F?F.catch(console.error):H(T).catch(console.error),M.fid})).apply(this,arguments)}function Js(){return(Js=(0,N.Z)(function*(I,T=!1){const M=I;return yield zn(M.appConfig),(yield H(M,T)).token})).apply(this,arguments)}function zn(I){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,N.Z)(function*(I){const{registrationPromise:T}=yield Ct(I);T&&(yield T)})).apply(this,arguments)}function ra(I){return pe.create("missing-app-config-values",{valueName:I})}const jr="installations",Tt=I=>{const T=I.getProvider("app").getImmediate(),M=function Ln(I){if(!I||!I.options)throw ra("App Configuration");if(!I.name)throw ra("App Name");const T=["projectId","apiKey","appId"];for(const M of T)if(!I.options[M])throw ra(M);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(T);return{app:T,appConfig:M,platformLoggerProvider:(0,se._getProvider)(T,"platform-logger"),_delete:()=>Promise.resolve()}},jt=I=>{const T=I.getProvider("app").getImmediate(),M=(0,se._getProvider)(T,jr).getImmediate();return{getId:()=>function ml(I){return _o.apply(this,arguments)}(M),getToken:$=>function lu(I){return Js.apply(this,arguments)}(M,$)}};(function wn(){(0,se._registerComponent)(new ce.wA(jr,Tt,"PUBLIC")),(0,se._registerComponent)(new ce.wA("installations-internal",jt,"PRIVATE"))})(),(0,se.registerVersion)(ue,B),(0,se.registerVersion)(ue,B,"esm2017");const cr="@firebase/remote-config",En=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ng{constructor(T,M,F,$){this.client=T,this.storage=M,this.storageCache=F,this.logger=$}isCachedDataFresh(T,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-M,$=F<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${$}.`),$}fetch(T){var M=this;return(0,N.Z)(function*(){const[F,$]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if($&&M.isCachedDataFresh(T.cacheMaxAgeMillis,F))return $;T.eTag=$&&$.eTag;const W=yield M.client.fetch(T),Ae=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===W.status&&Ae.push(M.storage.setLastSuccessfulFetchResponse(W)),yield Promise.all(Ae),W})()}}function jh(I=navigator){return I.languages&&I.languages[0]||I.language}class fi{constructor(T,M,F,$,W,Ae){this.firebaseInstallations=T,this.sdkVersion=M,this.namespace=F,this.projectId=$,this.apiKey=W,this.appId=Ae}fetch(T){var M=this;return(0,N.Z)(function*(){const[F,$]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,He={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Be={sdk_version:M.sdkVersion,app_instance_id:F,app_instance_id_token:$,app_id:M.appId,language_code:jh()},kt={method:"POST",headers:He,body:JSON.stringify(Be)},$t=fetch(Ae,kt),Cr=new Promise((Ci,Gi)=>{T.signal.addEventListener(()=>{const Ns=new Error("The operation was aborted.");Ns.name="AbortError",Gi(Ns)})});let qn;try{yield Promise.race([$t,Cr]),qn=yield $t}catch(Ci){let Gi="fetch-client-network";throw"AbortError"===Ci.name&&(Gi="fetch-timeout"),En.create(Gi,{originalErrorMessage:Ci.message})}let Jt=qn.status;const Ii=qn.headers.get("ETag")||void 0;let Ti,Rs;if(200===qn.status){let Ci;try{Ci=yield qn.json()}catch(Gi){throw En.create("fetch-client-parse",{originalErrorMessage:Gi.message})}Ti=Ci.entries,Rs=Ci.state}if("INSTANCE_STATE_UNSPECIFIED"===Rs?Jt=500:"NO_CHANGE"===Rs?Jt=304:("NO_TEMPLATE"===Rs||"EMPTY_CONFIG"===Rs)&&(Ti={}),304!==Jt&&200!==Jt)throw En.create("fetch-status",{httpStatus:Jt});return{status:Jt,eTag:Ii,config:Ti}})()}}class Gc{constructor(T,M){this.client=T,this.storage=M}fetch(T){var M=this;return(0,N.Z)(function*(){const F=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(T,F)})()}attemptFetch(T,{throttleEndTimeMillis:M,backoffCount:F}){var $=this;return(0,N.Z)(function*(){yield function sa(I,T){return new Promise((M,F)=>{const $=Math.max(T-Date.now(),0),W=setTimeout(M,$);I.addEventListener(()=>{clearTimeout(W),F(En.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,M);try{const W=yield $.client.fetch(T);return yield $.storage.deleteThrottleMetadata(),W}catch(W){if(!function Zh(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}(W))throw W;const Ae={throttleEndTimeMillis:Date.now()+(0,ne.$s)(F),backoffCount:F+1};return yield $.storage.setThrottleMetadata(Ae),$.attemptFetch(T,Ae)}})()}}class rg{constructor(T,M,F,$,W){this.app=T,this._client=M,this._storageCache=F,this._storage=$,this._logger=W,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function oa(I,T){const M=I.target.error||void 0;return En.create(T,{originalErrorMessage:M&&M.message})}const bo="app_namespace_store";class ig{constructor(T,M,F,$=function Kc(){return new Promise((I,T)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=F=>{T(oa(F,"storage-open"))},M.onsuccess=F=>{I(F.target.result)},M.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(bo,{keyPath:"compositeKey"})}}catch(M){T(En.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=T,this.appName=M,this.namespace=F,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var M=this;return(0,N.Z)(function*(){const F=yield M.openDbPromise;return new Promise(($,W)=>{const He=F.transaction([bo],"readonly").objectStore(bo),Be=M.createCompositeKey(T);try{const kt=He.get(Be);kt.onerror=$t=>{W(oa($t,"storage-get"))},kt.onsuccess=$t=>{const Cr=$t.target.result;$(Cr?Cr.value:void 0)}}catch(kt){W(En.create("storage-get",{originalErrorMessage:kt&&kt.message}))}})})()}set(T,M){var F=this;return(0,N.Z)(function*(){const $=yield F.openDbPromise;return new Promise((W,Ae)=>{const Be=$.transaction([bo],"readwrite").objectStore(bo),kt=F.createCompositeKey(T);try{const $t=Be.put({compositeKey:kt,value:M});$t.onerror=Cr=>{Ae(oa(Cr,"storage-set"))},$t.onsuccess=()=>{W()}}catch($t){Ae(En.create("storage-set",{originalErrorMessage:$t&&$t.message}))}})})()}delete(T){var M=this;return(0,N.Z)(function*(){const F=yield M.openDbPromise;return new Promise(($,W)=>{const He=F.transaction([bo],"readwrite").objectStore(bo),Be=M.createCompositeKey(T);try{const kt=He.delete(Be);kt.onerror=$t=>{W(oa($t,"storage-delete"))},kt.onsuccess=()=>{$()}}catch(kt){W(En.create("storage-delete",{originalErrorMessage:kt&&kt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Yc{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const M=T.storage.getLastFetchStatus(),F=T.storage.getLastSuccessfulFetchTimestampMillis(),$=T.storage.getActiveConfig(),W=yield M;W&&(T.lastFetchStatus=W);const Ae=yield F;Ae&&(T.lastSuccessfulFetchTimestampMillis=Ae);const He=yield $;He&&(T.activeConfig=He)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Qc(){return wl.apply(this,arguments)}function wl(){return(wl=(0,N.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}!function sg(){(0,se._registerComponent)(new ce.wA("remote-config",function I(T,{instanceIdentifier:M}){const F=T.getProvider("app").getImmediate(),$=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw En.create("registration-window");if(!(0,ne.hl)())throw En.create("indexed-db-unavailable");const{projectId:W,apiKey:Ae,appId:He}=F.options;if(!W)throw En.create("registration-project-id");if(!Ae)throw En.create("registration-api-key");if(!He)throw En.create("registration-app-id");const Be=new ig(He,F.name,M=M||"firebase"),kt=new Yc(Be),$t=new ie.Yd(cr);$t.logLevel=ie.in.ERROR;const Cr=new fi($,se.SDK_VERSION,M,W,Ae,He),qn=new Gc(Cr,Be),Jt=new ng(qn,Be,kt,$t),Ii=new rg(F,Jt,kt,Be,$t);return function Yt(I){const T=(0,ne.m9)(I);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Ii),Ii},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(cr,"0.3.4"),(0,se.registerVersion)(cr,"0.3.4","esm2017")}();const Jc="/firebase-messaging-sw.js",ro="/firebase-cloud-messaging-push-scope",cu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",io="google.c.a.c_id",la="google.c.a.c_l",Ts="google.c.a.ts",du="google.c.a.e";var dr=(()=>{return(I=dr||(dr={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",dr;var I})();function pi(I){const T=new Uint8Array(I);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function El(I){const M=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(M),$=new Uint8Array(F.length);for(let W=0;W<F.length;++W)$[W]=F.charCodeAt(W);return $}const qr="fcm_token_details_db",ed="fcm_token_object_Store";function hu(I){return td.apply(this,arguments)}function td(){return td=(0,N.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(W=>W.name).includes(qr))return null;let T=null;return(yield(0,oe.openDb)(qr,5,function(){var F=(0,N.Z)(function*($){var W;if($.oldVersion<2||!$.objectStoreNames.contains(ed))return;const Ae=$.transaction.objectStore(ed),He=yield Ae.index("fcmSenderId").get(I);if(yield Ae.clear(),He)if(2===$.oldVersion){const Be=He;if(!Be.auth||!Be.p256dh||!Be.endpoint)return;T={token:Be.fcmToken,createTime:null!==(W=Be.createTime)&&void 0!==W?W:Date.now(),subscriptionOptions:{auth:Be.auth,p256dh:Be.p256dh,endpoint:Be.endpoint,swScope:Be.swScope,vapidKey:"string"==typeof Be.vapidKey?Be.vapidKey:pi(Be.vapidKey)}}}else if(3===$.oldVersion){const Be=He;T={token:Be.fcmToken,createTime:Be.createTime,subscriptionOptions:{auth:pi(Be.auth),p256dh:pi(Be.p256dh),endpoint:Be.endpoint,swScope:Be.swScope,vapidKey:pi(Be.vapidKey)}}}else if(4===$.oldVersion){const Be=He;T={token:Be.fcmToken,createTime:Be.createTime,subscriptionOptions:{auth:pi(Be.auth),p256dh:pi(Be.p256dh),endpoint:Be.endpoint,swScope:Be.swScope,vapidKey:pi(Be.vapidKey)}}}});return function($){return F.apply(this,arguments)}}())).close(),yield(0,oe.deleteDb)(qr),yield(0,oe.deleteDb)("fcm_vapid_details_db"),yield(0,oe.deleteDb)("undefined"),bl(T)?T:null}),td.apply(this,arguments)}function bl(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:T}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Cs="firebase-messaging-store";let rd=null;function Wt(){return rd||(rd=(0,oe.openDb)("firebase-messaging-database",1,I=>{0===I.oldVersion&&I.createObjectStore(Cs)})),rd}function Hh(I){return Io.apply(this,arguments)}function Io(){return(Io=(0,N.Z)(function*(I){const T=Zi(I),F=yield(yield Wt()).transaction(Cs).objectStore(Cs).get(T);if(F)return F;{const $=yield hu(I.appConfig.senderId);if($)return yield Un(I,$),$}})).apply(this,arguments)}function Un(I,T){return An.apply(this,arguments)}function An(){return(An=(0,N.Z)(function*(I,T){const M=Zi(I),$=(yield Wt()).transaction(Cs,"readwrite");return yield $.objectStore(Cs).put(T,M),yield $.complete,T})).apply(this,arguments)}function is(I){return To.apply(this,arguments)}function To(){return(To=(0,N.Z)(function*(I){const T=Zi(I),F=(yield Wt()).transaction(Cs,"readwrite");yield F.objectStore(Cs).delete(T),yield F.complete})).apply(this,arguments)}function Zi({appConfig:I}){return I.appId}const Bn=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qi(I,T){return Il.apply(this,arguments)}function Il(){return(Il=(0,N.Z)(function*(I,T){const M=yield da(I),F=Do(T),$={method:"POST",headers:M,body:JSON.stringify(F)};let W;try{W=yield(yield fetch(Yn(I.appConfig),$)).json()}catch(Ae){throw Bn.create("token-subscribe-failed",{errorInfo:Ae})}if(W.error)throw Bn.create("token-subscribe-failed",{errorInfo:W.error.message});if(!W.token)throw Bn.create("token-subscribe-no-token");return W.token})).apply(this,arguments)}function Ir(I,T){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,N.Z)(function*(I,T){const M=yield da(I),F=Do(T.subscriptionOptions),$={method:"PATCH",headers:M,body:JSON.stringify(F)};let W;try{W=yield(yield fetch(`${Yn(I.appConfig)}/${T.token}`,$)).json()}catch(Ae){throw Bn.create("token-update-failed",{errorInfo:Ae})}if(W.error)throw Bn.create("token-update-failed",{errorInfo:W.error.message});if(!W.token)throw Bn.create("token-update-no-token");return W.token})).apply(this,arguments)}function Co(I,T){return ht.apply(this,arguments)}function ht(){return(ht=(0,N.Z)(function*(I,T){const F={method:"DELETE",headers:yield da(I)};try{const W=yield(yield fetch(`${Yn(I.appConfig)}/${T}`,F)).json();if(W.error)throw Bn.create("token-unsubscribe-failed",{errorInfo:W.error.message})}catch($){throw Bn.create("token-unsubscribe-failed",{errorInfo:$})}})).apply(this,arguments)}function Yn({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function da(I){return ha.apply(this,arguments)}function ha(){return(ha=(0,N.Z)(function*({appConfig:I,installations:T}){const M=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Do({p256dh:I,auth:T,endpoint:M,vapidKey:F}){const $={web:{endpoint:M,auth:T,p256dh:I}};return F!==cu&&($.web.applicationPubKey=F),$}const Ao=6048e5;function Tl(I){return fu.apply(this,arguments)}function fu(){return(fu=(0,N.Z)(function*(I){const T=yield Hr(I.swRegistration,I.vapidKey),M={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:T.endpoint,auth:pi(T.getKey("auth")),p256dh:pi(T.getKey("p256dh"))},F=yield Hh(I.firebaseDependencies);if(F){if(pu(F.subscriptionOptions,M))return Date.now()>=F.createTime+Ao?Cl(I,{token:F.token,createTime:Date.now(),subscriptionOptions:M}):F.token;try{yield Co(I.firebaseDependencies,F.token)}catch($){console.warn($)}return so(I.firebaseDependencies,M)}return so(I.firebaseDependencies,M)})).apply(this,arguments)}function Ce(I){return At.apply(this,arguments)}function At(){return(At=(0,N.Z)(function*(I){const T=yield Hh(I.firebaseDependencies);T&&(yield Co(I.firebaseDependencies,T.token),yield is(I.firebaseDependencies));const M=yield I.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Cl(I,T){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,N.Z)(function*(I,T){try{const M=yield Ir(I.firebaseDependencies,T),F=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield Un(I.firebaseDependencies,F),M}catch(M){throw yield Ce(I),M}})).apply(this,arguments)}function so(I,T){return As.apply(this,arguments)}function As(){return(As=(0,N.Z)(function*(I,T){const F={token:yield qi(I,T),createTime:Date.now(),subscriptionOptions:T};return yield Un(I,F),F.token})).apply(this,arguments)}function Hr(I,T){return ss.apply(this,arguments)}function ss(){return(ss=(0,N.Z)(function*(I,T){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:El(T)})})).apply(this,arguments)}function pu(I,T){return T.vapidKey===I.vapidKey&&T.endpoint===I.endpoint&&T.auth===I.auth&&T.p256dh===I.p256dh}function gu(I){const T={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function mu(I,T){if(!T.notification)return;I.notification={};const M=T.notification.title;M&&(I.notification.title=M);const F=T.notification.body;F&&(I.notification.body=F);const $=T.notification.image;$&&(I.notification.image=$)}(T,I),function So(I,T){!T.data||(I.data=T.data)}(T,I),function fa(I,T){if(!T.fcmOptions)return;I.fcmOptions={};const M=T.fcmOptions.link;M&&(I.fcmOptions.link=M);const F=T.fcmOptions.analytics_label;F&&(I.fcmOptions.analyticsLabel=F)}(T,I),T}function jn(I){return"object"==typeof I&&!!I&&io in I}function gi(I,T){const M=[];for(let F=0;F<I.length;F++)M.push(I.charAt(F)),F<T.length&&M.push(T.charAt(F));return M.join("")}function os(I){return Bn.create("missing-app-config-values",{valueName:I})}gi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mi{constructor(T,M,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function yu(I){if(!I||!I.options)throw os("App Configuration Object");if(!I.name)throw os("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:M}=I;for(const F of T)if(!M[F])throw os(F);return{appName:I.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:$,installations:M,analyticsProvider:F}}_delete(){return Promise.resolve()}}function id(I){return xo.apply(this,arguments)}function xo(){return(xo=(0,N.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Jc,{scope:ro}),I.swRegistration.update().catch(()=>{})}catch(T){throw Bn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function vu(I,T){return pa.apply(this,arguments)}function pa(){return(pa=(0,N.Z)(function*(I,T){if(!T&&!I.swRegistration&&(yield id(I)),T||!I.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Bn.create("invalid-sw-registration");I.swRegistration=T}})).apply(this,arguments)}function Mo(I,T){return ga.apply(this,arguments)}function ga(){return(ga=(0,N.Z)(function*(I,T){T?I.vapidKey=T:I.vapidKey||(I.vapidKey=cu)})).apply(this,arguments)}function ya(){return(ya=(0,N.Z)(function*(I,T){if(!navigator)throw Bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bn.create("permission-blocked");return yield Mo(I,null==T?void 0:T.vapidKey),yield vu(I,null==T?void 0:T.serviceWorkerRegistration),Tl(I)})).apply(this,arguments)}function Dl(I,T,M){return Al.apply(this,arguments)}function Al(){return(Al=(0,N.Z)(function*(I,T,M){const F=Oo(T);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:M[io],message_name:M[la],message_time:M[Ts],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Oo(I){switch(I){case dr.NOTIFICATION_CLICKED:return"notification_open";case dr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function va(){return(va=(0,N.Z)(function*(I,T){const M=T.data;if(!M.isFirebaseMessaging)return;I.onMessageHandler&&M.messageType===dr.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(gu(M)):I.onMessageHandler.next(gu(M)));const F=M.data;jn(F)&&"1"===F[du]&&(yield Dl(I,M.messageType,F))})).apply(this,arguments)}const Sl="@firebase/messaging",_u=I=>{const T=new mi(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function sd(I,T){return va.apply(this,arguments)}(T,M)),T},od=I=>{const T=I.getProvider("messaging").getImmediate();return{getToken:F=>function ma(I,T){return ya.apply(this,arguments)}(T,F)}};function Qn(){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,N.Z)(function*(){try{yield(0,ne.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function og(){(0,se._registerComponent)(new ce.wA("messaging",_u,"PUBLIC")),(0,se._registerComponent)(new ce.wA("messaging-internal",od,"PRIVATE")),(0,se.registerVersion)(Sl,"0.9.8"),(0,se.registerVersion)(Sl,"0.9.8","esm2017")}();const Ss="analytics",wu="firebase_id",ud="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",as="https://www.googletagmanager.com/gtag/js",dn=new ie.Yd("@firebase/analytics");function Kh(I){return Promise.all(I.map(T=>T.catch(M=>M)))}function ag(I,T){const M=document.createElement("script");M.src=`${as}?l=${I}&id=${T}`,M.async=!0,document.head.appendChild(M)}function bu(I,T,M,F,$,W){return ld.apply(this,arguments)}function ld(){return(ld=(0,N.Z)(function*(I,T,M,F,$,W){const Ae=F[$];try{if(Ae)yield T[Ae];else{const Be=(yield Kh(M)).find(kt=>kt.measurementId===$);Be&&(yield T[Be.appId])}}catch(He){dn.error(He)}I("config",$,W)})).apply(this,arguments)}function ba(I,T,M,F,$){return cd.apply(this,arguments)}function cd(){return(cd=(0,N.Z)(function*(I,T,M,F,$){try{let W=[];if($&&$.send_to){let Ae=$.send_to;Array.isArray(Ae)||(Ae=[Ae]);const He=yield Kh(M);for(const Be of Ae){const kt=He.find(Cr=>Cr.measurementId===Be),$t=kt&&T[kt.appId];if(!$t){W=[];break}W.push($t)}}0===W.length&&(W=Object.values(T)),yield Promise.all(W),I("event",F,$||{})}catch(W){dn.error(W)}})).apply(this,arguments)}function an(){const I=window.document.getElementsByTagName("script");for(const T of Object.values(I))if(T.src&&T.src.includes(as))return T;return null}const Ye=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Yh=new class Jn{constructor(T={},M=1e3){this.throttleMetadata=T,this.intervalMillis=M}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,M){this.throttleMetadata[T]=M}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Ia(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function dd(I){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,N.Z)(function*(I){var T;const{appId:M,apiKey:F}=I,$={method:"GET",headers:Ia(F)},W=ud.replace("{app-id}",M),Ae=yield fetch(W,$);if(200!==Ae.status&&304!==Ae.status){let He="";try{const Be=yield Ae.json();(null===(T=Be.error)||void 0===T?void 0:T.message)&&(He=Be.error.message)}catch(Be){}throw Ye.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:He})}return Ae.json()})).apply(this,arguments)}function Rl(I){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,N.Z)(function*(I,T=Yh,M){const{appId:F,apiKey:$,measurementId:W}=I.options;if(!F)throw Ye.create("no-app-id");if(!$){if(W)return{measurementId:W,appId:F};throw Ye.create("no-api-key")}const Ae=T.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new Iu;return setTimeout((0,N.Z)(function*(){He.abort()}),void 0!==M?M:6e4),us({appId:F,apiKey:$,measurementId:W},Ae,He,T)})).apply(this,arguments)}function us(I,T,M){return vt.apply(this,arguments)}function vt(){return(vt=(0,N.Z)(function*(I,{throttleEndTimeMillis:T,backoffCount:M},F,$=Yh){const{appId:W,measurementId:Ae}=I;try{yield Qh(F,T)}catch(He){if(Ae)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${He.message}]`),{appId:W,measurementId:Ae};throw He}try{const He=yield dd(I);return $.deleteThrottleMetadata(W),He}catch(He){if(!Ca(He)){if($.deleteThrottleMetadata(W),Ae)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${He.message}]`),{appId:W,measurementId:Ae};throw He}const Be=503===Number(He.customData.httpStatus)?(0,ne.$s)(M,$.intervalMillis,30):(0,ne.$s)(M,$.intervalMillis),kt={throttleEndTimeMillis:Date.now()+Be,backoffCount:M+1};return $.setThrottleMetadata(W,kt),dn.debug(`Calling attemptFetch again in ${Be} millis`),us(I,kt,F,$)}})).apply(this,arguments)}function Qh(I,T){return new Promise((M,F)=>{const $=Math.max(T-Date.now(),0),W=setTimeout(M,$);I.addEventListener(()=>{clearTimeout(W),F(Ye.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Ca(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Iu{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function Ro(){return pn.apply(this,arguments)}function pn(){return(pn=(0,N.Z)(function*(){if(!(0,ne.hl)())return dn.warn(Ye.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(I){return dn.warn(Ye.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function No(){return(No=(0,N.Z)(function*(I,T,M,F,$,W,Ae){var He;const Be=Rl(I);Be.then(Jt=>{M[Jt.measurementId]=Jt.appId,I.options.measurementId&&Jt.measurementId!==I.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Jt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Jt=>dn.error(Jt)),T.push(Be);const kt=Ro().then(Jt=>{if(Jt)return F.getId()}),[$t,Cr]=yield Promise.all([Be,kt]);an()||ag(W,$t.measurementId),$("js",new Date);const qn=null!==(He=null==Ae?void 0:Ae.config)&&void 0!==He?He:{};return qn.origin="firebase",qn.update=!0,null!=Cr&&(qn[wu]=Cr),$("config",$t.measurementId,qn),$t.measurementId})).apply(this,arguments)}class Nl{constructor(T){this.app=T}_delete(){return delete vi[this.app.options.appId],Promise.resolve()}}let vi={},Pl=[];const Po={};let Fo,xn,ko="dataLayer",Cu=!1;function Zn(I,T,M){!function oo(){const I=[];if((0,ne.ru)()&&I.push("This is a browser extension environment."),(0,ne.zI)()||I.push("Cookies are not available."),I.length>0){const T=I.map((F,$)=>`(${$+1}) ${F}`).join(" "),M=Ye.create("invalid-analytics-context",{errorInfo:T});dn.warn(M.message)}}();const F=I.options.appId;if(!F)throw Ye.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Ye.create("no-api-key");dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vi[F])throw Ye.create("already-exists",{id:F});if(!Cu){!function Ea(I){let T=[];Array.isArray(window[I])?T=window[I]:window[I]=T}(ko);const{wrappedGtag:W,gtagCore:Ae}=function Ol(I,T,M,F,$){let W=function(...Ae){window[F].push(arguments)};return window[$]&&"function"==typeof window[$]&&(W=window[$]),window[$]=function ug(I,T,M,F){function W(){return(W=(0,N.Z)(function*(Ae,He,Be){try{"event"===Ae?yield ba(I,T,M,He,Be):"config"===Ae?yield bu(I,T,M,F,He,Be):I("set",He)}catch(kt){dn.error(kt)}})).apply(this,arguments)}return function $(Ae,He,Be){return W.apply(this,arguments)}}(W,I,T,M),{gtagCore:W,wrappedGtag:window[$]}}(vi,Pl,Po,ko,"gtag");xn=W,Fo=Ae,Cu=!0}return vi[F]=function Tu(I,T,M,F,$,W,Ae){return No.apply(this,arguments)}(I,Pl,Po,T,Fo,ko,M),new Nl(I)}function Aa(){return(Aa=(0,N.Z)(function*(I,T,M,F,$){if($&&$.global)I("event",M,F);else{const W=yield T;I("event",M,Object.assign(Object.assign({},F),{send_to:W}))}})).apply(this,arguments)}function Uo(){return kl.apply(this,arguments)}function kl(){return(kl=(0,N.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}const ao="@firebase/analytics";!function mn(){(0,se._registerComponent)(new ce.wA(Ss,(T,{options:M})=>Zn(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,se._registerComponent)(new ce.wA("analytics-internal",function I(T){try{const M=T.getProvider(Ss).getImmediate();return{logEvent:(F,$,W)=>function Tr(I,T,M,F){I=(0,ne.m9)(I),function gn(I,T,M,F,$){return Aa.apply(this,arguments)}(xn,vi[I.app.options.appId],T,M,F).catch($=>dn.error($))}(M,F,$,W)}}catch(M){throw Ye.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,se.registerVersion)(ao,"0.7.5"),(0,se.registerVersion)(ao,"0.7.5","esm2017")}();var Bo=P(4408),lg=P(7565);const ri=new class tf extends lg.v{}(class wi extends Bo.o{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(T,M,F):T.flush(this)}});var fd=P(4986),xa=P(8505),uo=P(9468),Fl=P(5363);const nf=new u.GfV("7.2.1"),jo="__angularfire_symbol__analyticsIsSupportedValue",pd="__angularfire_symbol__analyticsIsSupported",gd="__angularfire_symbol__remoteConfigIsSupportedValue",Ma="__angularfire_symbol__remoteConfigIsSupported",ut="__angularfire_symbol__messagingIsSupportedValue",Oa="__angularfire_symbol__messagingIsSupported";function md(I,T,M){if(T){if(1===T.length)return T[0];const W=T.filter(Ae=>Ae.app===M);if(1===W.length)return W[0]}return M.container.getProvider(I).getImmediate({optional:!0})}globalThis[pd]||(globalThis[pd]=Uo().then(I=>globalThis[jo]=I).catch(()=>globalThis[jo]=!1)),globalThis[Oa]||(globalThis[Oa]=Qn().then(I=>globalThis[ut]=I).catch(()=>globalThis[ut]=!1)),globalThis[Ma]||(globalThis[Ma]=Qc().then(I=>globalThis[gd]=I).catch(()=>globalThis[gd]=!1));const rf=(I,T)=>{const M=T?[T]:(0,Y.C6)(),F=[];return M.forEach($=>{$.container.getProvider(I).instances.forEach(Ae=>{F.includes(Ae)||F.push(Ae)})}),F};function fr(){}class Vl{constructor(T,M=ri){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,F){const $=this.zone;return this.delegate.schedule(function(Ae){$.runGuarded(()=>{T.apply(this,[Ae])})},M,F)}}class Ra{constructor(T){this.zone=T,this.task=null}call(T,M){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fr,{},fr,fr)),M.pipe((0,xa.b)({next:F,complete:F,error:F})).subscribe(T).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Du=(()=>{class I{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Vl(Zone.current)),this.insideAngular=M.run(()=>new Vl(Zone.current,fd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(M){return new(M||I)(u.LFG(u.R0b))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function bi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Zo(I){return bi(),function Au(I){return function(M){return(M=M.lift(new Ra(I.ngZone))).pipe((0,uo.R)(I.outsideAngular),(0,Fl.Q)(I.insideAngular))}}(bi())(I)}},2090:(it,Te,P)=>{"use strict";P.d(Te,{BH:()=>Le,LL:()=>le,ZR:()=>Ne,zI:()=>he,US:()=>ce,tV:()=>ue,$s:()=>dt,r3:()=>ui,Sg:()=>Ee,ne:()=>nr,vZ:()=>Pt,ZB:()=>U,pd:()=>ts,m9:()=>ns,z$:()=>Me,jU:()=>te,ru:()=>pe,d:()=>ge,xb:()=>vn,w1:()=>Ue,hl:()=>lt,uI:()=>Fe,UG:()=>z,b$:()=>be,G6:()=>$e,Mn:()=>Ie,xO:()=>Ks,zd:()=>Ur,eu:()=>Q});const se=function(L){const Z=[];let H=0;for(let ve=0;ve<L.length;ve++){let X=L.charCodeAt(ve);X<128?Z[H++]=X:X<2048?(Z[H++]=X>>6|192,Z[H++]=63&X|128):55296==(64512&X)&&ve+1<L.length&&56320==(64512&L.charCodeAt(ve+1))?(X=65536+((1023&X)<<10)+(1023&L.charCodeAt(++ve)),Z[H++]=X>>18|240,Z[H++]=X>>12&63|128,Z[H++]=X>>6&63|128,Z[H++]=63&X|128):(Z[H++]=X>>12|224,Z[H++]=X>>6&63|128,Z[H++]=63&X|128)}return Z},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,Z){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let X=0;X<L.length;X+=3){const Ze=L[X],mt=X+1<L.length,tn=mt?L[X+1]:0,kn=X+2<L.length,_n=kn?L[X+2]:0;let rr=(15&tn)<<2|_n>>6,bs=63&_n;kn||(bs=64,mt||(rr=64)),ve.push(H[Ze>>2],H[(3&Ze)<<4|tn>>4],H[rr],H[bs])}return ve.join("")},encodeString(L,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(L):this.encodeByteArray(se(L),Z)},decodeString(L,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(L):function(L){const Z=[];let H=0,ve=0;for(;H<L.length;){const X=L[H++];if(X<128)Z[ve++]=String.fromCharCode(X);else if(X>191&&X<224){const Ze=L[H++];Z[ve++]=String.fromCharCode((31&X)<<6|63&Ze)}else if(X>239&&X<365){const kn=((7&X)<<18|(63&L[H++])<<12|(63&L[H++])<<6|63&L[H++])-65536;Z[ve++]=String.fromCharCode(55296+(kn>>10)),Z[ve++]=String.fromCharCode(56320+(1023&kn))}else{const Ze=L[H++],mt=L[H++];Z[ve++]=String.fromCharCode((15&X)<<12|(63&Ze)<<6|63&mt)}}return Z.join("")}(this.decodeStringToByteArray(L,Z))},decodeStringToByteArray(L,Z){this.init_();const H=Z?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let X=0;X<L.length;){const Ze=H[L.charAt(X++)],tn=X<L.length?H[L.charAt(X)]:0;++X;const _n=X<L.length?H[L.charAt(X)]:64;++X;const Mt=X<L.length?H[L.charAt(X)]:64;if(++X,null==Ze||null==tn||null==_n||null==Mt)throw Error();ve.push(Ze<<2|tn>>4),64!==_n&&(ve.push(tn<<4&240|_n>>2),64!==Mt&&ve.push(_n<<6&192|Mt))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}},oe=function(L){return function(L){const Z=se(L);return ce.encodeByteArray(Z,!0)}(L).replace(/\./g,"")},ue=function(L){try{return ce.decodeString(L,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function U(L,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return Z}for(const H in Z)!Z.hasOwnProperty(H)||!J(H)||(L[H]=U(L[H],Z[H]));return L}function J(L){return"__proto__"!==L}class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,H)=>{this.resolve=Z,this.reject=H})}wrapCallback(Z){return(H,ve)=>{H?this.reject(H):this.resolve(ve),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(H):Z(H,ve))}}}function Ee(L,Z){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=Z||"demo-project",X=L.iat||0,Ze=L.sub||L.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:X,exp:X+3600,auth_time:X,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},L);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(mt)),""].join(".")}function Me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function z(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(L){return!1}}function te(){return"object"==typeof self&&self.self===self}function pe(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){return Me().indexOf("Electron/")>=0}function Ue(){const L=Me();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function Ie(){return Me().indexOf("MSAppHost/")>=0}function $e(){return!z()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lt(){return"object"==typeof indexedDB}function Q(){return new Promise((L,Z)=>{try{let H=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(ve);X.onsuccess=()=>{X.result.close(),H||self.indexedDB.deleteDatabase(ve),L(!0)},X.onupgradeneeded=()=>{H=!1},X.onerror=()=>{var Ze;Z((null===(Ze=X.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(H){Z(H)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ne extends Error{constructor(Z,H,ve){super(H),this.code=Z,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(Z,H,ve){this.service=Z,this.serviceName=H,this.errors=ve}create(Z,...H){const ve=H[0]||{},X=`${this.service}/${Z}`,Ze=this.errors[Z],mt=Ze?function It(L,Z){return L.replace(Nt,(H,ve)=>{const X=Z[ve];return null!=X?String(X):`<${ve}?>`})}(Ze,ve):"Error";return new Ne(X,`${this.serviceName}: ${mt} (${X}).`,ve)}}const Nt=/\{\$([^}]+)}/g;function ui(L,Z){return Object.prototype.hasOwnProperty.call(L,Z)}function vn(L){for(const Z in L)if(Object.prototype.hasOwnProperty.call(L,Z))return!1;return!0}function Pt(L,Z){if(L===Z)return!0;const H=Object.keys(L),ve=Object.keys(Z);for(const X of H){if(!ve.includes(X))return!1;const Ze=L[X],mt=Z[X];if(un(Ze)&&un(mt)){if(!Pt(Ze,mt))return!1}else if(Ze!==mt)return!1}for(const X of ve)if(!H.includes(X))return!1;return!0}function un(L){return null!==L&&"object"==typeof L}function Ks(L){const Z=[];for(const[H,ve]of Object.entries(L))Array.isArray(ve)?ve.forEach(X=>{Z.push(encodeURIComponent(H)+"="+encodeURIComponent(X))}):Z.push(encodeURIComponent(H)+"="+encodeURIComponent(ve));return Z.length?"&"+Z.join("&"):""}function Ur(L){const Z={};return L.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[X,Ze]=ve.split("=");Z[decodeURIComponent(X)]=decodeURIComponent(Ze)}}),Z}function ts(L){const Z=L.indexOf("?");if(!Z)return"";const H=L.indexOf("#",Z);return L.substring(Z,H>0?H:void 0)}function nr(L,Z){const H=new Xe(L,Z);return H.subscribe.bind(H)}class Xe{constructor(Z,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{Z(this)}).catch(ve=>{this.error(ve)})}next(Z){this.forEachObserver(H=>{H.next(Z)})}error(Z){this.forEachObserver(H=>{H.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,H,ve){let X;if(void 0===Z&&void 0===H&&void 0===ve)throw new Error("Missing Observer.");X=function Bt(L,Z){if("object"!=typeof L||null===L)return!1;for(const H of Z)if(H in L&&"function"==typeof L[H])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:H,complete:ve},void 0===X.next&&(X.next=Pn),void 0===X.error&&(X.error=Pn),void 0===X.complete&&(X.complete=Pn);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(mt){}}),this.observers.push(X),Ze}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,Z)}sendOne(Z,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{H(this.observers[Z])}catch(ve){"undefined"!=typeof console&&console.error&&console.error(ve)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pn(){}function dt(L,Z=1e3,H=2){const ve=Z*Math.pow(H,L),X=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+X)}function ns(L){return L&&L._delegate?L._delegate:L}},5942:(it,Te,P)=>{"use strict";var u=P(5e3);let Y=null;function N(){return Y}const ie=new u.OlP("DocumentToken");let oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ue(){return(0,u.LFG)(U)}()},providedIn:"platform"}),n})();const B=new u.OlP("Location Initialized");let U=(()=>{class n extends oe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){J()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){J()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Le(){return new U((0,u.LFG)(ie))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Ee(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Me(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let z=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function te(n){const e=(0,u.LFG)(ie).location;return new be((0,u.LFG)(oe),e&&e.origin||"")}()},providedIn:"root"}),n})();const pe=new u.OlP("appBaseHref");let be=(()=>{class n extends z{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ee(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fe(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const f=this.prepareExternalUrl(o+Fe(c));this._platformLocation.pushState(t,r,f)}replaceState(t,r,o,c){const f=this.prepareExternalUrl(o+Fe(c));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe),u.LFG(pe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ge=(()=>{class n extends z{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ee(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,c){let f=this.prepareExternalUrl(o+Fe(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,o,c){let f=this.prepareExternalUrl(o+Fe(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe),u.LFG(pe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Me($e(o)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fe(r))}normalize(t){return n.stripTrailingSlash(function tt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,$e(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=Ee,n.stripTrailingSlash=Me,n.\u0275fac=function(t){return new(t||n)(u.LFG(z),u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ie(){return new Ue((0,u.LFG)(z),(0,u.LFG)(oe))}()},providedIn:"root"}),n})();function $e(n){return n.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Zero=0]="Zero",he[he.One=1]="One",he[he.Two=2]="Two",he[he.Few=3]="Few",he[he.Many=4]="Many",he[he.Other=5]="Other",he))();const ts=u.kL8;class Lt{}let En=(()=>{class n extends Lt{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(ts(r||this.locale)(t)){case he.Zero:return"zero";case he.One:return"one";case he.Two:return"two";case he.Few:return"few";case he.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function to(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}let du=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Lt,useClass:En}]}),n})();function ca(n){return"server"===n}let bl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new nd((0,u.LFG)(ie),window)}),n})();class nd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Cs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const f=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(f)return f}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ht(this.window.history)||Ht(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ht(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Wt{}class Io extends class Hh extends class ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){Y||(Y=n)}(new Io)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function An(){return Un=Un||document.querySelector("base"),Un?Un.getAttribute("href"):null}();return null==t?null:function To(n){is=is||document.createElement("a"),is.setAttribute("href",n);const e=is.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Un=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return to(document.cookie,e)}}let is,Un=null;const Zi=new u.OlP("TRANSITION_ID"),Bn=[{provide:u.ip1,useFactory:function br(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=N(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[Zi,ie,u.zs3],multi:!0}];class qi{static init(){(0,u.VLi)(new qi)}addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let c=o.length,f=!1;const y=function(E){f=f||E,c--,0==c&&r(f)};o.forEach(function(E){E.whenStable(y)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Il=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ir=new u.OlP("EventManagerPlugins");let Ds=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const f=o[c];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ir),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Co{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=N().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let ht=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Yn=(()=>{class n extends ht{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,o.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(da),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(da))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function da(n){N().remove(n)}const ha={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Do=/%COMP%/g;function Qt(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Qt(n,o,t):(o=o.replace(Do,n),t.push(o))}return t}function so(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Hr=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new ss(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new mu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new So(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Qt(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ds),u.LFG(Yn),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ss{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ha[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const c=ha[o];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=ha[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,so(r)):this.eventManager.addEventListener(e,t,so(r))}}class mu extends ss{constructor(e,t,r,o){super(e),this.component=r;const c=Qt(o+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr=function At(n){return"_ngcontent-%COMP%".replace(Do,n)}(o+"-"+r.id),this.hostAttr=function Cl(n){return"_nghost-%COMP%".replace(Do,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class So extends ss{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Qt(o.id,o.styles,[]);for(let f=0;f<c.length;f++){const y=document.createElement("style");y.textContent=c[f],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let fa=(()=>{class n extends Co{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const jn=["alt","control","meta","shift"],yu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},os={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let id=(()=>{class n extends Co{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const c=n.parseEventName(r),f=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,c.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let f="";if(jn.forEach(E=>{const D=r.indexOf(E);D>-1&&(r.splice(D,1),f+=E+".")}),f+=c,0!=r.length||0===c.length)return null;const y={};return y.domEventName=o,y.fullKey=f,y}static getEventFullKey(t){let r="",o=function xo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&os.hasOwnProperty(e)&&(e=os[e]))}return yu[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),jn.forEach(c=>{c!=o&&mi[c](t)&&(r+=c+".")}),r+=o,r}static eventCallback(t,r,o){return c=>{n.getEventFullKey(c)===t&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ma=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function vu(){Io.makeCurrent(),qi.init()},multi:!0},{provide:ie,useFactory:function Mo(){return(0,u.RDi)(document),document},deps:[]}]),ya=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function pa(){return new u.qLn},deps:[]},{provide:Ir,useClass:fa,multi:!0,deps:[ie,u.R0b,u.Lbi]},{provide:Ir,useClass:id,multi:!0,deps:[ie]},{provide:Hr,useClass:Hr,deps:[Ds,Yn,u.AFp]},{provide:u.FYo,useExisting:Hr},{provide:ht,useExisting:Yn},{provide:Yn,useClass:Yn,deps:[ie]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ds,useClass:Ds,deps:[Ir,u.R0b]},{provide:Wt,useClass:Il,deps:[]}];let Dl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Zi,useExisting:u.AFp},Bn]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:ya,imports:[du,u.hGG]}),n})();"undefined"!=typeof window&&window;var an=P(8996),xs=P(7669);function Ye(...n){const e=(0,xs.yG)(n);return(0,an.D)(n,e)}var Ms=P(7579);class yi extends Ms.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Jn=P(8306);const{isArray:Yh}=Array,{getPrototypeOf:Ia,prototype:dd,keys:Ta}=Object;function Rl(n){if(1===n.length){const e=n[0];if(Yh(e))return{args:e,keys:null};if(function Hi(n){return n&&"object"==typeof n&&Ia(n)===dd}(e)){const t=Ta(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var us=P(4671),vt=P(4004);const{isArray:Qh}=Array;function Iu(n){return(0,vt.U)(e=>function Ca(n,e){return Qh(e)?n(...e):n(e)}(n,e))}function Ro(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var pn=P(5403),Tu=P(9672);function vi(n,e,t){n?(0,Tu.f)(t,n,e):e()}const Po=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ko=P(8189);function Fo(...n){return function Da(){return(0,ko.J)(1)}()((0,an.D)(n,(0,xs.yG)(n)))}var xn=P(8421);function Cu(n){return new Jn.y(e=>{(0,xn.Xf)(n()).subscribe(e)})}var Lo=P(515),oo=P(727),Zn=P(4482);function gn(){return(0,Zn.e)((n,e)=>{let t=null;n._refCount++;const r=new pn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,c=t;t=null,o&&(!c||o===c)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Aa extends Jn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Zn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new oo.w0;const t=this.getSubject();e.add(this.source.subscribe(new pn.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=oo.w0.EMPTY)}return e}refCount(){return gn()(this)}}function Mn(n,e){return(0,Zn.e)((t,r)=>{let o=null,c=0,f=!1;const y=()=>f&&!o&&r.complete();t.subscribe(new pn.Q(r,E=>{null==o||o.unsubscribe();let D=0;const O=c++;(0,xn.Xf)(n(E,O)).subscribe(o=new pn.Q(r,R=>r.next(e?e(E,R,O,D++):R),()=>{o=null,y()}))},()=>{f=!0,y()}))})}var $i=P(5698);function _i(...n){const e=(0,xs.yG)(n);return(0,Zn.e)((t,r)=>{(e?Fo(n,t,e):Fo(n,t)).subscribe(r)})}function Os(n,e,t,r,o){return(c,f)=>{let y=t,E=e,D=0;c.subscribe(new pn.Q(f,O=>{const R=D++;E=y?n(E,O,R):(y=!0,O),r&&f.next(E)},o&&(()=>{y&&f.next(E),f.complete()})))}}function Vo(n,e){return(0,Zn.e)(Os(n,e,arguments.length>=2,!0))}function hr(n,e){return(0,Zn.e)((t,r)=>{let o=0;t.subscribe(new pn.Q(r,c=>n.call(e,c,o++)&&r.next(c)))})}function $r(n){return(0,Zn.e)((e,t)=>{let c,r=null,o=!1;r=e.subscribe(new pn.Q(t,void 0,void 0,f=>{c=(0,xn.Xf)(n(f,$r(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,c.subscribe(t))})}var bn=P(5577),hd=P(576);function Vt(n,e){return(0,hd.m)(e)?(0,bn.z)(n,e,1):(0,bn.z)(n,1)}function Uo(n){return n<=0?()=>Lo.E:(0,Zn.e)((e,t)=>{let r=[];e.subscribe(new pn.Q(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function kl(n=Jh){return(0,Zn.e)((e,t)=>{let r=!1;e.subscribe(new pn.Q(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Jh(){return new Po}function Xh(n){return(0,Zn.e)((e,t)=>{let r=!1;e.subscribe(new pn.Q(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Sa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hr((o,c)=>n(o,c,r)):us.y,(0,$i.q)(1),t?Xh(e):kl(()=>new Po))}var Tr=P(8505);class ls{constructor(e,t){this.id=e,this.url=t}}class mn extends ls{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bo extends ls{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wi extends ls{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lg extends ls{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tf extends ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ri extends ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends ls{constructor(e,t,r,o,c){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fd extends ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xa extends ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uo{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nf{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jo{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pd{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gd{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ma{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ut="primary";class Oa{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Gr(n){return new Oa(n)}const cg="ngNavigationCancelingError";function Ll(n){const e=Error("NavigationCancelingError: "+n);return e[cg]=!0,e}function md(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const f=r[c],y=n[c];if(f.startsWith(":"))o[f.substring(1)]=y;else if(f!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function fr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let c=0;c<t.length;c++)if(o=t[c],!Vl(n[o],e[o]))return!1;return!0}function Vl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,c)=>r[c]===o)}return n===e}function Ra(n){return Array.prototype.concat.apply([],n)}function Du(n){return n.length>0?n[n.length-1]:null}function ir(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function hn(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,an.D)(Promise.resolve(n)):Ye(n)}const Na={exact:function Su(n,e,t){if(!Be(n.segments,e.segments)||!F(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Su(n.children[r],e.children[r],t))return!1;return!0},subset:T},Zo={exact:function sf(n,e){return fr(n,e)},subset:function I(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Vl(n[t],e[t]))},ignored:()=>!0};function Au(n,e,t){return Na[t.paths](n.root,e.root,t.matrixParams)&&Zo[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function T(n,e,t){return M(n,e,e.segments,t)}function M(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Be(o,t)||e.hasChildren()||!F(o,t,r))}if(n.segments.length===t.length){if(!Be(n.segments,t)||!F(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!T(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(Be(n.segments,o)&&F(n.segments,o,r)&&n.children[ut])&&M(n.children[ut],e,c,r)}}function F(n,e,t){return e.every((r,o)=>Zo[t](n[o].parameters,r.parameters))}class ${constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gr(this.queryParams)),this._queryParamMap}toString(){return qn.serialize(this)}}class W{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ir(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jt(this)}}class Ae{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Gr(this.parameters)),this._parameterMap}toString(){return vd(this)}}function Be(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class $t{}class Cr{parse(e){const t=new Oy(e);return new $(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ii(e.root,!0)}`,r=function xu(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Rs(t)}=${Rs(o)}`).join("&"):`${Rs(t)}=${Rs(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ci(n){return encodeURI(n)}(e.fragment)}`:""}`}}const qn=new Cr;function Jt(n){return n.segments.map(e=>vd(e)).join("/")}function Ii(n,e){if(!n.hasChildren())return Jt(n);if(e){const t=n.children[ut]?Ii(n.children[ut],!1):"",r=[];return ir(n.children,(o,c)=>{c!==ut&&r.push(`${c}:${Ii(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function kt(n,e){let t=[];return ir(n.children,(r,o)=>{o===ut&&(t=t.concat(e(r,o)))}),ir(n.children,(r,o)=>{o!==ut&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===ut?[Ii(n.children[ut],!1)]:[`${o}:${Ii(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ut]?`${Jt(n)}/${t[0]}`:`${Jt(n)}/(${t.join("//")})`}}function Ti(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rs(n){return Ti(n).replace(/%3B/gi,";")}function Gi(n){return Ti(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ns(n){return decodeURIComponent(n)}function Ul(n){return Ns(n.replace(/\+/g,"%20"))}function vd(n){return`${Gi(n.path)}${function of(n){return Object.keys(n).map(e=>`;${Gi(e)}=${Gi(n[e])}`).join("")}(n.parameters)}`}const Mu=/^[^\/()?;=#]+/;function Bl(n){const e=n.match(Mu);return e?e[0]:""}const Z0=/^[^=?&#]+/,af=/^[^&#]+/;class Oy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new W([],{}):new W([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ut]=new W(e,t)),r}parseSegment(){const e=Bl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ae(Ns(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Bl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Bl(this.remaining);o&&(r=o,this.capture(r))}e[Ns(t)]=Ns(r)}parseQueryParam(e){const t=function hg(n){const e=n.match(Z0);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function q0(n){const e=n.match(af);return e?e[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const o=Ul(t),c=Ul(r);if(e.hasOwnProperty(o)){let f=e[o];Array.isArray(f)||(f=[f],e[o]=f),f.push(c)}else e[o]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bl(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=ut);const f=this.parseChildren();t[c]=1===Object.keys(f).length?f[ut]:new W([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class _d{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=uf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=uf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ou(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ou(e,this._root).map(t=>t.value)}}function uf(n,e){if(n===e.value)return e;for(const t of e.children){const r=uf(n,t);if(r)return r}return null}function Ou(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ou(n,t);if(r.length)return r.unshift(e),r}return[]}class Di{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function cs(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class wd extends _d{constructor(e,t){super(e),this.snapshot=t,Zl(this,e)}toString(){return this.snapshot.toString()}}function jl(n,e){const t=function fg(n,e){const f=new Nu([],{},{},"",{},ut,e,null,n.root,-1,{});return new Ed("",new Di(f,[]))}(n,e),r=new yi([new Ae("",{})]),o=new yi({}),c=new yi({}),f=new yi({}),y=new yi(""),E=new Ps(r,o,f,y,c,ut,e,t.root);return E.snapshot=t.root,new wd(new Di(E,[]),t)}class Ps{constructor(e,t,r,o,c,f,y,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=f,this.component=y,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(e=>Gr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(e=>Gr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ru(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],c=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function pg(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Nu{constructor(e,t,r,o,c,f,y,E,D,O,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=f,this.component=y,this.routeConfig=E,this._urlSegment=D,this._lastPathIndex=O,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ed extends _d{constructor(e,t){super(t),this.url=e,Zl(this,t)}toString(){return gg(this._root)}}function Zl(n,e){e.value._routerState=n,e.children.forEach(t=>Zl(n,t))}function gg(n){const e=n.children.length>0?` { ${n.children.map(gg).join(", ")} } `:"";return`${n.value}${e}`}function bd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),fr(e.params,t.params)||n.params.next(t.params),function rf(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),fr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ql(n,e){const t=fr(n.params,e.params)&&function He(n,e){return Be(n,e)&&n.every((t,r)=>fr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ql(n.parent,e.parent))}function Hl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function qo(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Hl(n,r,o);return Hl(n,r)})}(n,e,t);return new Di(r,o)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const f=c.route;return f.value._futureSnapshot=e.value,f.children=e.children.map(y=>Hl(n,y)),f}}const r=function Pa(n){return new Ps(new yi(n.url),new yi(n.params),new yi(n.queryParams),new yi(n.fragment),new yi(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(c=>Hl(n,c));return new Di(r,o)}}function lf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $l(n){return"object"==typeof n&&null!=n&&n.outlets}function mg(n,e,t,r,o){let c={};return r&&ir(r,(f,y)=>{c[y]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),new $(t.root===n?e:Id(t.root,n,e),c,o)}function Id(n,e,t){const r={};return ir(n.children,(o,c)=>{r[c]=o===e?t:Id(o,e,t)}),new W(n.segments,r)}class Py{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&lf(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find($l);if(o&&o!==Du(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Vy(n,e,t){if(n||(n=new W([],{})),0===n.segments.length&&n.hasChildren())return Td(n,e,t);const r=function Pu(n,e,t){let r=0,o=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return c;const f=n.segments[o],y=t[r];if($l(y))break;const E=`${y}`,D=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&D&&"object"==typeof D&&void 0===D.outlets){if(!df(E,D,f))return c;r+=2}else{if(!df(E,{},f))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new W(n.segments.slice(0,r.pathIndex),{});return c.children[ut]=new W(n.segments.slice(r.pathIndex),n.children),Td(c,0,o)}return r.match&&0===o.length?new W(n.segments,{}):r.match&&!n.hasChildren()?Cd(n,e,t):r.match?Td(n,0,o):Cd(n,e,t)}function Td(n,e,t){if(0===t.length)return new W(n.segments,{});{const r=function Ly(n){return $l(n[0])?n[0].outlets:{[ut]:n}}(t),o={};return ir(r,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[f]=Vy(n.children[f],e,c))}),ir(n.children,(c,f)=>{void 0===r[f]&&(o[f]=c)}),new W(n.segments,o)}}function Cd(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const c=t[o];if($l(c)){const E=ks(c.outlets);return new W(r,E)}if(0===o&&lf(t[0])){r.push(new Ae(n.segments[e].path,ku(t[0]))),o++;continue}const f=$l(c)?c.outlets[ut]:`${c}`,y=o<t.length-1?t[o+1]:null;f&&y&&lf(y)?(r.push(new Ae(f,ku(y))),o+=2):(r.push(new Ae(f,{})),o++)}return new W(r,{})}function ks(n){const e={};return ir(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Cd(new W([],{}),0,t))}),e}function ku(n){const e={};return ir(n,(t,r)=>e[r]=`${t}`),e}function df(n,e,t){return n==t.path&&fr(e,t.parameters)}class hf{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),bd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=cs(t);e.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,o[f],r),delete o[f]}),ir(o,(c,f)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(o===c)if(o.component){const f=r.getContext(o.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=cs(e);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],o);if(r&&r.outlet){const f=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:f,route:e,contexts:y})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=cs(e);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=cs(t);e.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new gd(c.value.snapshot))}),e.children.length&&this.forwardEvent(new jo(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(bd(o),o===c)if(o.component){const f=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const f=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const y=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),bd(y.route.value),this.activateChildRoutes(e,null,f.children)}else{const y=function H0(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=y?y.module.componentFactoryResolver:null;f.attachRef=null,f.route=o,f.resolver=E,f.outlet&&f.outlet.activateWith(o,E),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}class _g{constructor(e,t){this.routes=e,this.module=t}}function ka(n){return"function"==typeof n}function ds(n){return n instanceof $}const Gl=Symbol("INITIAL_VALUE");function Fa(){return Mn(n=>function No(...n){const e=(0,xs.yG)(n),t=(0,xs.jO)(n),{args:r,keys:o}=Rl(n);if(0===r.length)return(0,an.D)([],e);const c=new Jn.y(function Nl(n,e,t=us.y){return r=>{vi(e,()=>{const{length:o}=n,c=new Array(o);let f=o,y=o;for(let E=0;E<o;E++)vi(e,()=>{const D=(0,an.D)(n[E],e);let O=!1;D.subscribe(new pn.Q(r,R=>{c[E]=R,O||(O=!0,y--),y||r.next(t(c.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,e,o?f=>Ro(o,f):us.y));return t?c.pipe(Iu(t)):c}(n.map(e=>e.pipe((0,$i.q)(1),_i(Gl)))).pipe(Vo((e,t)=>{let r=!1;return t.reduce((o,c,f)=>o!==Gl?o:(c===Gl&&(r=!0),r||!1!==c&&f!==t.length-1&&!ds(c)?o:c),e)},Gl),hr(e=>e!==Gl),(0,vt.U)(e=>ds(e)?e:!0===e),(0,$i.q)(1)))}class Uy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fu,this.attachRef=null}}class Fu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Uy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let zl=(()=>{class n{constructor(t,r,o,c,f){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=c||ut,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,E=new Dd(t,y,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Fu),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Dd{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ps?this.route:e===Fu?this.childContexts:this.parent.get(e,t)}}let Eg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[zl],encapsulation:2}),n})();function Ad(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];G0(r,rn(e,r))}}function G0(n,e){n.children&&Ad(n.children,e)}function rn(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function mf(n){const e=n.children&&n.children.map(mf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ut&&(t.component=Eg),t}function zi(n){return n.outlet||ut}function Lu(n,e){const t=n.filter(r=>zi(r)===e);return t.push(...n.filter(r=>zi(r)!==e)),t}const yf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Vu(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},yf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||md)(t,n,e);if(!c)return Object.assign({},yf);const f={};ir(c.posParams,(E,D)=>{f[D]=E.path});const y=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:y,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function Sd(n,e,t,r,o="corrected"){if(t.length>0&&function jy(n,e,t){return t.some(r=>Wl(n,e,r)&&zi(r)!==ut)}(n,t,r)){const f=new W(e,function vf(n,e,t,r){const o={};o[ut]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&zi(c)!==ut){const f=new W([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,o[zi(c)]=f}return o}(n,e,r,new W(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function z0(n,e,t){return t.some(r=>Wl(n,e,r))}(n,t,r)){const f=new W(n.segments,function By(n,e,t,r,o,c){const f={};for(const y of r)if(Wl(n,t,y)&&!o[zi(y)]){const E=new W([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===c?n.segments.length:e.length,f[zi(y)]=E}return Object.assign(Object.assign({},o),f)}(n,e,t,r,n.children,o));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const c=new W(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function Wl(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Uu(n,e,t,r){return!!(zi(n)===r||r!==ut&&Wl(e,t,n))&&("**"===n.path||Vu(e,n,t).matched)}function Dr(n,e,t){return 0===e.length&&!n.children[t]}class La{constructor(e){this.segmentGroup=e||null}}class _f{constructor(e){this.urlTree=e}}function Kl(n){return new Jn.y(e=>e.error(new La(n)))}function sr(n){return new Jn.y(e=>e.error(new _f(n)))}function Va(n){return new Jn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Ef{constructor(e,t,r,o,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Sd(this.urlTree.root,[],[],this.config).segmentGroup,t=new W(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ut).pipe((0,vt.U)(c=>this.createUrlTree(bf(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe($r(c=>{if(c instanceof _f)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof La?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ut).pipe((0,vt.U)(o=>this.createUrlTree(bf(o),e.queryParams,e.fragment))).pipe($r(o=>{throw o instanceof La?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new W([],{[ut]:e}):e;return new $(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,vt.U)(c=>new W([],c))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,an.D)(o).pipe(Vt(c=>{const f=r.children[c],y=Lu(t,c);return this.expandSegmentGroup(e,y,f,c).pipe((0,vt.U)(E=>({segment:E,outlet:c})))}),Vo((c,f)=>(c[f.outlet]=f.segment,c),{}),function ef(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hr((o,c)=>n(o,c,r)):us.y,Uo(1),t?Xh(e):kl(()=>new Po))}())}expandSegment(e,t,r,o,c,f){return(0,an.D)(r).pipe(Vt(y=>this.expandSegmentAgainstRoute(e,t,r,y,o,c,f).pipe($r(D=>{if(D instanceof La)return Ye(null);throw D}))),Sa(y=>!!y),$r((y,E)=>{if(y instanceof Po||"EmptyError"===y.name){if(Dr(t,o,c))return Ye(new W([],{}));throw new La(t)}throw y}))}expandSegmentAgainstRoute(e,t,r,o,c,f,y){return Uu(o,t,c,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,c,f):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,f):Kl(t):Kl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sr(c):this.lineralizeSegments(r,c).pipe((0,bn.z)(f=>{const y=new W(f,{});return this.expandSegment(e,y,t,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,f){const{matched:y,consumedSegments:E,lastChild:D,positionalParamSegments:O}=Vu(t,o,c);if(!y)return Kl(t);const R=this.applyRedirectCommands(E,o.redirectTo,O);return o.redirectTo.startsWith("/")?sr(R):this.lineralizeSegments(o,R).pipe((0,bn.z)(q=>this.expandSegment(e,t,r,q.concat(c.slice(D)),f,!1)))}matchSegmentAgainstRoute(e,t,r,o,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ye(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,vt.U)(q=>(r._loadedConfig=q,new W(o,{})))):Ye(new W(o,{}));const{matched:f,consumedSegments:y,lastChild:E}=Vu(t,r,o);if(!f)return Kl(t);const D=o.slice(E);return this.getChildConfig(e,r,o).pipe((0,bn.z)(R=>{const q=R.module,G=R.routes,{segmentGroup:re,slicedSegments:ke}=Sd(t,y,D,G),ze=new W(re.segments,re.children);if(0===ke.length&&ze.hasChildren())return this.expandChildren(q,G,ze).pipe((0,vt.U)(xt=>new W(y,xt)));if(0===G.length&&0===ke.length)return Ye(new W(y,{}));const pt=zi(r)===c;return this.expandSegment(q,ze,G,ke,pt?ut:c,!0).pipe((0,vt.U)(fn=>new W(y.concat(fn.segments),fn.children)))}))}getChildConfig(e,t,r){return t.children?Ye(new _g(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ye(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,bn.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,vt.U)(c=>(t._loadedConfig=c,c))):function wf(n){return new Jn.y(e=>e.error(Ll(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):Ye(new _g([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?Ye(o.map(f=>{const y=e.get(f);let E;if(function pf(n){return n&&ka(n.canLoad)}(y))E=y.canLoad(t,r);else{if(!ka(y))throw new Error("Invalid CanLoad guard");E=y(t,r)}return hn(E)})).pipe(Fa(),(0,Tr.b)(f=>{if(!ds(f))return;const y=Ll(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw y.url=f,y}),(0,vt.U)(f=>!0===f)):Ye(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ye(r);if(o.numberOfChildren>1||!o.children[ut])return Va(e.redirectTo);o=o.children[ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const c=this.createSegmentGroup(e,t.root,r,o);return new $(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ir(e,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const y=o.substring(1);r[c]=t[y]}else r[c]=o}),r}createSegmentGroup(e,t,r,o){const c=this.createSegments(e,t.segments,r,o);let f={};return ir(t.children,(y,E)=>{f[E]=this.createSegmentGroup(e,y,r,o)}),new W(c,f)}createSegments(e,t,r,o){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,o):this.findOrReturn(c,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function bf(n){const e={};for(const r of Object.keys(n.children)){const c=bf(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function xd(n){if(1===n.numberOfChildren&&n.children[ut]){const e=n.children[ut];return new W(n.segments.concat(e.segments),e.children)}return n}(new W(n.segments,e))}class Yl{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ql{constructor(e,t){this.component=e,this.route=t}}function qy(n,e,t){const r=n._root;return Jl(r,e?e._root:null,t,[r.value])}function Ua(n,e,t){const r=function $y(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Jl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=cs(e);return n.children.forEach(f=>{(function If(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,f=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const E=function Gy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Be(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Be(n.url,e.url)||!fr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ql(n,e)||!fr(n.queryParams,e.queryParams);default:return!ql(n,e)}}(f,c,c.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new Yl(r)):(c.data=f.data,c._resolvedData=f._resolvedData),Jl(n,e,c.component?y?y.children:null:t,r,o),E&&y&&y.outlet&&y.outlet.isActivated&&o.canDeactivateChecks.push(new Ql(y.outlet.component,f))}else f&&Ho(e,y,o),o.canActivateChecks.push(new Yl(r)),Jl(n,null,c.component?y?y.children:null:t,r,o)})(f,c[f.value.outlet],t,r.concat([f.value]),o),delete c[f.value.outlet]}),ir(c,(f,y)=>Ho(f,t.getContext(y),o)),o}function Ho(n,e,t){const r=cs(n),o=n.value;ir(r,(c,f)=>{Ho(c,o.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new Ql(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Df{}function Af(n){return new Jn.y(e=>e.error(n))}class Md{constructor(e,t,r,o,c,f){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const e=Sd(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ut);if(null===t)return null;const r=new Nu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ut,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Di(r,t),c=new Ed(this.url,o);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,r=Ru(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const c of Object.keys(t.children)){const f=t.children[c],y=Lu(e,c),E=this.processSegmentGroup(y,f,c);if(null===E)return null;r.push(...E)}const o=$o(r);return function Jy(n){n.sort((e,t)=>e.value.outlet===ut?-1:t.value.outlet===ut?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const c of e){const f=this.processSegmentAgainstRoute(c,t,r,o);if(null!==f)return f}return Dr(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Uu(e,t,r,o))return null;let c,f=[],y=[];if("**"===e.path){const G=r.length>0?Du(r).parameters:{};c=new Nu(r,G,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mf(e),zi(e),e.component,e,Sf(t),xf(t)+r.length,Tg(e))}else{const G=Vu(t,e,r);if(!G.matched)return null;f=G.consumedSegments,y=r.slice(G.lastChild),c=new Nu(f,G.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mf(e),zi(e),e.component,e,Sf(t),xf(t)+f.length,Tg(e))}const E=function Ai(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:O}=Sd(t,f,y,E.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);if(0===O.length&&D.hasChildren()){const G=this.processChildren(E,D);return null===G?null:[new Di(c,G)]}if(0===E.length&&0===O.length)return[new Di(c,[])];const R=zi(e)===o,q=this.processSegment(E,D,O,R?ut:o);return null===q?null:[new Di(c,q)]}}function ec(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $o(n){const e=[],t=new Set;for(const r of n){if(!ec(r)){e.push(r);continue}const o=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=$o(r.children);e.push(new Di(r.value,o))}return e.filter(r=>!t.has(r))}function Sf(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function xf(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Mf(n){return n.data||{}}function Tg(n){return n.resolve||{}}function Ba(n){return Mn(e=>{const t=n(e);return t?(0,an.D)(t).pipe((0,vt.U)(()=>e)):Ye(e)})}class tc extends class zr{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ja=new u.OlP("ROUTES");class Rf{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,vt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=c.create(e);return new _g(Ra(f.injector.get(ja,void 0,u.XFs.Self|u.XFs.Optional)).map(mf),f)}),$r(c=>{throw t._loader$=void 0,c}));return t._loader$=new Aa(o,()=>new Ms.x).pipe(gn()),t._loader$}loadModuleFactory(e){return hn(e()).pipe((0,bn.z)(t=>t instanceof u.YKP?Ye(t):(0,an.D)(this.compiler.compileModuleAsync(t))))}}class Vs{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Rd(n){throw n}function Nf(n,e,t){return e.parse("/")}function Dg(n,e){return Ye(null)}const nc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ev={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Si=(()=>{class n{constructor(t,r,o,c,f,y,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ms.x,this.errorHandler=Rd,this.malformedUriErrorHandler=Nf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Dg,afterPreactivation:Dg},this.urlHandlingStrategy=new Vs,this.routeReuseStrategy=new tc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(u.h0i),this.console=f.get(u.c2e);const R=f.get(u.R0b);this.isNgZoneEnabled=R instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function yd(){return new $(new W([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Rf(f,y,q=>this.triggerEvent(new uo(q)),q=>this.triggerEvent(new Fl(q))),this.routerState=jl(this.currentUrlTree,this.rootComponentType),this.transitions=new yi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(hr(o=>0!==o.id),(0,vt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Mn(o=>{let c=!1,f=!1;return Ye(o).pipe((0,Tr.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Mn(y=>{const E=this.browserUrlTree.toString(),D=!this.navigated||y.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Nd(y.source)&&(this.browserUrlTree=y.extractedUrl),Ye(y).pipe(Mn(R=>{const q=this.transitions.getValue();return r.next(new mn(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),q!==this.transitions.getValue()?Lo.E:Promise.resolve(R)}),function bg(n,e,t,r){return Mn(o=>function Zy(n,e,t,r,o){return new Ef(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,vt.U)(c=>Object.assign(Object.assign({},o),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Tr.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function Fs(n,e,t,r,o){return(0,bn.z)(c=>function Qy(n,e,t,r,o="emptyOnly",c="legacy"){try{const f=new Md(n,e,t,r,o,c).recognize();return null===f?Af(new Df):Ye(f)}catch(f){return Af(f)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),r,o).pipe((0,vt.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Tr.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(G,R)}this.browserUrlTree=R.urlAfterRedirects}const q=new tf(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(q)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:q,extractedUrl:G,source:re,restoredState:ke,extras:ze}=y,pt=new mn(q,this.serializeUrl(G),re,ke);r.next(pt);const qt=jl(G,this.rootComponentType).snapshot;return Ye(Object.assign(Object.assign({},y),{targetSnapshot:qt,urlAfterRedirects:G,extras:Object.assign(Object.assign({},ze),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,y.resolve(null),Lo.E}),Ba(y=>{const{targetSnapshot:E,id:D,extractedUrl:O,rawUrl:R,extras:{skipLocationChange:q,replaceUrl:G}}=y;return this.hooks.beforePreactivation(E,{navigationId:D,appliedUrlTree:O,rawUrlTree:R,skipLocationChange:!!q,replaceUrl:!!G})}),(0,Tr.b)(y=>{const E=new ri(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),(0,vt.U)(y=>Object.assign(Object.assign({},y),{guards:qy(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function Xl(n,e){return(0,bn.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:f}}=t;return 0===f.length&&0===c.length?Ye(Object.assign(Object.assign({},t),{guardsResult:!0})):function Ig(n,e,t,r){return(0,an.D)(n).pipe((0,bn.z)(o=>function Cf(n,e,t,r,o){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?Ye(c.map(y=>{const E=Ua(y,e,o);let D;if(function gf(n){return n&&ka(n.canDeactivate)}(E))D=hn(E.canDeactivate(n,e,t,r));else{if(!ka(E))throw new Error("Invalid CanDeactivate guard");D=hn(E(n,e,t,r))}return D.pipe(Sa())})).pipe(Fa()):Ye(!0)}(o.component,o.route,t,e,r)),Sa(o=>!0!==o,!0))}(f,r,o,n).pipe((0,bn.z)(y=>y&&function ff(n){return"boolean"==typeof n}(y)?function zy(n,e,t,r){return(0,an.D)(e).pipe(Vt(o=>Fo(function Ky(n,e){return null!==n&&e&&e(new nf(n)),Ye(!0)}(o.route.parent,r),function Wy(n,e){return null!==n&&e&&e(new pd(n)),Ye(!0)}(o.route,r),function Tf(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(f=>function Hy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>Cu(()=>Ye(f.guards.map(E=>{const D=Ua(E,f.node,t);let O;if(function $0(n){return n&&ka(n.canActivateChild)}(D))O=hn(D.canActivateChild(r,n));else{if(!ka(D))throw new Error("Invalid CanActivateChild guard");O=hn(D(r,n))}return O.pipe(Sa())})).pipe(Fa())));return Ye(c).pipe(Fa())}(n,o.path,t),function Yy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ye(!0);const o=r.map(c=>Cu(()=>{const f=Ua(c,e,t);let y;if(function wg(n){return n&&ka(n.canActivate)}(f))y=hn(f.canActivate(e,n));else{if(!ka(f))throw new Error("Invalid CanActivate guard");y=hn(f(e,n))}return y.pipe(Sa())}));return Ye(o).pipe(Fa())}(n,o.route,t))),Sa(o=>!0!==o,!0))}(r,c,n,e):Ye(y)),(0,vt.U)(y=>Object.assign(Object.assign({},t),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,Tr.b)(y=>{if(ds(y.guardsResult)){const D=Ll(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw D.url=y.guardsResult,D}const E=new Ei(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(E)}),hr(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),Ba(y=>{if(y.guards.canActivateChecks.length)return Ye(y).pipe((0,Tr.b)(E=>{const D=new fd(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}),Mn(E=>{let D=!1;return Ye(E).pipe(function Ls(n,e){return(0,bn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Ye(t);let c=0;return(0,an.D)(o).pipe(Vt(f=>function Od(n,e,t,r){return function Xy(n,e,t,r){const o=Object.keys(n);if(0===o.length)return Ye({});const c={};return(0,an.D)(o).pipe((0,bn.z)(f=>function Cg(n,e,t,r){const o=Ua(n,e,r);return hn(o.resolve?o.resolve(e,t):o(e,t))}(n[f],e,t,r).pipe((0,Tr.b)(y=>{c[f]=y}))),Uo(1),(0,bn.z)(()=>Object.keys(c).length===o.length?Ye(c):Lo.E))}(n._resolve,n,e,r).pipe((0,vt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),Ru(n,t).resolve),null)))}(f.route,r,n,e)),(0,Tr.b)(()=>c++),Uo(1),(0,bn.z)(f=>c===o.length?Ye(t):Lo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Tr.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Tr.b)(E=>{const D=new xa(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}))}),Ba(y=>{const{targetSnapshot:E,id:D,extractedUrl:O,rawUrl:R,extras:{skipLocationChange:q,replaceUrl:G}}=y;return this.hooks.afterPreactivation(E,{navigationId:D,appliedUrlTree:O,rawUrlTree:R,skipLocationChange:!!q,replaceUrl:!!G})}),(0,vt.U)(y=>{const E=function Ry(n,e,t){const r=Hl(n,e._root,t?t._root:void 0);return new wd(r,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:E})}),(0,Tr.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,e,t)=>(0,vt.U)(r=>(new hf(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,Tr.b)({next(){c=!0},complete(){c=!0}}),function ao(n){return(0,Zn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var y;c||f||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===o.id&&(this.currentNavigation=null)}),$r(y=>{if(f=!0,function dg(n){return n&&n[cg]}(y)){const E=ds(y.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const D=new wi(o.id,this.serializeUrl(o.extractedUrl),y.message);r.next(D),E?setTimeout(()=>{const O=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),R={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Nd(o.source)};this.scheduleNavigation(O,"imperative",null,R,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new lg(o.id,this.serializeUrl(o.extractedUrl),y);r.next(E);try{o.resolve(this.errorHandler(y))}catch(D){o.reject(D)}}return Lo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const c={replaceUrl:!0},f=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(f){const E=Object.assign({},f);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(c.state=E)}const y=this.parseUrl(t.url);this.scheduleNavigation(y,r,f,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ad(t),this.config=t.map(mf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:c,fragment:f,queryParamsHandling:y,preserveFragment:E}=r,D=o||this.routerState.root,O=E?this.currentUrlTree.fragment:f;let R=null;switch(y){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=c||null}return null!==R&&(R=this.removeEmptyProps(R)),function Ny(n,e,t,r,o){if(0===t.length)return mg(e.root,e.root,e,r,o);const c=function yg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Py(!0,0,n);let e=0,t=!1;const r=n.reduce((o,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const y={};return ir(c.outlets,(E,D)=>{y[D]="string"==typeof E?E.split("/"):E}),[...o,{outlets:y}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===f?(c.split("/").forEach((y,E)=>{0==E&&"."===y||(0==E&&""===y?t=!0:".."===y?e++:""!=y&&o.push(y))}),o):[...o,c]},[]);return new Py(t,e,r)}(t);if(c.toRoot())return mg(e.root,new W([],{}),e,r,o);const f=function ky(n,e,t){if(n.isAbsolute)return new cf(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new cf(c,c===e.root,0)}const r=lf(n.commands[0])?0:1;return function Fy(n,e,t){let r=n,o=e,c=t;for(;c>o;){if(c-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new cf(r,!1,o-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,e,n),y=f.processChildren?Td(f.segmentGroup,f.index,c.commands):Vy(f.segmentGroup,f.index,c.commands);return mg(f.segmentGroup,y,e,r,o)}(D,this.currentUrlTree,t,R,null!=O?O:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=ds(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function tv(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},nc):!1===r?Object.assign({},ev):r,ds(t))return Au(this.currentUrlTree,t,o);const c=this.parseUrl(t);return Au(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const c=t[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Bo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,c,f){var y,E,D;if(this.disposed)return Promise.resolve(!1);const O=this.transitions.value,R=Nd(r)&&O&&!Nd(O.source),q=O.rawUrl.toString()===t.toString(),G=O.id===(null===(y=this.currentNavigation)||void 0===y?void 0:y.id);if(R&&q&&G)return Promise.resolve(!0);let ke,ze,pt;f?(ke=f.resolve,ze=f.reject,pt=f.promise):pt=new Promise((xt,Nn)=>{ke=xt,ze=Nn});const qt=++this.navigationId;let fn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),fn=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):fn=0,this.setTransition({id:qt,targetPageId:fn,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:ke,reject:ze,promise:pt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pt.catch(xt=>Promise.reject(xt))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(t,r=!1){var o,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new wi(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Nd(n){return"imperative"!==n}let h=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Ms.x,this.subscription=t.events.subscribe(c=>{c instanceof Bo&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,c,f){if(0!==t||r||o||c||f||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const y={skipLocationChange:p(this.skipLocationChange),replaceUrl:p(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:p(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Si),u.Y36(Ps),u.Y36(z))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function p(n){return""===n||!!n}class S{}class ee{preload(e,t){return Ye(null)}}let Re=(()=>{class n{constructor(t,r,o,c){this.router=t,this.injector=o,this.preloadingStrategy=c,this.loader=new Rf(o,r,E=>t.triggerEvent(new uo(E)),E=>t.triggerEvent(new Fl(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(hr(t=>t instanceof Bo),Vt(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;o.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(t,c)):c.children&&o.push(this.processRoutes(t,c.children));return(0,an.D)(o).pipe((0,ko.J)(),(0,vt.U)(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ye(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,bn.z)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Si),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(S))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Bo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ma&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ma(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ge=new u.OlP("ROUTER_CONFIGURATION"),St=new u.OlP("ROUTER_FORROOT_GUARD"),or=[Ue,{provide:$t,useClass:Cr},{provide:Si,useFactory:function Ff(n,e,t,r,o,c,f={},y,E){const D=new Si(null,n,e,t,r,o,Ra(c));return y&&(D.urlHandlingStrategy=y),E&&(D.routeReuseStrategy=E),function ic(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(f,D),f.enableTracing&&D.events.subscribe(O=>{var R,q;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(q=console.groupEnd)||void 0===q||q.call(console)}),D},deps:[$t,Fu,Ue,u.zs3,u.Sil,ja,Ge,[class Go{},new u.FiY],[class Of{},new u.FiY]]},Fu,{provide:Ps,useFactory:function ju(n){return n.routerState.root},deps:[Si]},Re,ee,class V{preload(e,t){return t().pipe($r(()=>Ye(null)))}},{provide:Ge,useValue:{enableTracing:!1}}];function hs(){return new u.PXZ("Router",Si)}let rc=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[or,Bu(t),{provide:St,useFactory:kf,deps:[[Si,new u.FiY,new u.tp0]]},{provide:Ge,useValue:r||{}},{provide:z,useFactory:Pf,deps:[oe,[new u.tBr(pe),new u.FiY],Ge]},{provide:xe,useFactory:Pd,deps:[Si,bl,Ge]},{provide:S,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:ee},{provide:u.PXZ,multi:!0,useFactory:hs},[sc,{provide:u.ip1,multi:!0,useFactory:Lf,deps:[sc]},{provide:Fd,useFactory:kd,deps:[sc]},{provide:u.tb,multi:!0,useExisting:Fd}]]}}static forChild(t){return{ngModule:n,providers:[Bu(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(St,8),u.LFG(Si,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Pd(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new xe(n,e,t)}function Pf(n,e,t={}){return t.useHash?new ge(n,e):new be(n,e)}function kf(n){return"guarded"}function Bu(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:ja,multi:!0,useValue:n}]}let sc=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ms.x}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(y=>r=y),c=this.injector.get(Si),f=this.injector.get(Ge);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?Ye(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Ge),o=this.injector.get(Re),c=this.injector.get(xe),f=this.injector.get(Si),y=this.injector.get(u.z2F);t===y.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),o.setUpPreloading(),c.init(),f.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Lf(n){return n.appInitializer.bind(n)}function kd(n){return n.bootstrapListener.bind(n)}const Fd=new u.OlP("Router Initializer");let W0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-about"]],decls:155,vars:0,consts:[[1,"animated","fadeIn","section","section-lg","section-main-bunner","section-main-bunner-filter","text-center"],[1,"main-bunner-img",2,"background-image","url(assets/img/about.png)","background-size","cover"],[1,"main-bunner-inner"],[1,"container"],[1,"box-default"],[1,"box-default-title"],[1,"box-default-decor"],[1,"big","box-default-text"],[1,"section","section-lg","bg-gray-1"],[1,"row","row-50"],[1,"col-lg-6","pr-xl-5"],["src","https://livedemo00.template-help.com/wt_53136/images/about-us-1-518x434.jpg","alt","","width","518","height","434"],[1,"col-lg-6"],[1,"text-with-divider"],[1,"divider"],[1,"section","section-lg","bg-white"],[1,"text-center"],[1,"row","row-30","row-md-60"],[1,"col-md-6","col-lg-4"],[1,"box-icon-modern"],[1,"box-icon-inner","decorate-triangle"],[1,"icon-xl","restaurant-icon-30"],[1,"box-icon-caption"],["href","#"],[1,"box-icon-inner","decorate-circle"],[1,"icon-xl","restaurant-icon-11"],[1,"box-icon-inner","decorate-rectangle"],[1,"icon-xl","restaurant-icon-36"],[1,"icon-xl","restaurant-icon-27"],[1,"icon-xl","restaurant-icon-34"],[1,"icon-xl","restaurant-icon-26"],["data-parallax-img","assets/img/fondo.jpg","src","https://sp.depositphotos.com/stock-photos/platos-italianos.html",1,"parallax-container"],[1,"parallax-content","section-xl","context-dark","text-center","bg-dark-filter","bg-dark-filter-2"],["data-arrows","true","data-loop","false","data-dots","false","data-swipe","true","data-items","1","data-child","#child-carousel","data-for","#child-carousel",1,"slick-slider","carousel-parent","slick-style-1"],[1,"item"],[1,"testimonials-modern"],[1,"testimonials-modern-text"],[1,"testimonials-modern-name"],["id","child-carousel","data-for",".carousel-parent","data-arrows","false","data-loop","false","data-dots","false","data-swipe","true","data-items","4","data-xs-items","4","data-sm-items","4","data-md-items","4","data-lg-items","4","data-xl-items","4","data-slide-to-scroll","1",1,"slick-slider","slider-dots"],[1,"slick-dot-item"],["src","https://livedemo00.template-help.com/wt_53136/images/user-1-60x60.jpg","alt","","width","60","height","60"],["src","https://livedemo00.template-help.com/wt_53136/images/user-2-60x60.jpg","alt","","width","60","height","60"],["src","https://livedemo00.template-help.com/wt_53136/images/user-3-60x60.jpg","alt","","width","60","height","60"],["src","https://livedemo00.template-help.com/wt_53136/images/user-4-60x60.jpg","alt","","width","60","height","60"],[1,"section","section-lg","bg-gray-1","text-center"],[1,"row","row-30"],[1,"col-6","col-md-3"],["href","#",1,"clients-default"],["src","https://livedemo00.template-help.com/wt_53136/images/clients-1-270x119.png","alt","","width","270","height","119"],["src","https://livedemo00.template-help.com/wt_53136/images/clients-2-270x119.png","alt","","width","270","height","119"],["src","https://livedemo00.template-help.com/wt_53136/images/clients-3-270x119.png","alt","","width","270","height","119"],["src","https://livedemo00.template-help.com/wt_53136/images/clients-4-270x119.png","alt","","width","270","height","119"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u._UZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"h1",5),u._uU(6,"PARISO"),u.qZA(),u._UZ(7,"div",6),u.TgZ(8,"p",7),u._uU(9," La tradici\xf3n italiana hecha restaurante"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"section",8),u.TgZ(11,"div",3),u.TgZ(12,"div",9),u.TgZ(13,"div",10),u._UZ(14,"img",11),u.qZA(),u.TgZ(15,"div",12),u.TgZ(16,"h2"),u._uU(17,"Sobre Nuestro Restaurante"),u.qZA(),u.TgZ(18,"div",13),u._UZ(19,"div",14),u.TgZ(20,"h4"),u._uU(21,"Ofrecemos los mejores platos italianos en un ambiente agradable y tranquilo."),u.qZA(),u.qZA(),u.TgZ(22,"p"),u._uU(23,"El esp\xedritu de Pariso viene desde la Regione Marche italiana. En 1938, despu\xe9s de vivir la guerra, la Nonna Valentina llega a Mendoza con sus hijos y dos a\xf1os despu\xe9s crea la primera casa"),u.qZA(),u.TgZ(24,"p"),u._uU(25,"Desde ese d\xeda hasta ahora se mantiene el mismo esp\xedritu audaz y la misma idea: que nuestros clientes pasen un momento agradable en nuestra casa. Hoy todos los miembros de esta familia creemos en generar buenos momentos cocinando y sirviendo con amor."),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(26,"section",15),u.TgZ(27,"div",3),u.TgZ(28,"h2",16),u._uU(29,"Por qu\xe9 la gente nos elige?"),u.qZA(),u.TgZ(30,"div",17),u.TgZ(31,"div",18),u.TgZ(32,"div",19),u.TgZ(33,"div",20),u._UZ(34,"span",21),u.qZA(),u.TgZ(35,"div",22),u.TgZ(36,"h4"),u.TgZ(37,"a",23),u._uU(38,"Somos una Familia"),u.qZA(),u.qZA(),u.TgZ(39,"p"),u._uU(40,"Morbi tristique senectus et netus et malesuada fames ac turpis."),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(41,"div",18),u.TgZ(42,"div",19),u.TgZ(43,"div",24),u._UZ(44,"span",25),u.qZA(),u.TgZ(45,"div",22),u.TgZ(46,"h4"),u.TgZ(47,"a",23),u._uU(48,"Comida Fresca"),u.qZA(),u.qZA(),u.TgZ(49,"p"),u._uU(50,"Cum resistentia mori, omnes elevatuses imperium plac."),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(51,"div",18),u.TgZ(52,"div",19),u.TgZ(53,"div",26),u._UZ(54,"span",27),u.qZA(),u.TgZ(55,"div",22),u.TgZ(56,"h4"),u.TgZ(57,"a",23),u._uU(58,"Cocina de Alta Calidad"),u.qZA(),u.qZA(),u.TgZ(59,"p"),u._uU(60,"Cum consilium accelerare, omnes absolutioes quaestio fatalis."),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(61,"div",18),u.TgZ(62,"div",19),u.TgZ(63,"div",24),u._UZ(64,"span",28),u.qZA(),u.TgZ(65,"div",22),u.TgZ(66,"h4"),u.TgZ(67,"a",23),u._uU(68,"El Mejor Servicio"),u.qZA(),u.qZA(),u.TgZ(69,"p"),u._uU(70,"Cum onus studere, omnes consiliumes amor plac."),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(71,"div",18),u.TgZ(72,"div",19),u.TgZ(73,"div",20),u._UZ(74,"span",29),u.qZA(),u.TgZ(75,"div",22),u.TgZ(76,"h4"),u.TgZ(77,"a",23),u._uU(78,"Men\xfa Diverso"),u.qZA(),u.qZA(),u.TgZ(79,"p"),u._uU(80,"Cum demolitione persuadere, omnes devatioes captis."),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(81,"div",18),u.TgZ(82,"div",19),u.TgZ(83,"div",26),u._UZ(84,"span",30),u.qZA(),u.TgZ(85,"div",22),u.TgZ(86,"h4"),u.TgZ(87,"a",23),u._uU(88,"Precios Accesibles"),u.qZA(),u.qZA(),u.TgZ(89,"p"),u._uU(90,"Mirabilis, gratis devatios mechanice contactus de neuter, primus vigil."),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(91,"section",31),u.TgZ(92,"div",32),u.TgZ(93,"div",3),u.TgZ(94,"h2"),u._uU(95,"Testimonios"),u.qZA(),u.TgZ(96,"div",33),u.TgZ(97,"div",34),u.TgZ(98,"div",35),u.TgZ(99,"div",36),u.TgZ(100,"p"),u._uU(101,"Es un restaurante de comida italiana muy bueno y reconocido en Mendoza. Amplitud de platillos y de vinos, muy buena atenci\xf3n, precios razonables y saz\xf3n italiana en sus platillos: pastas, pescados, carnes, vinos, todo de buena calidad. Muy recomendable para ir en pareja, en familia o con amigos "),u.qZA(),u.qZA(),u.TgZ(102,"div",37),u._uU(103,"Joanna Smith"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(104,"div",34),u.TgZ(105,"div",35),u.TgZ(106,"div",36),u.TgZ(107,"p"),u._uU(108,'Todo estuvo fant\xe1stico... desde la llegada, estacionamiento privado (con valet parking), muy buena atenci\xf3n por parte de los meseros, la comida excelente (sabor, presentaci\xf3n, tiempo de espera), precios entre "accesibles" y "caros" sobre todos de las copas de vino. Definitivamente lo recomiendo, espero regresar pronto, ahora es de mis favoritos de la ciudad.'),u.qZA(),u.qZA(),u.TgZ(109,"div",37),u._uU(110,"James Williams"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(111,"div",34),u.TgZ(112,"div",35),u.TgZ(113,"div",36),u.TgZ(114,"p"),u._uU(115,"Excelente como siempre. ...tenemos 25 a\xf1os viniendo y siempre nos sorpenden innovando. ..delicioso El servicio impecable. ....Todo"),u.qZA(),u.qZA(),u.TgZ(116,"div",37),u._uU(117,"Kate McMillan"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(118,"div",34),u.TgZ(119,"div",35),u.TgZ(120,"div",36),u.TgZ(121,"p"),u._uU(122,"Delicioso para cerrar una comida deliciosa, felicidades como siempre un deleite, excelente servicio calidad de alimentos pueden visitar personas con dieta especial s\xf3lo avisen a su mesero para que les de un men\xfa para ustedes"),u.qZA(),u.qZA(),u.TgZ(123,"div",37),u._uU(124,"Peter Wilson"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(125,"div",38),u.TgZ(126,"div",34),u.TgZ(127,"div",39),u._UZ(128,"img",40),u.qZA(),u.qZA(),u.TgZ(129,"div",34),u.TgZ(130,"div",39),u._UZ(131,"img",41),u.qZA(),u.qZA(),u.TgZ(132,"div",34),u.TgZ(133,"div",39),u._UZ(134,"img",42),u.qZA(),u.qZA(),u.TgZ(135,"div",34),u.TgZ(136,"div",39),u._UZ(137,"img",43),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(138,"section",44),u.TgZ(139,"div",3),u.TgZ(140,"h2"),u._uU(141,"Nuestros Premios"),u.qZA(),u.TgZ(142,"div",45),u.TgZ(143,"div",46),u.TgZ(144,"a",47),u._UZ(145,"img",48),u.qZA(),u.qZA(),u.TgZ(146,"div",46),u.TgZ(147,"a",47),u._UZ(148,"img",49),u.qZA(),u.qZA(),u.TgZ(149,"div",46),u.TgZ(150,"a",47),u._UZ(151,"img",50),u.qZA(),u.qZA(),u.TgZ(152,"div",46),u.TgZ(153,"a",47),u._UZ(154,"img",51),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},styles:[""]}),n})(),K0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Zu=(()=>{class n extends K0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Us=new u.OlP("NgValueAccessor"),Q0={provide:Us,useExisting:(0,u.Gpc)(()=>Uf),multi:!0},J0=new u.OlP("CompositionEventMode");let Uf=(()=>{class n extends K0{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function aI(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(J0,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u._Bn([Q0]),u.qOj]}),n})();const ii=new u.OlP("NgValidators"),Za=new u.OlP("NgAsyncValidators");function iv(n){return null!=n}function Bf(n){const e=(0,u.QGY)(n)?(0,an.D)(n):n;return(0,u.CqO)(e),e}function js(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function sv(n,e){return e.map(t=>t(n))}function Ag(n){return n.map(e=>function lI(n){return!n.validate}(e)?e:t=>e.validate(t))}function jf(n){return null!=n?function zo(n){if(!n)return null;const e=n.filter(iv);return 0==e.length?null:function(t){return js(sv(t,e))}}(Ag(n)):null}function Zf(n){return null!=n?function ov(n){if(!n)return null;const e=n.filter(iv);return 0==e.length?null:function(t){return function sI(...n){const e=(0,xs.jO)(n),{args:t,keys:r}=Rl(n),o=new Jn.y(c=>{const{length:f}=t;if(!f)return void c.complete();const y=new Array(f);let E=f,D=f;for(let O=0;O<f;O++){let R=!1;(0,xn.Xf)(t[O]).subscribe(new pn.Q(c,q=>{R||(R=!0,D--),y[O]=q},()=>E--,void 0,()=>{(!E||!R)&&(D||c.next(r?Ro(r,y):y),c.complete())}))}});return e?o.pipe(Iu(e)):o}(sv(t,e).map(Bf)).pipe((0,vt.U)(js))}}(Ag(n)):null}function cI(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function av(n){return n._rawValidators}function dI(n){return n._rawAsyncValidators}function Vd(n){return n?Array.isArray(n)?n:[n]:[]}function oc(n,e){return Array.isArray(n)?n.includes(e):n===e}function Sg(n,e){const t=Vd(e);return Vd(n).forEach(o=>{oc(t,o)||t.push(o)}),t}function xg(n,e){return Vd(e).filter(t=>!oc(n,t))}class Mg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ac extends Mg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xi extends Mg{get formDirective(){return null}get path(){return null}}class iw{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let Og=(()=>{class n extends iw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ac,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),sw=(()=>{class n extends iw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xi,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function uc(n,e){Pg(n,e),e.valueAccessor.writeValue(n.value),function pI(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&dv(n,e)})}(n,e),function gI(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Hu(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&dv(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function cv(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ng(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ud(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Pg(n,e){const t=av(n);null!==e.validator?n.setValidators(cI(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=dI(n);null!==e.asyncValidator?n.setAsyncValidators(cI(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();qf(e._rawValidators,o),qf(e._rawAsyncValidators,o)}function Ud(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=av(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(f=>f!==e.validator);c.length!==o.length&&(t=!0,n.setValidators(c))}}if(null!==e.asyncValidator){const o=dI(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(f=>f!==e.asyncValidator);c.length!==o.length&&(t=!0,n.setAsyncValidators(c))}}}const r=()=>{};return qf(e._rawValidators,r),qf(e._rawAsyncValidators,r),t}function dv(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function qa(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Gf="VALID",zf="INVALID",cc="PENDING",dc="DISABLED";function Lg(n){return(uw(n)?n.validators:n)||null}function Wf(n){return Array.isArray(n)?jf(n):n||null}function pv(n,e){return(uw(e)?e.asyncValidators:n)||null}function gv(n){return Array.isArray(n)?Zf(n):n||null}function uw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const mv=n=>n instanceof Wo,Vg=n=>n instanceof Kf;function yv(n){return mv(n)?n.value:n.getRawValue()}function lw(n,e){const t=Vg(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function cw(n,e){Vg(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new u.vHH(1002,"")})}class Mi{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Wf(this._rawValidators),this._composedAsyncValidatorFn=gv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gf}get invalid(){return this.status===zf}get pending(){return this.status==cc}get disabled(){return this.status===dc}get enabled(){return this.status!==dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Wf(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=gv(e)}addValidators(e){this.setValidators(Sg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Sg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xg(e,this._rawAsyncValidators))}hasValidator(e){return oc(this._rawValidators,e)}hasAsyncValidator(e){return oc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=cc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gf,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gf||this.status===cc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dc:Gf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=cc,this._hasOwnPendingAsyncValidator=!0;const t=Bf(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function fv(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=Vg(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof rA)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?dc:this.errors?zf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cc)?cc:this._anyControlsHaveStatus(zf)?zf:Gf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Wo extends Mi{constructor(e=null,t,r){super(Lg(t),pv(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qa(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qa(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Kf extends Mi{constructor(e,t,r){super(Lg(t),pv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){cw(this,e),Object.keys(e).forEach(r=>{lw(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=yv(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,c)=>{r=t(r,o,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class rA extends Mi{constructor(e,t,r){super(Lg(t),pv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){cw(this,e),e.forEach((r,o)=>{lw(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>yv(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let wv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const gw={provide:Us,useExisting:(0,u.Gpc)(()=>Yf),multi:!0};let Yf=(()=>{class n extends Zu{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([gw]),u.qOj]}),n})(),Ug=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const bv=new u.OlP("NgModelWithFormControlWarning"),Iv={provide:xi,useExisting:(0,u.Gpc)(()=>Qf)};let Qf=(()=>{class n extends xi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ud(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return uc(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ng(t.control||null,t,!1),qa(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function lc(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Ng(r||null,t),mv(o)&&(uc(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function kg(n,e){Pg(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function mI(n,e){return Ud(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pg(this.form,this),this._oldForm&&Ud(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ii,10),u.Y36(Za,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Iv]),u.qOj,u.TTD]}),n})();const Dv={provide:ac,useExisting:(0,u.Gpc)(()=>Jf)};let Jf=(()=>{class n extends ac{constructor(t,r,o,c,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function $f(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(c=>{c.constructor===Uf?t=c:function Hf(n){return Object.getPrototypeOf(n.constructor)===Zu}(c)?r=c:o=c}),o||r||t||null}(0,c)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function hv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function co(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(xi,13),u.Y36(ii,10),u.Y36(Za,10),u.Y36(Us,10),u.Y36(bv,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([Dv]),u.qOj,u.TTD]}),n})(),Zd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ug]]}),n})(),PI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:bv,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Zd]}),n})();var Ov=P(4986),Ar=P(5813);function $g(){return(0,Zn.e)((n,e)=>{let t,r=!1;n.subscribe(new pn.Q(e,o=>{const c=t;t=o,r&&e.next([c,o]),r=!0}))})}function Sw(n,e){return n===e}var Je,fo=P(2011),kI=(P(2438),P(3942)),ye=P(5861),Gu=P(9681),Rv=P(4859),Ga=P(1877),Rt=P(2090),FI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},zu={},rp=rp||{},bt=FI||self;function ip(){}function Gg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var xw="closure_uid_"+(1e9*Math.random()>>>0),gA=0;function Mw(n,e,t){return n.call.apply(n.bind,arguments)}function Ow(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Sr(n,e,t){return(Sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Mw:Ow).apply(null,arguments)}function Wg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function si(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,c){for(var f=Array(arguments.length-2),y=2;y<arguments.length;y++)f[y-2]=arguments[y];return e.prototype[o].apply(r,f)}}function za(){this.s=this.s,this.o=this.o}var LI={};za.prototype.s=!1,za.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function po(n){return Object.prototype.hasOwnProperty.call(n,xw)&&n[xw]||(n[xw]=++gA)}(this);delete LI[n]}},za.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Kg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Rw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in o&&e.call(t,o[c],c,n)};function Nw(n){return Array.prototype.concat.apply([],arguments)}function Pv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Yg(n){return/^[\s\xa0]*$/.test(n)}var Oi,Pw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function xr(n,e){return-1!=n.indexOf(e)}function Wu(n,e){return n<e?-1:n>e?1:0}e:{var qd=bt.navigator;if(qd){var kw=qd.userAgent;if(kw){Oi=kw;break e}}Oi=""}function kv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Qg(n){const e={};for(const t in n)e[t]=n[t];return e}var go="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hd(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let c=0;c<go.length;c++)t=go[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Mr(n){return Mr[" "](n),n}Mr[" "]=ip;var Wa,n,Jg=xr(Oi,"Opera"),Wr=xr(Oi,"Trident")||xr(Oi,"MSIE"),Xg=xr(Oi,"Edge"),Ku=Xg||Wr,pc=xr(Oi,"Gecko")&&!(xr(Oi.toLowerCase(),"webkit")&&!xr(Oi,"Edge"))&&!(xr(Oi,"Trident")||xr(Oi,"MSIE"))&&!xr(Oi,"Edge"),$d=xr(Oi.toLowerCase(),"webkit")&&!xr(Oi,"Edge");function gc(){var n=bt.document;return n?n.documentMode:void 0}e:{var Yu="",Qu=(n=Oi,pc?/rv:([^\);]+)(\)|;)/.exec(n):Xg?/Edge\/([\d\.]+)/.exec(n):Wr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):$d?/WebKit\/(\S+)/.exec(n):Jg?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Qu&&(Yu=Qu?Qu[1]:""),Wr){var Ju=gc();if(null!=Ju&&Ju>parseFloat(Yu)){Wa=String(Ju);break e}}Wa=Yu}var Gd={};var Lw=bt.document&&Wr&&(gc()||parseInt(Wa,10))||void 0,Vw=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",ip,e),bt.removeEventListener("test",ip,e)}catch(t){}return n}();function Kr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function zd(n,e){if(Kr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(pc){e:{try{Mr(e.nodeName);var o=!0;break e}catch(c){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Uw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&zd.Z.h.call(this)}}Kr.prototype.h=function(){this.defaultPrevented=!0},si(zd,Kr);var Uw={2:"touch",3:"pen",4:"mouse"};zd.prototype.h=function(){zd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wd="closure_listenable_"+(1e6*Math.random()|0),UI=0;function BI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++UI,this.ca=this.fa=!1}function tm(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function nm(n){this.src=n,this.g={},this.h=0}function rm(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],o=Kg(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(tm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Lv(n,e,t,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return o}return-1}nm.prototype.add=function(n,e,t,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var f=Lv(n,e,r,o);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new BI(e,this.src,c,!!r,o)).fa=t,n.push(e)),e};var Vv="closure_lm_"+(1e6*Math.random()|0),im={};function Bw(n,e,t,r,o){if(r&&r.once)return jw(n,e,t,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Bw(n,e[c],t,r,o);return null}return t=qw(t),n&&n[Wd]?n.N(e,t,zg(r)?!!r.capture:!!r,o):Uv(n,e,t,!1,r,o)}function Uv(n,e,t,r,o,c){if(!e)throw Error("Invalid event type");var f=zg(o)?!!o.capture:!!o,y=Zv(n);if(y||(n[Vv]=y=new nm(n)),(t=y.add(e,t,r,f,c)).proxy)return t;if(r=function jI(){var e=jv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Vw||(o=f),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(sm(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function jw(n,e,t,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)jw(n,e[c],t,r,o);return null}return t=qw(t),n&&n[Wd]?n.O(e,t,zg(r)?!!r.capture:!!r,o):Uv(n,e,t,!0,r,o)}function ZI(n,e,t,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)ZI(n,e[c],t,r,o);else r=zg(r)?!!r.capture:!!r,t=qw(t),n&&n[Wd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Lv(c=n.g[e],t,r,o))&&(tm(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Zv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Lv(e,t,r,o)),(t=-1<n?e[n]:null)&&Bv(t))}function Bv(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Wd])rm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(sm(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Zv(e))?(rm(t,n),0==t.h&&(t.src=null,e[Vv]=null)):tm(n)}}}function sm(n){return n in im?im[n]:im[n]="on"+n}function jv(n,e){if(n.ca)n=!0;else{e=new zd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Bv(n),n=t.call(r,e)}return n}function Zv(n){return(n=n[Vv])instanceof nm?n:null}var Zw="__closure_events_fn_"+(1e9*Math.random()>>>0);function qw(n){return"function"==typeof n?n:(n[Zw]||(n[Zw]=function(e){return n.handleEvent(e)}),n[Zw])}function Yr(){za.call(this),this.i=new nm(this),this.P=this,this.I=null}function Qr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Kr(e,n);else if(e instanceof Kr)e.target=e.target||n;else{var o=e;Hd(e=new Kr(r,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];o=sp(f,r,!0,e)&&o}if(o=sp(f=e.g=n,r,!0,e)&&o,o=sp(f,r,!1,e)&&o,t)for(c=0;c<t.length;c++)o=sp(f=e.g=t[c],r,!1,e)&&o}function sp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.ca&&f.capture==t){var y=f.listener,E=f.ia||f.src;f.fa&&rm(n.i,f),o=!1!==y.call(E,r)&&o}}return o&&!r.defaultPrevented}si(Yr,za),Yr.prototype[Wd]=!0,Yr.prototype.removeEventListener=function(n,e,t,r){ZI(this,n,e,t,r)},Yr.prototype.M=function(){if(Yr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)tm(t[r]);delete n.g[e],n.h--}}this.I=null},Yr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Yr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Hw=bt.JSON.stringify;function qI(){var n=zw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Yd,$w=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Gw,n=>n.reset());class Gw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function HI(n){bt.setTimeout(()=>{throw n},0)}function om(n,e){Yd||function $I(){var n=bt.Promise.resolve(void 0);Yd=function(){n.then(GI)}}(),am||(Yd(),am=!0),zw.add(n,e)}var am=!1,zw=new class Kd{constructor(){this.h=this.g=null}add(e,t){const r=$w.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function GI(){for(var n;n=qI();){try{n.h.call(n.g)}catch(t){HI(t)}var e=$w;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}am=!1}function um(n,e){Yr.call(this),this.h=n||1,this.g=e||bt,this.j=Sr(this.kb,this),this.l=Date.now()}function qv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Hv(n,e,t){if("function"==typeof n)t&&(n=Sr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Sr(n.handleEvent,n)}return 2147483647<Number(e)?-1:bt.setTimeout(n,e||0)}function $v(n){n.g=Hv(()=>{n.g=null,n.i&&(n.i=!1,$v(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}si(um,Yr),(Je=um.prototype).da=!1,Je.S=null,Je.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qr(this,"tick"),this.da&&(qv(this),this.start()))}},Je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Je.M=function(){um.Z.M.call(this),qv(this),delete this.g};class zI extends za{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$v(this)}M(){super.M(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qd(n){za.call(this),this.h=n,this.g={}}si(Qd,za);var Gv=[];function lm(n,e,t,r){Array.isArray(t)||(t&&(Gv[0]=t.toString()),t=Gv);for(var o=0;o<t.length;o++){var c=Bw(e,t[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function WI(n){kv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Bv(e)},n),n.g={}}function Jd(){this.g=!0}function Ko(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<o.length;f++)o[f]=""}}}return Hw(t)}catch(y){return e}}(n,t)+(r?" "+r:"")})}Qd.prototype.M=function(){Qd.Z.M.call(this),WI(this)},Qd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jd.prototype.Aa=function(){this.g=!1},Jd.prototype.info=function(){};var Ka={},Kw=null;function Xd(){return Kw=Kw||new Yr}function cm(n){Kr.call(this,Ka.Ma,n)}function eh(n){const e=Xd();Qr(e,new cm(e,n))}function YI(n,e){Kr.call(this,Ka.STAT_EVENT,n),this.stat=e}function Ri(n){const e=Xd();Qr(e,new YI(e,n))}function Wv(n,e){Kr.call(this,Ka.Na,n),this.size=e}function th(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},e)}Ka.Ma="serverreachability",si(cm,Kr),Ka.STAT_EVENT="statevent",si(YI,Kr),Ka.Na="timingevent",si(Wv,Kr);var dm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Yw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function op(){}function Yv(){}op.prototype.h=null;var fm,mc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function hm(){Kr.call(this,"d")}function Qv(){Kr.call(this,"c")}function ap(){}function yc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Qd(this),this.P=QI,this.W=new um(n=Ku?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Qw}function Qw(){this.i=null,this.g="",this.h=!1}si(hm,Kr),si(Qv,Kr),si(ap,op),ap.prototype.g=function(){return new XMLHttpRequest},ap.prototype.i=function(){return{}},fm=new ap;var QI=45e3,Jv={},pm={};function gm(n,e,t){n.K=1,n.v=ym(Yo(e)),n.s=t,n.U=!0,up(n,null)}function up(n,e){n.F=Date.now(),nh(n),n.A=Yo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),nE(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Qw,n.g=dT(n.l,t?e:null,!n.s),0<n.O&&(n.L=new zI(Sr(n.Ia,n,n.g),n.O)),lm(n.V,n.g,"readystatechange",n.gb),e=n.H?Qg(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),eh(1),function KI(n,e,t,r,o,c){n.info(function(){if(n.g)if(c)for(var f="",y=c.split("&"),E=0;E<y.length;E++){var D=y[E].split("=");if(1<D.length){var O=D[0];D=D[1];var R=O.split("_");f=2<=R.length&&"type"==R[1]?f+(O+"=")+D+"&":f+(O+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Xv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function e_(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Jw(n,t),o==pm){4==e&&(n.o=4,Ri(14),r=!1),Ko(n.j,n.m,null,"[Incomplete Response]");break}if(o==Jv){n.o=4,Ri(15),Ko(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ko(n.j,n.m,o,null),Xw(n,o)}Xv(n)&&o!=pm&&o!=Jv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ri(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Am(e),e.L=!0,Ri(11))):(Ko(n.j,n.m,t,"[Invalid Chunked Response]"),Xu(n),rh(n))}function Jw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?pm:(t=Number(e.substring(t,r)),isNaN(t)?Jv:(r+=1)+t>e.length?pm:(e=e.substr(r,t),n.C=r+t,e))}function nh(n){n.Y=Date.now()+n.P,t_(n,n.P)}function t_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=th(Sr(n.eb,n),e)}function lp(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function rh(n){0==n.l.G||n.I||mE(n.l,n)}function Xu(n){lp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,qv(n.W),WI(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Xw(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||u_(t.i,n)))if(t.I=n.N,!n.J&&u_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=th(Sr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Xo(t),Tm(t)}Dm(t),Ri(18)}if(1>=a_(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else Zs(t,11)}else if((n.J||t.g==n)&&Xo(t),!Yg(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let D=o[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const O=D[3];null!=O&&(t.ma=O,t.h.info("VER="+t.ma));const R=D[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const q=D[5];null!=q&&"number"==typeof q&&0<q&&(t.K=r=1.5*q,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const re=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(re){var c=r.i;!c.g&&(xr(re,"spdy")||xr(re,"quic")||xr(re,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(Em(c,c.h),c.h=null))}if(r.D){const ke=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;ke&&(r.sa=ke,In(r.F,r.D,ke))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=Sm(r,r.H?r.la:null,r.W),f.J){l_(r.i,f);var y=f,E=r.K;E&&y.setTimeout(E),y.B&&(lp(y),nh(y)),r.g=f}else y_(r);0<t.l.length&&mp(t)}else"stop"!=D[0]&&"close"!=D[0]||Zs(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?Zs(t,7):f_(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}eh(4)}catch(D){}}function n_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gg(n)||"string"==typeof n)Rw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Gg(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function JI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Gg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var c=0;c<o;c++)e.call(void 0,r[c],t&&t[c],n)}}function vc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof vc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function r_(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];yn(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)yn(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function yn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Je=yc.prototype).setTimeout=function(n){this.P=n},Je.gb=function(n){n=n.target;const e=this.L;e&&3==Ya(n)?e.l():this.Ia(n)},Je.Ia=function(n){try{if(n==this.g)e:{const O=Ya(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>O)&&(3!=O||Ku||this.g&&(this.h.h||this.g.ga()||fE(this.g)))){this.I||4!=O||7==e||eh(8==e||0>=R?3:2),lp(this);var t=this.g.ba();this.N=t;t:if(Xv(this)){var r=fE(this.g);n="";var o=r.length,c=4==Ya(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Xu(this),rh(this);var f="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function mA(n,e,t,r,o,c,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.X,O,t),this.i){if(this.$&&!this.J){t:{if(this.g){var y,E=this.g;if((y=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yg(y)){var D=y;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,Ri(12),Xu(this),rh(this);break e}Ko(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xw(this,t)}this.U?(e_(this,O,f),Ku&&this.i&&3==O&&(lm(this.V,this.W,"tick",this.fb),this.W.start())):(Ko(this.j,this.m,f,null),Xw(this,f)),4==O&&Xu(this),this.i&&!this.I&&(4==O?mE(this.l,this):(this.i=!1,nh(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Ri(12)):(this.o=0,Ri(13)),Xu(this),rh(this)}}}catch(O){}},Je.fb=function(){if(this.g){var n=Ya(this.g),e=this.g.ga();this.C<e.length&&(lp(this),e_(this,n,e),this.i&&4!=n&&nh(this))}},Je.cancel=function(){this.I=!0,Xu(this)},Je.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Ww(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(eh(3),Ri(17)),Xu(this),this.o=2,rh(this)):t_(this,this.Y-n)},(Je=vc.prototype).R=function(){r_(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Je.T=function(){return r_(this),this.g.concat()},Je.get=function(n,e){return yn(this.h,n)?this.h[n]:e},Je.set=function(n,e){yn(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Je.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],c=this.get(o);n.call(e,c,o,this)}};var i_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _c(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof _c){this.g=void 0!==e?e:n.g,mm(this,n.j),this.s=n.s,cp(this,n.i),dp(this,n.m),this.l=n.l,e=n.h;var t=new Ni;t.i=e.i,e.g&&(t.g=new vc(e.g),t.h=e.h),wc(this,t),this.o=n.o}else n&&(t=String(n).match(i_))?(this.g=!!e,mm(this,t[1]||"",!0),this.s=ih(t[2]||""),cp(this,t[3]||"",!0),dp(this,t[4]),this.l=ih(t[5]||"",!0),wc(this,t[6]||"",!0),this.o=ih(t[7]||"")):(this.g=!!e,this.h=new Ni(null,this.g))}function Yo(n){return new _c(n)}function mm(n,e,t){n.j=t?ih(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function cp(n,e,t){n.i=t?ih(e,!0):e}function dp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function wc(n,e,t){e instanceof Ni?(n.h=e,function rT(n,e){e&&!n.j&&(Or(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(s_(this,r),nE(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=vm(e,nT)),n.h=new Ni(e,n.g))}function In(n,e,t){n.h.set(e,t)}function ym(n){return In(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ih(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function vm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,tE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}_c.prototype.toString=function(){var n=[],e=this.j;e&&n.push(vm(e,_m,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(vm(e,_m,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(vm(t,"/"==t.charAt(0)?tT:Qo,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",vm(t,Jo)),n.join("")};var _m=/[#\/\?@]/g,Qo=/[#\?:]/g,tT=/[#\?]/g,nT=/[#\?@]/g,Jo=/#/g;function Ni(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Or(n){n.g||(n.g=new vc,n.h=0,n.i&&function XI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var c=n[t].substring(0,r);o=n[t].substring(r+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function s_(n,e){Or(n),e=sh(n,e),yn(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,yn((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&r_(n)))}function o_(n,e){return Or(n),e=sh(n,e),yn(n.g.h,e)}function nE(n,e,t){s_(n,e),0<t.length&&(n.i=null,n.g.set(sh(n,e),Pv(t)),n.h+=t.length)}function sh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function wm(n){this.l=n||hp,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ea&&bt.g.Ea()&&bt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Je=Ni.prototype).add=function(n,e){Or(this),this.i=null,n=sh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Je.forEach=function(n,e){Or(this),this.g.forEach(function(t,r){Rw(t,function(o){n.call(e,o,r,this)},this)},this)},Je.T=function(){Or(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],c=0;c<o.length;c++)t.push(e[r]);return t},Je.R=function(n){Or(this);var e=[];if("string"==typeof n)o_(this,n)&&(e=Nw(e,this.g.get(sh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Nw(e,n[t])}return e},Je.set=function(n,e){return Or(this),this.i=null,o_(this,n=sh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Je.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var f=o;""!==r[c]&&(f+="="+encodeURIComponent(String(r[c]))),n.push(f)}}return this.i=n.join("&")};var hp=10;function rE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function a_(n){return n.h?1:n.g?n.g.size:0}function u_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Em(n,e){n.g?n.g.add(e):n.h=e}function l_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fp(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Pv(n.i)}function c_(){}function iE(){this.g=new c_}function sE(n,e,t){const r=t||"";try{n_(n,function(o,c){let f=o;zg(o)&&(f=Hw(o)),e.push(r+c+"="+encodeURIComponent(f))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Ec(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(c){}}function oh(n){this.l=n.$b||null,this.j=n.ib||!1}function pp(n,e){Yr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=bm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wm.prototype.cancel=function(){if(this.i=fp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},c_.prototype.stringify=function(n){return bt.JSON.stringify(n,void 0)},c_.prototype.parse=function(n){return bt.JSON.parse(n,void 0)},si(oh,op),oh.prototype.g=function(){return new pp(this.l,this.j)},oh.prototype.i=function(n){return function(){return n}}({}),si(pp,Yr);var bm=0;function d_(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ah(n){n.readyState=4,n.l=null,n.j=null,n.A=null,uh(n)}function uh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Je=pp.prototype).open=function(n,e){if(this.readyState!=bm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,uh(this)},Je.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||bt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ah(this)),this.readyState=bm},Je.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,uh(this)),this.g&&(this.readyState=3,uh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==bt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;d_(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Je.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ah(this):uh(this),3==this.readyState&&d_(this)}},Je.Ua=function(n){this.g&&(this.response=this.responseText=n,ah(this))},Je.Ta=function(n){this.g&&(this.response=n,ah(this))},Je.ha=function(){this.g&&ah(this)},Je.setRequestHeader=function(n,e){this.v.append(n,e)},Je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Je.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(pp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var aE=bt.JSON.parse;function Xn(n){Yr.call(this),this.headers=new vc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uE,this.K=this.L=!1}si(Xn,Yr);var uE="",sT=/^https?$/i,oT=["POST","PUT"];function uT(n){return"content-type"==n.toLowerCase()}function lE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,cE(n),Im(n)}function cE(n){n.D||(n.D=!0,Qr(n,"complete"),Qr(n,"error"))}function dE(n){if(n.h&&void 0!==rp&&(!n.C[1]||4!=Ya(n)||2!=n.ba()))if(n.v&&4==Ya(n))Hv(n.Fa,0,n);else if(Qr(n,"readystatechange"),4==Ya(n)){n.h=!1;try{const y=n.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===y){var o=String(n.H).match(i_)[1]||null;if(!o&&bt.self&&bt.self.location){var c=bt.self.location.protocol;o=c.substr(0,c.length-1)}r=!sT.test(o?o.toLowerCase():"")}t=r}if(t)Qr(n,"complete"),Qr(n,"success");else{n.m=6;try{var f=2<Ya(n)?n.g.statusText:""}catch(E){f=""}n.j=f+" ["+n.ba()+"]",cE(n)}}finally{Im(n)}}}function Im(n,e){if(n.g){hE(n);const t=n.g,r=n.C[0]?ip:null;n.g=null,n.C=null,e||Qr(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function hE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function Ya(n){return n.g?n.g.readyState:0}function fE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case uE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function h_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function lT(n){let e="";return kv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):In(n,e,t))}function gp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function pE(n){this.za=0,this.l=[],this.h=new Jd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gp("baseRetryDelayMs",5e3,n),this.$a=gp("retryDelaySeedMs",1e4,n),this.Ya=gp("forwardChannelMaxRetries",2,n),this.ra=gp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new wm(n&&n.concurrentRequestLimit),this.Ca=new iE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function f_(n){if(p_(n),3==n.G){var e=n.V++,t=Yo(n.F);In(t,"SID",n.J),In(t,"RID",e),In(t,"TYPE","terminate"),lh(n,t),(e=new yc(n,n.h,e,void 0)).K=2,e.v=ym(Yo(t)),t=!1,bt.navigator&&bt.navigator.sendBeacon&&(t=bt.navigator.sendBeacon(e.v.toString(),"")),!t&&bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=dT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),nh(e)}cT(n)}function Tm(n){n.g&&(Am(n),n.g.cancel(),n.g=null)}function p_(n){Tm(n),n.u&&(bt.clearTimeout(n.u),n.u=null),Xo(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function Cm(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&mp(n)}function mp(n){rE(n.i)||n.m||(n.m=!0,om(n.Ha,n),n.C=0)}function g_(n,e){var t;t=e?e.m:n.V++;const r=Yo(n.F);In(r,"SID",n.J),In(r,"RID",t),In(r,"AID",n.U),lh(n,r),n.o&&n.s&&h_(r,n.o,n.s),t=new yc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=m_(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Em(n.i,t),gm(t,r,e)}function lh(n,e){n.j&&n_({},function(t,r){In(e,r,t)})}function m_(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Sr(n.j.Oa,n.j,n):null;e:{var o=n.l;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=o[0].h,f.push("ofs="+c)):c=0:f.push("ofs="+c);let y=!0;for(let E=0;E<t;E++){let D=o[E].h;const O=o[E].g;if(D-=c,0>D)c=Math.max(0,o[E].h-100),y=!1;else try{sE(O,f,"req"+D+"_")}catch(R){r&&r(O)}}if(y){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function y_(n){n.g||n.u||(n.Y=1,om(n.Ga,n),n.A=0)}function Dm(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=th(Sr(n.Ga,n),yE(n,n.A)),n.A++,0))}function Am(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function v_(n){n.g=new yc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Yo(n.oa);In(e,"RID","rpc"),In(e,"SID",n.J),In(e,"CI",n.N?"0":"1"),In(e,"AID",n.U),lh(n,e),In(e,"TYPE","xmlhttp"),n.o&&n.s&&h_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ym(Yo(e)),t.s=null,t.U=!0,up(t,n)}function Xo(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function mE(n,e){var t=null;if(n.g==e){Xo(n),Am(n),n.g=null;var r=2}else{if(!u_(n.i,e))return;t=e.D,l_(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Qr(r=Xd(),new Wv(r,t,e,o)),mp(n)}else y_(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function gE(n,e){return!(a_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=th(Sr(n.Ha,n,e),yE(n,n.C)),n.C++,0)))}(n,e)||2==r&&Dm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Zs(n,5);break;case 4:Zs(n,10);break;case 3:Zs(n,6);break;default:Zs(n,2)}}function yE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Zs(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Sr(n.jb,n);t||(t=new _c("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||mm(t,"https"),ym(t)),function oE(n,e){const t=new Jd;if(bt.Image){const r=new Image;r.onload=Wg(Ec,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Wg(Ec,t,r,"TestLoadImage: error",!1,e),r.onabort=Wg(Ec,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wg(Ec,t,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ri(2);n.G=0,n.j&&n.j.va(e),cT(n),p_(n)}function cT(n){n.G=0,n.I=-1,n.j&&((0!=fp(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Pv(n.l),n.l.length=0),n.j.ua())}function Sm(n,e,t){let r=function eE(n){return n instanceof _c?Yo(n):new _c(n,void 0)}(t);if(""!=r.i)e&&cp(r,e+"."+r.i),dp(r,r.m);else{const o=bt.location;r=function eT(n,e,t,r){var o=new _c(null,void 0);return n&&mm(o,n),e&&cp(o,e),t&&dp(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&kv(n.aa,function(o,c){In(r,c,o)}),t=n.sa,(e=n.D)&&t&&In(r,e,t),In(r,"VER",n.ma),lh(n,r),r}function dT(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xn(t&&n.Ba&&!n.qa?new oh({ib:!0}):n.qa)).L=n.H,e}function __(){}function yp(){if(Wr&&!(10<=Number(Lw)))throw Error("Environmental error: no available transport.")}function qs(n,e){Yr.call(this),this.g=new pE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Yg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ch(this)}function gt(n){hm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function vE(){Qv.call(this),this.status=1}function ch(n){this.g=n}(Je=Xn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fm.g(),this.C=function Kv(n){return n.h||(n.h=n.i())}(this.u?this.u:fm),this.g.onreadystatechange=Sr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void lE(this,c)}n=t||"";const o=new vc(this.headers);r&&n_(r,function(c,f){o.set(f,c)}),r=function VI(n){e:{var e=uT;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=bt.FormData&&n instanceof bt.FormData,!(0<=Kg(oT,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(c,f){this.g.setRequestHeader(f,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hE(this),0<this.B&&((this.K=function aT(n){return Wr&&function Fw(){return function fc(n){var e=Gd;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Pw(String(Wa)).split("."),t=Pw("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var o=e[f]||"",c=t[f]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;n=Wu(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||Wu(0==o[2].length,0==c[2].length)||Wu(o[2],c[2]),o=o[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sr(this.pa,this)):this.A=Hv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){lE(this,c)}},Je.pa=function(){void 0!==rp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qr(this,"timeout"),this.abort(8))},Je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qr(this,"complete"),Qr(this,"abort"),Im(this))},Je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Im(this,!0)),Xn.Z.M.call(this)},Je.Fa=function(){this.s||(this.F||this.v||this.l?dE(this):this.cb())},Je.cb=function(){dE(this)},Je.ba=function(){try{return 2<Ya(this)?this.g.status:-1}catch(n){return-1}},Je.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Je.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),aE(e)}},Je.Da=function(){return this.m},Je.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Je=pE.prototype).ma=8,Je.G=1,Je.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Je.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new yc(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=Qg(c),Hd(c,this.P)):c=this.P),null===this.o&&(o.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=m_(this,o,e),In(t=Yo(this.F),"RID",n),In(t,"CVER",22),this.D&&In(t,"X-HTTP-Session-Id",this.D),lh(this,t),this.o&&c&&h_(t,this.o,c),Em(this.i,o),this.Ra&&In(t,"TYPE","init"),this.ja?(In(t,"$req",e),In(t,"SID","null"),o.$=!0,gm(o,t,null)):gm(o,t,e),this.G=2}}else 3==this.G&&(n?g_(this,n):0==this.l.length||rE(this.i)||g_(this))},Je.Ga=function(){if(this.u=null,v_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=th(Sr(this.bb,this),n)}},Je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ri(10),Tm(this),v_(this))},Je.ab=function(){null!=this.v&&(this.v=null,Tm(this),Dm(this),Ri(19))},Je.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ri(2)):(this.h.info("Failed to ping google.com"),Ri(1))},(Je=__.prototype).xa=function(){},Je.wa=function(){},Je.va=function(){},Je.ua=function(){},Je.Oa=function(){},yp.prototype.g=function(n,e){return new qs(n,e)},si(qs,Yr),qs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),om(Sr(n.hb,n,e))),Ri(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Sm(n,null,n.W),mp(n)},qs.prototype.close=function(){f_(this.g)},qs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Cm(this.g,e)}else this.v?((e={}).__data__=Hw(n),Cm(this.g,e)):Cm(this.g,n)},qs.prototype.M=function(){this.g.j=null,delete this.j,f_(this.g),delete this.g,qs.Z.M.call(this)},si(gt,hm),si(vE,Qv),si(ch,__),ch.prototype.xa=function(){Qr(this.g,"a")},ch.prototype.wa=function(n){Qr(this.g,new gt(n))},ch.prototype.va=function(n){Qr(this.g,new vE(n))},ch.prototype.ua=function(){Qr(this.g,"b")},yp.prototype.createWebChannel=yp.prototype.g,qs.prototype.send=qs.prototype.u,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,dm.NO_ERROR=0,dm.TIMEOUT=8,dm.HTTP_ERROR=6,Yw.COMPLETE="complete",Yv.EventType=mc,mc.OPEN="a",mc.CLOSE="b",mc.ERROR="c",mc.MESSAGE="d",Yr.prototype.listen=Yr.prototype.N,Xn.prototype.listenOnce=Xn.prototype.O,Xn.prototype.getLastError=Xn.prototype.La,Xn.prototype.getLastErrorCode=Xn.prototype.Da,Xn.prototype.getStatus=Xn.prototype.ba,Xn.prototype.getResponseJson=Xn.prototype.Qa,Xn.prototype.getResponseText=Xn.prototype.ga,Xn.prototype.send=Xn.prototype.ea;var hT=zu.createWebChannelTransport=function(){return new yp},xm=zu.getStatEventTarget=function(){return Xd()},w_=zu.ErrorCode=dm,Mm=zu.EventType=Yw,Om=zu.Event=Ka,On=zu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yA=zu.FetchXmlHttpFactory=oh,vp=zu.WebChannel=Yv,fT=zu.XhrIo=Xn;const _E="@firebase/firestore";class Rr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");let bc="9.6.7";const Qa=new Ga.Yd("@firebase/firestore");function Rm(){return Qa.logLevel}function Pe(n,...e){if(Qa.logLevel<=Ga.in.DEBUG){const t=e.map(E_);Qa.debug(`Firestore (${bc}): ${n}`,...t)}}function ar(n,...e){if(Qa.logLevel<=Ga.in.ERROR){const t=e.map(E_);Qa.error(`Firestore (${bc}): ${n}`,...t)}}function Ja(n,...e){if(Qa.logLevel<=Ga.in.WARN){const t=e.map(E_);Qa.warn(`Firestore (${bc}): ${n}`,...t)}}function E_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${bc}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function _t(n,e){n||st()}function je(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Rt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class dh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _p{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rr.UNAUTHENTICATED))}shutdown(){}}class gT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mT{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const c=D=>this.i!==o?(o=this.i,t(D)):Promise.resolve();let f=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Nr,e.enqueueRetryable(()=>c(this.currentUser))};const y=()=>{const D=f;e.enqueueRetryable((0,ye.Z)(function*(){yield D.promise,yield c(r.currentUser)}))},E=D=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(D=>E(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?E(D):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Nr)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t("string"==typeof r.accessToken),new dh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _t(null===e||"string"==typeof e),new Rr(e)}}class yT{constructor(e,t,r){this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class wE{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new yT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EE{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=c=>{null!=c.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.p;return this.p=c.token,Pe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.g.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.g.getImmediate({optional:!0});c?o(c):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_t("string"==typeof t.token),this.p=t.token,new b_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Wi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function vT(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Wi.A=-1;class bE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=vT(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%e.length))}return r}}function Ut(n,e){return n<e?-1:n>e?1:0}function wp(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function _T(n){return n+"\0"}class Jr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jr.fromMillis(Date.now())}static fromDate(e){return Jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Jr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Jr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ep(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ic(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class hh{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===hh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=e.get(o),f=t.get(o);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ft extends hh{construct(e,t,r){return new Ft(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Ft(t)}static emptyPath(){return new Ft([])}}const wT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends hh{construct(e,t,r){return new Pr(e,t,r)}static isValidIdentifier(e){return wT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(0===r.length)throw new Se(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;o<e.length;){const y=e[o];if("\\"===y){if(o+1===e.length)throw new Se(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Se(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===y?(f=!f,o++):"."!==y||f?(r+=y,o++):(c(),o++)}if(c(),f)throw new Se(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(t)}static emptyPath(){return new Pr([])}}class fh{constructor(e){this.fields=e,e.sort(Pr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class pr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new pr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new pr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pr.EMPTY_BYTE_STRING=new pr("");const TE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function el(n){if(_t(!!n),"string"==typeof n){let e=0;const t=TE.exec(n);if(_t(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Hn(n.seconds),nanos:Hn(n.nanos)}}function Hn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hs(n){return"string"==typeof n?pr.fromBase64String(n):pr.fromUint8Array(n)}function I_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function T_(n){const e=n.mapValue.fields.__previous_value__;return I_(e)?T_(e):e}function bp(n){const e=el(n.mapValue.fields.__local_write_time__.timestampValue);return new Jr(e.seconds,e.nanos)}class CE{constructor(e,t,r,o,c,f,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.useFetchStreams=E}}class Tc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Tc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}function tl(n){return null==n}function Ip(n){return 0===n&&1/n==-1/0}function Pm(n){return"number"==typeof n&&Number.isInteger(n)&&!Ip(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(Ft.fromString(e))}static fromName(e){return new Ke(Ft.fromString(e).popFirst(5))}static empty(){return new Ke(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ft.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new Ft(e.slice()))}}const DE={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function nl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?I_(n)?4:10:st()}function mo(n,e){if(n===e)return!0;const t=nl(n);if(t!==nl(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bp(n).isEqual(bp(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=el(r.timestampValue),f=el(o.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Hs(n.bytesValue).isEqual(Hs(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Hn(r.geoPointValue.latitude)===Hn(o.geoPointValue.latitude)&&Hn(r.geoPointValue.longitude)===Hn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Hn(r.integerValue)===Hn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Hn(r.doubleValue),f=Hn(o.doubleValue);return c===f?Ip(c)===Ip(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return wp(n.arrayValue.values||[],e.arrayValue.values||[],mo);case 10:return function(r,o){const c=r.mapValue.fields||{},f=o.mapValue.fields||{};if(Ep(c)!==Ep(f))return!1;for(const y in c)if(c.hasOwnProperty(y)&&(void 0===f[y]||!mo(c[y],f[y])))return!1;return!0}(n,e);default:return st()}var o}function Tp(n,e){return void 0!==(n.values||[]).find(t=>mo(t,e))}function ph(n,e){if(n===e)return 0;const t=nl(n),r=nl(e);if(t!==r)return Ut(t,r);switch(t){case 0:return 0;case 1:return Ut(n.booleanValue,e.booleanValue);case 2:return function(o,c){const f=Hn(o.integerValue||o.doubleValue),y=Hn(c.integerValue||c.doubleValue);return f<y?-1:f>y?1:f===y?0:isNaN(f)?isNaN(y)?0:-1:1}(n,e);case 3:return km(n.timestampValue,e.timestampValue);case 4:return km(bp(n),bp(e));case 5:return Ut(n.stringValue,e.stringValue);case 6:return function(o,c){const f=Hs(o),y=Hs(c);return f.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const f=o.split("/"),y=c.split("/");for(let E=0;E<f.length&&E<y.length;E++){const D=Ut(f[E],y[E]);if(0!==D)return D}return Ut(f.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const f=Ut(Hn(o.latitude),Hn(c.latitude));return 0!==f?f:Ut(Hn(o.longitude),Hn(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,c){const f=o.values||[],y=c.values||[];for(let E=0;E<f.length&&E<y.length;++E){const D=ph(f[E],y[E]);if(D)return D}return Ut(f.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,c){const f=o.fields||{},y=Object.keys(f),E=c.fields||{},D=Object.keys(E);y.sort(),D.sort();for(let O=0;O<y.length&&O<D.length;++O){const R=Ut(y[O],D[O]);if(0!==R)return R;const q=ph(f[y[O]],E[D[O]]);if(0!==q)return q}return Ut(y.length,D.length)}(n.mapValue,e.mapValue);default:throw st()}}function km(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ut(n,e);const t=el(n),r=el(e),o=Ut(t.seconds,r.seconds);return 0!==o?o:Ut(t.nanos,r.nanos)}function gh(n){return Fm(n)}function Fm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=el(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hs(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",c=!0;for(const f of r.values||[])c?c=!1:o+=",",o+=Fm(f);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",f=!0;for(const y of o)f?f=!1:c+=",",c+=`${y}:${Fm(r.fields[y])}`;return c+"}"}(n.mapValue):st();var e}function Lm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function C_(n){return!!n&&"integerValue"in n}function Vm(n){return!!n&&"arrayValue"in n}function AE(n){return!!n&&"nullValue"in n}function SE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Um(n){return!!n&&"mapValue"in n}function Cp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ic(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Cp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cp(n.arrayValue.values[t]);return e}return Object.assign({},n)}class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Um(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cp(t)}setAll(e){let t=Pr.emptyPath(),r={},o=[];e.forEach((f,y)=>{if(!t.isImmediateParentOf(y)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=y.popLast()}f?r[y.lastSegment()]=Cp(f):o.push(y.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());Um(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Um(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ic(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new oi(Cp(this.value))}}function D_(n){const e=[];return Ic(n.fields,(t,r)=>{const o=new Pr([t]);if(Um(r)){const c=D_(r.mapValue).fields;if(0===c.length)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)}),new fh(e)}class Tn{constructor(e,t,r,o,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Tn(e,0,yt.min(),yt.min(),oi.empty(),0)}static newFoundDocument(e,t,r){return new Tn(e,1,t,yt.min(),r,0)}static newNoDocument(e,t){return new Tn(e,2,t,yt.min(),oi.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,yt.min(),oi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let A_=(()=>{class n{constructor(t,r,o,c){this.indexId=t,this.collectionGroup=r,this.fields=o,this.indexState=c}}return n.UNKNOWN_ID=-1,n})();class Bm{constructor(e,t){this.fieldPath=e,this.kind=t}}class mh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mh(0,jm.min())}}class jm{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new jm(yt.min(),Ke.empty(),-1)}}class bT{constructor(e,t=null,r=[],o=[],c=null,f=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=y,this.P=null}}function xE(n,e=null,t=[],r=[],o=null,c=null,f=null){return new bT(n,e,t,r,o,c,f)}function Cc(n){const e=je(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+gh(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),tl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gh(r)).join(",")),e.P=t}return e.P}function Dp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!Sp(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!mo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Dc(n.startAt,e.startAt)&&Dc(n.endAt,e.endAt)}function yh(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Pi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new IT(e,t,r):"array-contains"===t?new CT(e,r):"in"===t?new ME(e,r):"not-in"===t?new DT(e,r):"array-contains-any"===t?new OE(e,r):new Pi(e,t,r)}static v(e,t,r){return"in"===t?new x_(e,r):new TT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(ph(t,this.value)):null!==t&&nl(this.value)===nl(t)&&this.V(ph(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class IT extends Pi{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.V(t)}}class x_ extends Pi{constructor(e,t){super(e,"in",t),this.keys=M_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TT extends Pi{constructor(e,t){super(e,"not-in",t),this.keys=M_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function M_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class CT extends Pi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vm(t)&&Tp(t.arrayValue,this.value)}}class ME extends Pi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Tp(this.value.arrayValue,t)}}class DT extends Pi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Tp(this.value.arrayValue,t)}}class OE extends Pi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tp(this.value.arrayValue,r))}}class Ap{constructor(e,t){this.position=e,this.inclusive=t}}class vh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Sp(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function RE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],f=n.position[o];if(r=c.field.isKeyField()?Ke.comparator(Ke.fromName(f.referenceValue),t.key):ph(f,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function Dc(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mo(n.position[t],e.position[t]))return!1;return!0}class fs{constructor(e,t=null,r=[],o=[],c=null,f="F",y=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=y,this.endAt=E,this.D=null,this.C=null}}function NE(n,e,t,r,o,c,f,y){return new fs(n,e,t,r,o,c,f,y)}function xp(n){return new fs(n)}function Mp(n){return!tl(n.limit)&&"F"===n.limitType}function Zm(n){return!tl(n.limit)&&"L"===n.limitType}function O_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function R_(n){for(const e of n.filters)if(e.S())return e.field;return null}function N_(n){return null!==n.collectionGroup}function Ac(n){const e=je(n);if(null===e.D){e.D=[];const t=R_(e),r=O_(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new vh(t)),e.D.push(new vh(Pr.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e.D.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new vh(Pr.keyField(),c))}}}return e.D}function ps(n){const e=je(n);if(!e.C)if("F"===e.limitType)e.C=xE(e.path,e.collectionGroup,Ac(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Ac(e))t.push(new vh(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new Ap(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new Ap(e.startAt.position,!e.startAt.inclusive):null;e.C=xE(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function qm(n,e,t){return new fs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rl(n,e){return Dp(ps(n),ps(e))&&n.limitType===e.limitType}function _h(n){return`${Cc(ps(n))}|lt:${n.limitType}`}function P_(n){return`Query(target=${function S_(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${gh(r.value)}`;var r}).join(", ")}]`),tl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>gh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>gh(t)).join(",")),`Target(${e})`}(ps(n))}; limitType=${n.limitType})`}function Hm(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ke.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,c,f){const y=RE(o,c,f);return o.inclusive?y<=0:y<0}(t.startAt,Ac(t),r)||t.endAt&&!function(o,c,f){const y=RE(o,c,f);return o.inclusive?y>=0:y>0}(t.endAt,Ac(t),r)));var t,r}function k_(n){return(e,t)=>{let r=!1;for(const o of Ac(n)){const c=AT(o,e,t);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function AT(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(o,c,f){const y=c.data.field(o),E=f.data.field(o);return null!==y&&null!==E?ph(y,E):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function PE(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ip(e)?"-0":e}}function kE(n){return{integerValue:""+n}}function $m(n,e){return Pm(e)?kE(e):PE(n,e)}class Gm{constructor(){this._=void 0}}function _A(n,e,t){return n instanceof yo?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):n instanceof il?Sc(n,e):n instanceof wh?F_(n,e):function(r,o){const c=FE(r,o),f=xT(c)+xT(r.k);return C_(c)&&C_(r.k)?kE(f):PE(r.O,f)}(n,e)}function ST(n,e,t){return n instanceof il?Sc(n,e):n instanceof wh?F_(n,e):t}function FE(n,e){return n instanceof Eh?C_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class yo extends Gm{}class il extends Gm{constructor(e){super(),this.elements=e}}function Sc(n,e){const t=L_(e);for(const r of n.elements)t.some(o=>mo(o,r))||t.push(r);return{arrayValue:{values:t}}}class wh extends Gm{constructor(e){super(),this.elements=e}}function F_(n,e){let t=L_(e);for(const r of n.elements)t=t.filter(o=>!mo(o,r));return{arrayValue:{values:t}}}class Eh extends Gm{constructor(e,t){super(),this.O=e,this.k=t}}function xT(n){return Hn(n.integerValue||n.doubleValue)}function L_(n){return Vm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class zm{constructor(e,t){this.field=e,this.transform=t}}class V_{constructor(e,t){this.version=e,this.transformResults=t}}class ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Km{}function MT(n,e,t){n instanceof Op?function(r,o,c){const f=r.value.clone(),y=B_(r.fieldTransforms,o,c.transformResults);f.setAll(y),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof xc?function(r,o,c){if(!Wm(r.precondition,o))return void o.convertToUnknownDocument(c.version);const f=B_(r.fieldTransforms,o,c.transformResults),y=o.data;y.setAll(bh(r)),y.setAll(f),o.convertToFoundDocument(c.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function U_(n,e,t){var o;n instanceof Op?function(r,o,c){if(!Wm(r.precondition,o))return;const f=r.value.clone(),y=j_(r.fieldTransforms,c,o);f.setAll(y),o.convertToFoundDocument(UE(o),f).setHasLocalMutations()}(n,e,t):n instanceof xc?function(r,o,c){if(!Wm(r.precondition,o))return;const f=j_(r.fieldTransforms,c,o),y=o.data;y.setAll(bh(r)),y.setAll(f),o.convertToFoundDocument(UE(o),y).setHasLocalMutations()}(n,e,t):Wm(n.precondition,o=e)&&o.convertToNoDocument(yt.min())}function OT(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),c=FE(r.transform,o||null);null!=c&&(null==t&&(t=oi.empty()),t.set(r.field,c))}return t||null}function VE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&wp(t,r,(o,c)=>function LE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof il&&r instanceof il||t instanceof wh&&r instanceof wh?wp(t.elements,r.elements,mo):t instanceof Eh&&r instanceof Eh?mo(t.k,r.k):t instanceof yo&&r instanceof yo);var t,r}(o,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function UE(n){return n.isFoundDocument()?n.version:yt.min()}class Op extends Km{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class xc extends Km{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}}function bh(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function B_(n,e,t){const r=new Map;_t(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],f=c.transform,y=e.data.field(c.field);r.set(c.field,ST(f,y,t[o]))}return r}function j_(n,e,t){const r=new Map;for(const o of n){const c=o.transform,f=t.data.field(o.field);r.set(o.field,_A(c,f,e))}return r}class Ih extends Km{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Ym extends Km{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class BE{constructor(e){this.count=e}}var lr,Zt;function jE(n){switch(n){default:return st();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function ZE(n){if(void 0===n)return ar("GRPC error has no .code"),ae.UNKNOWN;switch(n){case lr.OK:return ae.OK;case lr.CANCELLED:return ae.CANCELLED;case lr.UNKNOWN:return ae.UNKNOWN;case lr.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case lr.INTERNAL:return ae.INTERNAL;case lr.UNAVAILABLE:return ae.UNAVAILABLE;case lr.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case lr.NOT_FOUND:return ae.NOT_FOUND;case lr.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case lr.ABORTED:return ae.ABORTED;case lr.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case lr.DATA_LOSS:return ae.DATA_LOSS;default:return st()}}(Zt=lr||(lr={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";class er{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new er(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qm(this.root,e,this.comparator,!0)}}class Qm{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=null!=r?r:Xr.RED,this.left=null!=o?o:Xr.EMPTY,this.right=null!=c?c:Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new Xr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Xr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Xr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sn{constructor(e){this.comparator=e,this.data=new er(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(e){return new qE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sn(this.comparator);return t.data=e,t}}class qE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sl(n){return n.hasNext()?n.getNext():void 0}const ea=new er(Ke.comparator);function $s(){return ea}const Z_=new er(Ke.comparator);function Mc(){return Z_}const RT=new er(Ke.comparator),NT=new sn(Ke.comparator);function Xt(...n){let e=NT;for(const t of n)e=e.add(t);return e}const Jm=new sn(Ut);function Oc(){return Jm}class Rp{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Np.createSynthesizedTargetChangeForCurrentChange(e,t)),new Rp(yt.min(),r,Oc(),$s(),Xt())}}class Np{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Np(pr.EMPTY_BYTE_STRING,t,Xt(),Xt(),Xt())}}class Pp{constructor(e,t,r,o){this.M=e,this.removedTargetIds=t,this.key=r,this.$=o}}class q_{constructor(e,t){this.targetId=e,this.F=t}}class Xm{constructor(e,t,r=pr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class H_{constructor(){this.B=0,this.L=kT(),this.U=pr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Xt(),t=Xt(),r=Xt();return this.L.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:st()}}),new Np(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=kT()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class PT{constructor(e){this.nt=e,this.st=new Map,this.it=$s(),this.rt=HE(),this.ot=new sn(Ut)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.F.count,o=this.wt(t);if(o){const c=o.target;if(yh(c))if(0===r){const f=new Ke(c.path);this.at(t,f,Tn.newNoDocument(f,yt.min()))}else _t(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((c,f)=>{const y=this.wt(f);if(y){if(c.current&&yh(y.target)){const E=new Ke(y.target.path);null!==this.it.get(E)||this.It(f,E)||this.at(f,E,Tn.newNoDocument(E,e))}c.j&&(t.set(f,c.H()),c.J())}});let r=Xt();this.rt.forEach((c,f)=>{let y=!0;f.forEachWhile(E=>{const D=this.wt(E);return!D||2===D.purpose||(y=!1,!1)}),y&&(r=r.add(c))}),this.it.forEach((c,f)=>f.setReadTime(e));const o=new Rp(e,t,this.ot,this.it,r);return this.it=$s(),this.rt=HE(),this.ot=new sn(Ut),o}ut(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new H_,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new sn(Ut),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new H_),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function HE(){return new er(Ke.comparator)}function kT(){return new er(Ke.comparator)}const $_={asc:"ASCENDING",desc:"DESCENDING"},G_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $E{constructor(e,t){this.databaseId=e,this.N=t}}function Rc(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ey(n,e){return n.N?e.toBase64():e.toUint8Array()}function FT(n,e){return Rc(n,e.toTimestamp())}function kr(n){return _t(!!n),yt.fromTimestamp(function(e){const t=el(e);return new Jr(t.seconds,t.nanos)}(n))}function z_(n,e){return(t=n,new Ft(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function GE(n){const e=Ft.fromString(n);return _t(X_(e)),e}function Th(n,e){return z_(n.databaseId,e.path)}function Gs(n,e){const t=GE(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(W_(t))}function ty(n,e){return z_(n.databaseId,e)}function zE(n){const e=GE(n);return 4===e.length?Ft.emptyPath():W_(e)}function Ch(n){return new Ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function W_(n){return _t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function WE(n,e,t){return{name:Th(n,e),fields:t.value.mapValue.fields}}function K_(n,e,t){const r=Gs(n,e.name),o=kr(e.updateTime),c=new oi({mapValue:{fields:e.fields}}),f=Tn.newFoundDocument(r,o,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Dh(n,e){let t;if(e instanceof Op)t={update:WE(n,e.key,e.value)};else if(e instanceof Ih)t={delete:Th(n,e.key)};else if(e instanceof xc)t={update:WE(n,e.key,e.data),updateMask:J_(e.fieldMask)};else{if(!(e instanceof Ym))return st();t={verify:Th(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const f=c.transform;if(f instanceof yo)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof il)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof wh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Eh)return{fieldPath:c.field.canonicalString(),increment:f.k};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:FT(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:st()),t;var o}function Y_(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?ur.updateTime(kr(o.updateTime)):void 0!==o.exists?ur.exists(o.exists):ur.none():ur.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,f){let y=null;"setToServerValue"in f?(_t("REQUEST_TIME"===f.setToServerValue),y=new yo):"appendMissingElements"in f?y=new il(f.appendMissingElements.values||[]):"removeAllFromArray"in f?y=new wh(f.removeAllFromArray.values||[]):"increment"in f?y=new Eh(c,f.increment):st();const E=Pr.fromServerFormat(f.fieldPath);return new zm(E,y)}(n,o)):[];var o;if(e.update){const o=Gs(n,e.update.name),c=new oi({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new fh((e.updateMask.fieldPaths||[]).map(D=>Pr.fromServerFormat(D)));return new xc(o,c,f,t,r)}return new Op(o,c,t,r)}if(e.delete){const o=Gs(n,e.delete);return new Ih(o,t)}if(e.verify){const o=Gs(n,e.verify);return new Ym(o,t)}return st()}function Nc(n,e){return{documents:[ty(n,e.path)]}}function YE(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ty(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ty(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const D=E.map(O=>function(R){if("=="===R.op){if(SE(R.value))return{unaryFilter:{field:Sh(R.field),op:"IS_NAN"}};if(AE(R.value))return{unaryFilter:{field:Sh(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(SE(R.value))return{unaryFilter:{field:Sh(R.field),op:"IS_NOT_NAN"}};if(AE(R.value))return{unaryFilter:{field:Sh(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sh(R.field),op:Q_(R.op),value:R.value}}}(O));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);o&&(t.structuredQuery.where=o);const c=function(E){if(0!==E.length)return E.map(D=>{return{field:Sh((O=D).field),direction:VT(O.dir)};var O})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=(D=e.limit,n.N||tl(D)?D:{value:D});var D,y,E;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(y=e.startAt).inclusive,values:y.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function QE(n){let e=zE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){_t(1===r);const O=t.from[0];O.allDescendants?o=O.collectionId:e=e.child(O.collectionId)}let c=[];t.where&&(c=Ah(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(O=>{return new vh(Pc((R=O).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let y=null;t.limit&&(y=function(O){let R;return R="object"==typeof O?O.value:O,tl(R)?null:R}(t.limit));let E=null;var O;t.startAt&&(E=new Ap((O=t.startAt).values||[],!!O.before));let D=null;return t.endAt&&(D=function(O){return new Ap(O.values||[],!O.before)}(t.endAt)),NE(e,o,f,c,y,"F",E,D)}function Ah(n){return n?void 0!==n.unaryFilter?[BT(n)]:void 0!==n.fieldFilter?[UT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Ah(e)).reduce((e,t)=>e.concat(t)):st():[]}function VT(n){return $_[n]}function Q_(n){return G_[n]}function Sh(n){return{fieldPath:n.canonicalString()}}function Pc(n){return Pr.fromServerFormat(n.fieldPath)}function UT(n){return Pi.create(Pc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function BT(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Pc(n.unaryFilter.field);return Pi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Pc(n.unaryFilter.field);return Pi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pc(n.unaryFilter.field);return Pi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Pc(n.unaryFilter.field);return Pi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function J_(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function X_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function gr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ry(e)),e=ny(n.get(t),e);return ry(e)}function ny(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function ry(n){return n+"\x01\x01"}function Xa(n){const e=n.length;if(_t(e>=2),2===e)return _t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Ft.emptyPath();const t=e-2,r=[];let o="";for(let c=0;c<e;){const f=n.indexOf("\x01",c);switch((f<0||f>t)&&st(),n.charAt(f+1)){case"\x01":const y=n.substring(c,f);let E;0===o.length?E=y:(o+=y,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(c,f),o+="\0";break;case"\x11":o+=n.substring(c,f+1);break;default:st()}c=f+2}return new Ft(r)}class JE{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class gs{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}gs.store="owner",gs.key="owner";class eu{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}eu.store="mutationQueues",eu.keyPath="userId";class on{constructor(e,t,r,o,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=c}}on.store="mutations",on.keyPath="batchId",on.userMutationsIndex="userMutationsIndex",on.userMutationsKeyPath=["userId","batchId"];class ei{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,gr(t)]}static key(e,t,r){return[e,gr(t),r]}}ei.store="documentMutations",ei.PLACEHOLDER=new ei;class jT{constructor(e,t){this.path=e,this.readTime=t}}class e0{constructor(e,t){this.path=e,this.version=t}}class Cn{constructor(e,t,r,o,c,f){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=c,this.parentPath=f}}Cn.store="remoteDocuments",Cn.readTimeIndex="readTimeIndex",Cn.readTimeIndexPath="readTime",Cn.collectionReadTimeIndex="collectionReadTimeIndex",Cn.collectionReadTimeIndexPath=["parentPath","readTime"];class tu{constructor(e){this.byteSize=e}}tu.store="remoteDocumentGlobal",tu.key="remoteDocumentGlobalKey";class Ki{constructor(e,t,r,o,c,f,y){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=f,this.query=y}}Ki.store="targets",Ki.keyPath="targetId",Ki.queryTargetsIndexName="queryTargetsIndex",Ki.queryTargetsKeyPath=["canonicalId","targetId"];class ti{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}ti.store="targetDocuments",ti.keyPath=["targetId","path"],ti.documentTargetsIndex="documentTargetsIndex",ti.documentTargetsKeyPath=["path","targetId"];class Yi{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}Yi.key="targetGlobalKey",Yi.store="targetGlobal";class ol{constructor(e,t){this.collectionId=e,this.parent=t}}ol.store="collectionParents",ol.keyPath=["collectionId","parent"];class nu{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}nu.store="clientMetadata",nu.keyPath="clientId";class kc{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}kc.store="bundles",kc.keyPath="bundleId";class Fc{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Fc.store="namedQueries",Fc.keyPath="name";class ms{constructor(e,t,r){this.indexId=e,this.collectionGroup=t,this.fields=r}}ms.store="indexConfiguration",ms.keyPath="indexId",ms.collectionGroupIndex="collectionGroupIndex",ms.collectionGroupIndexPath="collectionGroup";class zs{constructor(e,t,r,o,c,f){this.indexId=e,this.uid=t,this.sequenceNumber=r,this.readTime=o,this.documentKey=c,this.largestBatchId=f}}zs.store="indexState",zs.keyPath=["indexId","uid"],zs.sequenceNumberIndex="sequenceNumberIndex",zs.sequenceNumberIndexPath=["uid","sequenceNumber"];class ys{constructor(e,t,r,o,c){this.indexId=e,this.uid=t,this.arrayValue=r,this.directionalValue=o,this.documentKey=c}}ys.store="indexEntries",ys.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],ys.documentKeyIndex="documentKeyIndex",ys.documentKeyIndexPath=["indexId","uid","documentKey"];class Fr{constructor(e,t,r,o,c,f){this.userId=e,this.collectionPath=t,this.documentId=r,this.collectionGroup=o,this.largestBatchId=c,this.overlayMutation=f}}Fr.store="documentOverlays",Fr.keyPath=["userId","collectionPath","documentId"],Fr.collectionPathOverlayIndex="collectionPathOverlayIndex",Fr.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Fr.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Fr.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const t0=[eu.store,on.store,ei.store,Cn.store,Ki.store,gs.store,Yi.store,ti.store,nu.store,tu.store,ol.store,kc.store,Fc.store],n0=[...t0,Fr.store],XE=[...n0,ms.store,zs.store,ys.store],r0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let o=0,c=0,f=!1;e.forEach(y=>{++o,y.next(()=>{++c,f&&c===o&&t()},E=>r(E))}),f=!0,c===o&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(o=>o?de.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}}class s0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Nr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new iy(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=tb(r.target.error);this.At.reject(new iy(e,o))}}static open(e,t,r,o){try{return new s0(t,e.transaction(o,r))}catch(c){throw new iy(t,c)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bA(t)}}class Ws{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===Ws.vt((0,Rt.z$)())&&ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Mh(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,Rt.hl)())return!1;if(Ws.St())return!0;const e=(0,Rt.z$)(),t=Ws.vt(e),r=0<t&&t<10,o=Ws.Dt(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}xt(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=f=>{r(f.target.result)},c.onblocked=()=>{o(new iy(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const y=f.target.error;o("VersionError"===y.name?new Se(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new Se(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new iy(e,y))},c.onupgradeneeded=f=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.bt.kt(f.target.result,c.transaction,f.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Ot&&(t.db.onversionchange=r=>t.Ot(r)),t.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var c=this;return(0,ye.Z)(function*(){const f="readonly"===t;let y=0;for(;;){++y;try{c.db=yield c.xt(e);const E=s0.open(c.db,e,f?"readonly":"readwrite",r),D=o(E).next(O=>(E.Pt(),O)).catch(O=>(E.abort(O),de.reject(O))).toPromise();return D.catch(()=>{}),yield E.Rt,D}catch(E){const D="FirebaseError"!==E.name&&y<3;if(Pe("SimpleDb","Transaction failed with error:",E.message,"Retrying:",D),c.close(),!D)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class EA{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return Mh(this.$t.delete())}}class iy extends Se{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xh(n){return"IndexedDbTransactionError"===n.name}class bA{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Mh(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Mh(this.store.add(e))}get(e){return Mh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Mh(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Mh(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),c=[];return this.Kt(o,(f,y)=>{c.push(y)}).next(()=>c)}{const o=this.store.getAll(r.range);return new de((c,f)=>{o.onerror=y=>{f(y.target.error)},o.onsuccess=y=>{c(y.target.result)}})}}Gt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Kt(o,(c,f,y)=>y.delete())}Qt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Kt(o,t)}Wt(e){const t=this.cursor({});return new de((r,o)=>{t.onerror=c=>{const f=tb(c.target.error);o(f)},t.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(y=>{y?f.continue():r()}):r()}})}Kt(e,t){const r=[];return new de((o,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const y=f.target.result;if(!y)return void o();const E=new EA(y),D=t(y.primaryKey,y.value,E);if(D instanceof de){const O=D.catch(R=>(E.done(),de.reject(R)));r.push(O)}E.isDone?o():null===E.Lt?y.continue():y.continue(E.Lt)}}).next(()=>de.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Mh(n){return new de((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=tb(r.target.error);t(o)}})}let ZT=!1;function tb(n){const e=Ws.vt((0,Rt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZT||(ZT=!0,setTimeout(()=>{throw r},0)),r}}return n}class qT extends eb{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function tr(n,e){const t=je(n);return Ws.Nt(t.zt,e)}class nb{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&MT(c,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&U_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&U_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(yt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&wp(this.mutations,e.mutations,(t,r)=>VE(t,r))&&wp(this.baseMutations,e.baseMutations,(t,r)=>VE(t,r))}}class kp{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){_t(e.mutations.length===r.length);let o=RT;const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new kp(e,t,r,o)}}class al{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ru{constructor(e,t,r,o,c=yt.min(),f=yt.min(),y=pr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y}withSequenceNumber(e){return new ru(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class rb{constructor(e){this.Ht=e}}function ib(n,e){let t;if(e.document)t=K_(n.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ke.fromSegments(e.noDocument.path),o=Oh(e.noDocument.readTime);t=Tn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=Ke.fromSegments(e.unknownDocument.path),o=Oh(e.unknownDocument.version);t=Tn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(ay(e.readTime)),t}function sy(n,e){const t=oy(e.readTime),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){const o={name:Th(f=n.Ht,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:Rc(f,y.version.toTimestamp())};return new Cn(null,null,o,e.hasCommittedMutations,t,r)}var f,y;if(e.isNoDocument()){const o=e.key.path.toArray(),c=ul(e.version),f=e.hasCommittedMutations;return new Cn(null,new jT(o,c),null,f,t,r)}if(e.isUnknownDocument()){const o=e.key.path.toArray(),c=ul(e.version);return new Cn(new e0(o,c),null,null,!0,t,r)}return st()}function oy(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ay(n){const e=new Jr(n[0],n[1]);return yt.fromTimestamp(e)}function ul(n){const e=n.toTimestamp();return new JE(e.seconds,e.nanoseconds)}function Oh(n){const e=new Jr(n.seconds,n.nanoseconds);return yt.fromTimestamp(e)}function Lc(n,e){const t=(e.baseMutations||[]).map(c=>Y_(n.Ht,c));for(let c=0;c<e.mutations.length-1;++c){const f=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(f.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>Y_(n.Ht,c)),o=Jr.fromMillis(e.localWriteTimeMs);return new nb(e.batchId,o,t,r)}function ll(n){const e=Oh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Oh(n.lastLimboFreeSnapshotVersion):yt.min();let r;var o;return void 0!==n.query.documents?(_t(1===(o=n.query).documents.length),r=ps(xp(zE(o.documents[0])))):r=ps(QE(n.query)),new ru(r,n.targetId,0,n.lastListenSequenceNumber,e,t,pr.fromBase64String(n.resumeToken))}function o0(n,e){const t=ul(e.snapshotVersion),r=ul(e.lastLimboFreeSnapshotVersion);let o;o=yh(e.target)?Nc(n.Ht,e.target):YE(n.Ht,e.target);const c=e.resumeToken.toBase64();return new Ki(e.targetId,Cc(e.target),t,c,e.sequenceNumber,r,o)}function sb(n){const e=QE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qm(e,e.limit,"L"):e}function ob(n,e){return new al(e.largestBatchId,Y_(n.Ht,e.overlayMutation))}function HT(n,e){const t=e.path.lastSegment();return[n,gr(e.path.popLast()),t]}class $T{getBundleMetadata(e,t){return uy(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Oh(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return uy(e).put({bundleId:(r=t).id,createTime:ul(kr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return ab(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:sb(o.bundledQuery),readTime:Oh(o.readTime)};var o})}saveNamedQuery(e,t){return ab(e).put({name:(r=t).name,readTime:ul(kr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function uy(n){return tr(n,kc.store)}function ab(n){return tr(n,Fc.store)}class ub{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){return new ub(e,t.uid||"")}getOverlay(e,t){return Fp(e).get(HT(this.userId,t)).next(r=>r?ob(this.O,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach(c=>{const f=new al(t,c);o.push(this.Yt(e,f))}),de.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(f=>o.add(gr(f.getCollectionPath())));const c=[];return o.forEach(f=>{const y=IDBKeyRange.bound([this.userId,f,r],[this.userId,f,r+1],!1,!0);c.push(Fp(e).Gt(Fr.collectionPathOverlayIndex,y))}),de.waitFor(c)}getOverlaysForCollection(e,t,r){const o=new Map,c=gr(t),f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Fp(e).qt(Fr.collectionPathOverlayIndex,f).next(y=>{for(const E of y){const D=ob(this.O,E);o.set(D.getKey(),D)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const c=new Map;let f;const y=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Fp(e).Qt({index:Fr.collectionGroupOverlayIndex,range:y},(E,D,O)=>{const R=ob(this.O,D);c.size<o||R.largestBatchId===f?(c.set(R.getKey(),R),f=R.largestBatchId):O.done()}).next(()=>c)}Yt(e,t){return Fp(e).put(function(r,o,c){const[f,y,E]=HT(o,c.mutation.key);return new Fr(o,y,E,c.mutation.key.getCollectionGroup(),c.largestBatchId,Dh(r.Ht,c.mutation))}(this.O,this.userId,t))}}function Fp(n){return tr(n,Fr.store)}class Rh{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(Hn(e.integerValue));else if("doubleValue"in e){const r=Hn(e.doubleValue);isNaN(r)?this.ee(t,13):(this.ee(t,15),Ip(r)?t.ne(0):t.ne(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se(`${r.seconds||""}`),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(Hs(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ee(t,45),t.ne(r.latitude||0),t.ne(r.longitude||0)}else"mapValue"in e?mo(e,DE)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):st()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const r=e.fields||{};this.ee(t,55);for(const o of Object.keys(r))this.ie(o,t),this.Zt(r[o],t)}ae(e,t){const r=e.values||[];this.ee(t,50);for(const o of r)this.Zt(o,t)}ce(e,t){this.ee(t,37),Ke.fromName(e).path.forEach(r=>{this.ee(t,60),this.he(r,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function GT(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Qi(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const c=GT(255&t[o]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}Rh.le=new Rh;class zT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.de(r.value),r=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.me(r.value),r=t.next();this.ge()}ye(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.de(r);else if(r<2048)this.de(960|r>>>6),this.de(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.de(480|r>>>12),this.de(128|63&r>>>6),this.de(128|63&r);else{const o=t.codePointAt(0);this.de(240|o>>>18),this.de(128|63&o>>>12),this.de(128|63&o>>>6),this.de(128|63&o)}}this._e()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.me(r);else if(r<2048)this.me(960|r>>>6),this.me(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.me(480|r>>>12),this.me(128|63&r>>>6),this.me(128|63&r);else{const o=t.codePointAt(0);this.me(240|o>>>18),this.me(128|63&o>>>12),this.me(128|63&o>>>6),this.me(128|63&o)}}this.ge()}Ie(e){const t=this.Ee(e),r=Qi(t);this.Te(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ae(e){const t=this.Ee(e),r=Qi(t);this.Te(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class a0{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class WT{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class lb{constructor(){this.Se=new zT,this.De=new a0(this.Se),this.Ce=new WT(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class Lp{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}}function ly(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:(t=u0(n.arrayValue,e.arrayValue),0!==t?t:u0(n.directionalValue,e.directionalValue)))}function u0(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class KT{constructor(){this.xe=new cy}addToCollectionParentIndex(e,t){return this.xe.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t,r){return de.resolve(Xt())}getFieldIndex(e,t){return de.resolve(null)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class cy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new sn(Ft.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new sn(Ft.comparator)).toArray()}}class cb{constructor(e){this.user=e,this.ke=new cy,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.ke.add(t)});const c={collectionId:r,parent:gr(o)};return db(e).put(c)}return de.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[_T(t),""],!1,!0);return db(e).qt(o).next(c=>{for(const f of c){if(f.collectionId!==t)break;r.push(Xa(f.parent))}return r})}addFieldIndex(e,t){const r=Nh(e),o=new ms((c=t).indexId,c.collectionGroup,c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind]));var c;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=Nh(e),o=Ji(e),c=dy(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t,r){return de.resolve(Xt())}getFieldIndex(e,t){return de.resolve(null)}Oe(e,t){const r=new lb;for(const o of e.fields.filter(f=>2!==f.kind)){const c=t.data.field(o.fieldPath);if(null==c)return null;const f=r.Ne(o.kind);Rh.le.Xt(c,f)}return r.Ve()}Me(e){const t=new lb;return Rh.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const r=Nh(e),o=Ji(e);return(t?r.qt(ms.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next(c=>{const f=[];return de.forEach(c,y=>o.get([y.indexId,this.uid]).next(E=>{f.push(function(D,O){const R=O?new mh(O.sequenceNumber,new jm(Oh(O.readTime),new Ke(Xa(O.documentKey)),O.largestBatchId)):mh.empty(),q=D.fields.map(([G,re])=>new Bm(Pr.fromServerFormat(G),re));return new A_(D.indexId,D.collectionGroup,q,R)}(y,E))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>r.indexState.sequenceNumber-o.indexState.sequenceNumber),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Nh(e),c=Ji(e);return this.$e(e).next(f=>o.qt(ms.collectionGroupIndex,IDBKeyRange.bound(t,t)).next(y=>de.forEach(y,E=>{return c.put(new zs(E.indexId,this.user.uid||"",f,ul((q=r).readTime),gr(q.documentKey.path),q.largestBatchId));var q})))}updateIndexEntries(e,t){const r=new Map;return de.forEach(t,(o,c)=>{const f=r.get(o.collectionGroup);return(f?de.resolve(f):this.getFieldIndexes(e,o.collectionGroup)).next(y=>(r.set(o.collectionGroup,y),de.forEach(y,E=>this.Fe(e,o,E).next(D=>{const O=this.Be(c,E);return D.isEqual(O)?de.resolve():this.Le(e,c,D,O)}))))})}Ue(e,t,r){return dy(e).put(new ys(r.indexId,this.uid,r.arrayValue,r.directionalValue,gr(t.key.path)))}qe(e,t,r){return dy(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,gr(t.key.path)])}Fe(e,t,r){const o=dy(e);let c=new sn(ly);return o.Qt({index:ys.documentKeyIndex,range:IDBKeyRange.only([r.indexId,this.uid,gr(t.path)])},(f,y)=>{c=c.add(new Lp(r.indexId,t,y.arrayValue,y.directionalValue))}).next(()=>c)}Be(e,t){let r=new sn(ly);const o=this.Oe(t,e);if(null==o)return r;const c=t.fields.find(y=>2===y.kind);if(null!=c){const f=e.data.field(c.fieldPath);if(Vm(f))for(const y of f.arrayValue.values||[])r=r.add(new Lp(t.indexId,e.key,this.Me(y),o))}else r=r.add(new Lp(t.indexId,e.key,new Uint8Array,o));return r}Le(e,t,r,o){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,y,E,D,O){const R=f.getIterator(),q=y.getIterator();let G=sl(R),re=sl(q);for(;G||re;){let ke=!1,ze=!1;if(G&&re){const pt=E(G,re);pt<0?ze=!0:pt>0&&(ke=!0)}else null!=G?ze=!0:ke=!0;ke?(D(re),re=sl(q)):ze?(O(G),G=sl(R)):(G=sl(R),re=sl(q))}}(r,o,ly,f=>{c.push(this.Ue(e,t,f))},f=>{c.push(this.qe(e,t,f))}),de.waitFor(c)}$e(e){let t=1;return Ji(e).Qt({index:zs.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,c)=>{c.done(),t=o.sequenceNumber+1}).next(()=>t)}}function db(n){return tr(n,ol.store)}function dy(n){return tr(n,ys.store)}function Nh(n){return tr(n,ms.store)}function Ji(n){return tr(n,zs.store)}const hb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vs(e,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fb(n,e,t){const r=n.store(on.store),o=n.store(ei.store),c=[],f=IDBKeyRange.only(t.batchId);let y=0;const E=r.Qt({range:f},(O,R,q)=>(y++,q.delete()));c.push(E.next(()=>{_t(1===y)}));const D=[];for(const O of t.mutations){const R=ei.key(e,O.key.path,t.batchId);c.push(o.delete(R)),D.push(O.key)}return de.waitFor(c).next(()=>D)}function Vp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);class l0{constructor(e,t,r,o){this.userId=e,this.O=t,this.indexManager=r,this.referenceDelegate=o,this.Ke={}}static Jt(e,t,r,o){_t(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new l0(c,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return iu(e).Qt({index:on.userMutationsIndex,range:r},(o,c,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const c=Ph(e),f=iu(e);return f.add({}).next(y=>{_t("number"==typeof y);const E=new nb(y,t,r,o),D=function(q,G,re){const ke=re.baseMutations.map(pt=>Dh(q.Ht,pt)),ze=re.mutations.map(pt=>Dh(q.Ht,pt));return new on(G,re.batchId,re.localWriteTime.toMillis(),ke,ze)}(this.O,this.userId,E),O=[];let R=new sn((q,G)=>Ut(q.canonicalString(),G.canonicalString()));for(const q of o){const G=ei.key(this.userId,q.key.path,y);R=R.add(q.key.path.popLast()),O.push(f.put(D)),O.push(c.put(G,ei.PLACEHOLDER))}return R.forEach(q=>{O.push(this.indexManager.addToCollectionParentIndex(e,q))}),e.addOnCommittedListener(()=>{this.Ke[y]=E.keys()}),de.waitFor(O).next(()=>E)})}lookupMutationBatch(e,t){return iu(e).get(t).next(r=>r?(_t(r.userId===this.userId),Lc(this.O,r)):null)}Ge(e,t){return this.Ke[t]?de.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Ke[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return iu(e).Qt({index:on.userMutationsIndex,range:o},(f,y,E)=>{y.userId===this.userId&&(_t(y.batchId>=r),c=Lc(this.O,y)),E.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return iu(e).Qt({index:on.userMutationsIndex,range:t,reverse:!0},(o,c,f)=>{r=c.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return iu(e).qt(on.userMutationsIndex,t).next(r=>r.map(o=>Lc(this.O,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ei.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),c=[];return Ph(e).Qt({range:o},(f,y,E)=>{const[D,O,R]=f,q=Xa(O);if(D===this.userId&&t.path.isEqual(q))return iu(e).get(R).next(G=>{if(!G)throw st();_t(G.userId===this.userId),c.push(Lc(this.O,G))});E.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new sn(Ut);const o=[];return t.forEach(c=>{const f=ei.prefixForPath(this.userId,c.path),y=IDBKeyRange.lowerBound(f),E=Ph(e).Qt({range:y},(D,O,R)=>{const[q,G,re]=D,ke=Xa(G);q===this.userId&&c.path.isEqual(ke)?r=r.add(re):R.done()});o.push(E)}),de.waitFor(o).next(()=>this.je(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,c=ei.prefixForPath(this.userId,r),f=IDBKeyRange.lowerBound(c);let y=new sn(Ut);return Ph(e).Qt({range:f},(E,D,O)=>{const[R,q,G]=E,re=Xa(q);R===this.userId&&r.isPrefixOf(re)?re.length===o&&(y=y.add(G)):O.done()}).next(()=>this.je(e,y))}je(e,t){const r=[],o=[];return t.forEach(c=>{o.push(iu(e).get(c).next(f=>{if(null===f)throw st();_t(f.userId===this.userId),r.push(Lc(this.O,f))}))}),de.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return fb(e.zt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Qe(t.batchId)}),de.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const r=IDBKeyRange.lowerBound(ei.prefixForUser(this.userId)),o=[];return Ph(e).Qt({range:r},(c,f,y)=>{if(c[0]===this.userId){const E=Xa(c[1]);o.push(E)}else y.done()}).next(()=>{_t(0===o.length)})})}containsKey(e,t){return pb(e,this.userId,t)}We(e){return YT(e).get(this.userId).next(t=>t||new eu(this.userId,-1,""))}}function pb(n,e,t){const r=ei.prefixForPath(e,t.path),o=r[1],c=IDBKeyRange.lowerBound(r);let f=!1;return Ph(n).Qt({range:c,jt:!0},(y,E,D)=>{const[O,R,q]=y;O===e&&R===o&&(f=!0),D.done()}).next(()=>f)}function iu(n){return tr(n,on.store)}function Ph(n){return tr(n,ei.store)}function YT(n){return tr(n,eu.store)}class cl{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new cl(0)}static Je(){return new cl(-1)}}class gb{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next(t=>{const r=new cl(t.highestTargetId);return t.highestTargetId=r.next(),this.Xe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(t=>yt.fromTimestamp(new Jr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Ye(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Xe(e,o)))}addTargetData(e,t){return this.Ze(e,t).next(()=>this.Ye(e).next(r=>(r.targetCount+=1,this.tn(t,r),this.Xe(e,r))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>kh(e).delete(t.targetId)).next(()=>this.Ye(e)).next(r=>(_t(r.targetCount>0),r.targetCount-=1,this.Xe(e,r)))}removeTargets(e,t,r){let o=0;const c=[];return kh(e).Qt((f,y)=>{const E=ll(y);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,c.push(this.removeTargetData(e,E)))}).next(()=>de.waitFor(c)).next(()=>o)}forEachTarget(e,t){return kh(e).Qt((r,o)=>{const c=ll(o);t(c)})}Ye(e){return mb(e).get(Yi.key).next(t=>(_t(null!==t),t))}Xe(e,t){return mb(e).put(Yi.key,t)}Ze(e,t){return kh(e).put(o0(this.O,t))}tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ye(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Cc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return kh(e).Qt({range:o,index:Ki.queryTargetsIndexName},(f,y,E)=>{const D=ll(y);Dp(t,D.target)&&(c=D,E.done())}).next(()=>c)}addMatchingKeys(e,t,r){const o=[],c=su(e);return t.forEach(f=>{const y=gr(f.path);o.push(c.put(new ti(r,y))),o.push(this.referenceDelegate.addReference(e,r,f))}),de.waitFor(o)}removeMatchingKeys(e,t,r){const o=su(e);return de.forEach(t,c=>{const f=gr(c.path);return de.waitFor([o.delete([r,f]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=su(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=su(e);let c=Xt();return o.Qt({range:r,jt:!0},(f,y,E)=>{const D=Xa(f[1]),O=new Ke(D);c=c.add(O)}).next(()=>c)}containsKey(e,t){const r=gr(t.path),o=IDBKeyRange.bound([r],[_T(r)],!1,!0);let c=0;return su(e).Qt({index:ti.documentTargetsIndex,jt:!0,range:o},([f,y],E,D)=>{0!==f&&(c++,D.done())}).next(()=>c>0)}Tt(e,t){return kh(e).get(t).next(r=>r?ll(r):null)}}function kh(n){return tr(n,Ki.store)}function mb(n){return tr(n,Yi.store)}function su(n){return tr(n,ti.store)}function vo(n){return Up.apply(this,arguments)}function Up(){return Up=(0,ye.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==r0)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Up.apply(this,arguments)}function c0([n,e],[t,r]){const o=Ut(n,t);return 0===o?Ut(e,r):o}class QT{constructor(e){this.en=e,this.buffer=new sn(c0),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();c0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var t=this;const r=this.on?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t.cn=null,t.on=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){xh(o)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield vo(o)}yield t.un(e)}))}}class vb{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return de.resolve(Wi.A);const r=new QT(t);return this.an.forEachTarget(e,o=>r.rn(o.sequenceNumber)).next(()=>this.an.ln(e,o=>r.rn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.an.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(hb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hb):this.fn(e,t))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let r,o,c,f,y,E,D;const O=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,f=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(r=R,y=Date.now(),this.removeTargets(e,r,t))).next(R=>(c=R,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(D=Date.now(),Rm()<=Ga.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-O}ms\n\tDetermined least recently used ${o} in `+(y-f)+`ms\n\tRemoved ${c} targets in `+(E-y)+`ms\n\tRemoved ${R} documents in `+(D-E)+`ms\nTotal Duration: ${D-O}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R})))}}class JT{constructor(e,t){this.db=e,this.garbageCollector=new vb(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}dn(e){let t=0;return this.ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,(r,o)=>t(o))}addReference(e,t,r){return hy(e,r)}removeReference(e,t,r){return hy(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return hy(e,t)}wn(e,t){return function(r,o){let c=!1;return YT(r).Wt(f=>pb(r,f,o).next(y=>(y&&(c=!0),de.resolve(!y)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this._n(e,(f,y)=>{if(y<=t){const E=this.wn(e,f).next(D=>{if(!D)return c++,r.getEntry(e,f).next(()=>(r.removeEntry(f,yt.min()),su(e).delete([0,gr(f.path)])))});o.push(E)}}).next(()=>de.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return hy(e,t)}_n(e,t){const r=su(e);let o,c=Wi.A;return r.Qt({index:ti.documentTargetsIndex},([f,y],{path:E,sequenceNumber:D})=>{0===f?(c!==Wi.A&&t(new Ke(Xa(o)),c),c=D,o=E):c=Wi.A}).next(()=>{c!==Wi.A&&t(new Ke(Xa(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hy(n,e){return su(n).put((r=n.currentSequenceNumber,new ti(0,gr(e.path),r)));var r}class Bp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){Ic(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return IE(this.inner)}}class XT{constructor(){this.changes=new Bp(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _b{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return dl(e).put(d0(t),r)}removeEntry(e,t){const r=dl(e),o=d0(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.mn(e,r)))}getEntry(e,t){return dl(e).get(d0(t)).next(r=>this.gn(t,r))}yn(e,t){return dl(e).get(d0(t)).next(r=>({document:this.gn(t,r),size:Vp(r)}))}getEntries(e,t){let r=$s();return this.pn(e,t,(o,c)=>{const f=this.gn(o,c);r=r.insert(o,f)}).next(()=>r)}In(e,t){let r=$s(),o=new er(Ke.comparator);return this.pn(e,t,(c,f)=>{const y=this.gn(c,f);r=r.insert(c,y),o=o.insert(c,Vp(f))}).next(()=>({documents:r,En:o}))}pn(e,t,r){if(t.isEmpty())return de.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let f=c.getNext();return dl(e).Qt({range:o},(y,E,D)=>{const O=Ke.fromSegments(y);for(;f&&Ke.comparator(f,O)<0;)r(f,null),f=c.getNext();f&&f.isEqual(O)&&(r(f,E),f=c.hasNext()?c.getNext():null),f?D.Ut(f.path.toArray()):D.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAll(e,t,r){let o=$s();const c=t.length+1,f={};if(r.isEqual(yt.min())){const y=t.toArray();f.range=IDBKeyRange.lowerBound(y)}else{const y=t.toArray(),E=oy(r);f.range=IDBKeyRange.lowerBound([y,E],!0),f.index=Cn.collectionReadTimeIndex}return dl(e).Qt(f,(y,E,D)=>{if(y.length!==c)return;const O=this.gn(Ke.fromSegments(y),E);t.isPrefixOf(O.key.path)?o=o.insert(O.key,O):D.done()}).next(()=>o)}newChangeBuffer(e){return new eC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return wb(e).get(tu.key).next(t=>(_t(!!t),t))}mn(e,t){return wb(e).put(tu.key,t)}gn(e,t){if(t){const r=ib(this.O,t);if(!r.isNoDocument()||!r.version.isEqual(yt.min()))return r}return Tn.newInvalidDocument(e)}}class eC extends XT{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new Bp(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new sn((c,f)=>Ut(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const y=this.An.get(c);if(f.isValidDocument()){const E=sy(this.Tn.O,f);o=o.add(c.path.popLast()),r+=Vp(E)-y,t.push(this.Tn.addEntry(e,c,E))}else if(r-=y,this.trackRemovals){const E=sy(this.Tn.O,f.convertToNoDocument(yt.min()));t.push(this.Tn.addEntry(e,c,E))}else t.push(this.Tn.removeEntry(e,c))}),o.forEach(c=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.Tn.updateMetadata(e,r)),de.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next(r=>(this.An.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Tn.In(e,t).next(({documents:r,En:o})=>(o.forEach((c,f)=>{this.An.set(c,f)}),r))}}function wb(n){return tr(n,tu.store)}function dl(n){return tr(n,Cn.store)}function d0(n){return n.path.toArray()}class IA{constructor(e){this.O=e}kt(e,t,r,o){const c=new s0("createOrUpgrade",t);var y;r<1&&o>=1&&(e.createObjectStore(gs.store),(y=e).createObjectStore(eu.store,{keyPath:eu.keyPath}),y.createObjectStore(on.store,{keyPath:on.keyPath,autoIncrement:!0}).createIndex(on.userMutationsIndex,on.userMutationsKeyPath,{unique:!0}),y.createObjectStore(ei.store),tC(e),function(y){y.createObjectStore(Cn.store)}(e));let f=de.resolve();return r<3&&o>=3&&(0!==r&&(function(y){y.deleteObjectStore(ti.store),y.deleteObjectStore(Ki.store),y.deleteObjectStore(Yi.store)}(e),tC(e)),f=f.next(()=>function(y){const E=y.store(Yi.store),D=new Yi(0,0,yt.min().toTimestamp(),0);return E.put(Yi.key,D)}(c))),r<4&&o>=4&&(0!==r&&(f=f.next(()=>function(y,E){return E.store(on.store).qt().next(D=>{y.deleteObjectStore(on.store),y.createObjectStore(on.store,{keyPath:on.keyPath,autoIncrement:!0}).createIndex(on.userMutationsIndex,on.userMutationsKeyPath,{unique:!0});const O=E.store(on.store),R=D.map(q=>O.put(q));return de.waitFor(R)})}(e,c))),f=f.next(()=>{!function(y){y.createObjectStore(nu.store,{keyPath:nu.keyPath})}(e)})),r<5&&o>=5&&(f=f.next(()=>this.Rn(c))),r<6&&o>=6&&(f=f.next(()=>(function(y){y.createObjectStore(tu.store)}(e),this.Pn(c)))),r<7&&o>=7&&(f=f.next(()=>this.bn(c))),r<8&&o>=8&&(f=f.next(()=>this.vn(e,c))),r<9&&o>=9&&(f=f.next(()=>{(function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")})(e),function(y){const E=y.objectStore(Cn.store);E.createIndex(Cn.readTimeIndex,Cn.readTimeIndexPath,{unique:!1}),E.createIndex(Cn.collectionReadTimeIndex,Cn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(f=f.next(()=>this.Vn(c))),r<11&&o>=11&&(f=f.next(()=>{(function(y){y.createObjectStore(kc.store,{keyPath:kc.keyPath})})(e),function(y){y.createObjectStore(Fc.store,{keyPath:Fc.keyPath})}(e)})),r<12&&o>=12&&(f=f.next(()=>{!function(y){const E=y.createObjectStore(Fr.store,{keyPath:Fr.keyPath});E.createIndex(Fr.collectionPathOverlayIndex,Fr.collectionPathOverlayIndexPath,{unique:!1}),E.createIndex(Fr.collectionGroupOverlayIndex,Fr.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),r<13&&o>=13&&(f=f.next(()=>{!function(y){y.createObjectStore(ms.store,{keyPath:ms.keyPath,autoIncrement:!0}).createIndex(ms.collectionGroupIndex,ms.collectionGroupIndexPath,{unique:!1}),y.createObjectStore(zs.store,{keyPath:zs.keyPath}).createIndex(zs.sequenceNumberIndex,zs.sequenceNumberIndexPath,{unique:!1}),y.createObjectStore(ys.store,{keyPath:ys.keyPath}).createIndex(ys.documentKeyIndex,ys.documentKeyIndexPath,{unique:!1})}(e)})),f}Pn(e){let t=0;return e.store(Cn.store).Qt((r,o)=>{t+=Vp(o)}).next(()=>{const r=new tu(t);return e.store(tu.store).put(tu.key,r)})}Rn(e){const t=e.store(eu.store),r=e.store(on.store);return t.qt().next(o=>de.forEach(o,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.qt(on.userMutationsIndex,f).next(y=>de.forEach(y,E=>{_t(E.userId===c.userId);const D=Lc(this.O,E);return fb(e,c.userId,D).next(()=>{})}))}))}bn(e){const t=e.store(ti.store),r=e.store(Cn.store);return e.store(Yi.store).get(Yi.key).next(o=>{const c=[];return r.Qt((f,y)=>{const E=new Ft(f),D=[0,gr(E)];c.push(t.get(D).next(O=>O?de.resolve():t.put(new ti(0,gr(E),o.highestListenSequenceNumber))))}).next(()=>de.waitFor(c))})}vn(e,t){e.createObjectStore(ol.store,{keyPath:ol.keyPath});const r=t.store(ol.store),o=new cy,c=f=>{if(o.add(f)){const y=f.lastSegment(),E=f.popLast();return r.put({collectionId:y,parent:gr(E)})}};return t.store(Cn.store).Qt({jt:!0},(f,y)=>{const E=new Ft(f);return c(E.popLast())}).next(()=>t.store(ei.store).Qt({jt:!0},([f,y,E],D)=>{const O=Xa(y);return c(O.popLast())}))}Vn(e){const t=e.store(Ki.store);return t.Qt((r,o)=>{const c=ll(o),f=o0(this.O,c);return t.put(f)})}}function tC(n){n.createObjectStore(ti.store,{keyPath:ti.keyPath}).createIndex(ti.documentTargetsIndex,ti.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Ki.store,{keyPath:Ki.keyPath}).createIndex(Ki.queryTargetsIndexName,Ki.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Yi.store)}const Eb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bb{constructor(e,t,r,o,c,f,y,E,D,O,R=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Sn=c,this.window=f,this.document=y,this.Dn=D,this.Cn=O,this.schemaVersion=R,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=q=>Promise.resolve(),!bb.Vt())throw new Se(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new JT(this,o),this.Bn=t+"main",this.O=new rb(E),this.Ln=new Ws(this.Bn,this.schemaVersion,new IA(this.O)),this.Un=new gb(this.referenceDelegate,this.O),this.qn=new _b(this.O),this.Kn=new $T,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===O&&ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(ae.FAILED_PRECONDITION,Eb);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new Wi(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var t=this;return this.Fn=function(){var r=(0,ye.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Vc(e).put(new nu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(t=>{t||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(t=>this.isPrimary&&!t?this.Xn(e).next(()=>!1):!!t&&this.Zn(e).next(()=>!0))).catch(e=>{if(xh(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return jp(e).get(gs.key).next(t=>de.resolve(this.ts(t)))}es(e){return Vc(e).delete(this.clientId)}ns(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=tr(r,nu.store);return o.qt().next(c=>{const f=e.rs(c,18e5),y=c.filter(E=>-1===f.indexOf(E));return de.forEach(y,E=>o.delete(E.clientId)).next(()=>y)})}).catch(()=>[]);if(e.Gn)for(const r of t)e.Gn.removeItem(e.os(r.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?de.resolve(!0):jp(e).get(gs.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new Se(ae.FAILED_PRECONDITION,Eb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vc(e).qt().next(r=>void 0===this.rs(r,5e3).find(o=>{if(this.clientId!==o.clientId){const f=!this.inForeground&&o.inForeground,y=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||f&&y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[gs.store,nu.store],t=>{const r=new qT(t,Wi.A);return e.Xn(r).next(()=>e.es(r))}),e.Ln.close(),e.fs()})()}rs(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>Vc(e).qt().next(t=>this.rs(t,18e5).map(r=>r.clientId)))}get started(){return this.xn}getMutationQueue(e,t){return l0.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new cb(e)}getDocumentOverlayCache(e){return ub.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",c=13===(f=this.schemaVersion)?XE:12===f?n0:11===f?t0:void st();var f;let y;return this.Ln.runTransaction(e,o,c,E=>(y=new qT(E,this.Nn?this.Nn.next():Wi.A),"readwrite-primary"===t?this.Jn(y).next(D=>!!D||this.Yn(y)).next(D=>{if(!D)throw ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new Se(ae.FAILED_PRECONDITION,r0);return r(y)}).next(D=>this.Zn(y).next(()=>D)):this._s(y).next(()=>r(y)))).then(E=>(y.raiseOnCommittedEvent(),E))}_s(e){return jp(e).get(gs.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Cn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Se(ae.FAILED_PRECONDITION,Eb)})}Zn(e){const t=new gs(this.clientId,this.allowTabSynchronization,Date.now());return jp(e).put(gs.key,t)}static Vt(){return Ws.Vt()}Xn(e){const t=jp(e);return t.get(gs.key).next(r=>this.ts(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete(gs.key)):de.resolve())}ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(ar(`Detected an update time that is in the future: ${e} > ${r}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,Rt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const r=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ar("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){ar("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jp(n){return tr(n,gs.store)}function Vc(n){return tr(n,nu.store)}function h0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nC{constructor(e,t){this.progress=e,this.ws=t}}class Ib{constructor(e,t,r){this.qn=e,this.gs=t,this.indexManager=r}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.ps(e,t,r))}ps(e,t,r){return this.qn.getEntry(e,t).next(o=>{for(const c of r)c.applyToLocalView(o);return o})}Is(e,t){e.forEach((r,o)=>{for(const c of t)c.applyToLocalView(o)})}Es(e,t){return this.qn.getEntries(e,t).next(r=>this.Ts(e,r).next(()=>r))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Is(t,r))}As(e,t,r){return Ke.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Rs(e,t.path):N_(t)?this.Ps(e,t,r):this.bs(e,t,r);var o}Rs(e,t){return this.ys(e,new Ke(t)).next(r=>{let o=Mc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Ps(e,t,r){const o=t.collectionGroup;let c=Mc();return this.indexManager.getCollectionParents(e,o).next(f=>de.forEach(f,y=>{const E=(D=t,O=y.child(o),new fs(O,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,O;return this.bs(e,E,r).next(D=>{D.forEach((O,R)=>{c=c.insert(O,R)})})}).next(()=>c))}bs(e,t,r){let o;return this.qn.getAll(e,t.path,r).next(c=>(o=c,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(c=>{for(const f of c)for(const y of f.mutations){const E=y.key;let D=o.get(E);null==D&&(D=Tn.newInvalidDocument(E),o=o.insert(E,D)),U_(y,D,f.localWriteTime),D.isFoundDocument()||(o=o.remove(E))}}).next(()=>(o.forEach((c,f)=>{Hm(t,f)||(o=o.remove(c))}),o))}}class ou{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.vs=r,this.Vs=o}static Ss(e,t){let r=Xt(),o=Xt();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ou(e,t.fromCache,r,o)}}class f0{Ds(e){this.Cs=e}As(e,t,r,o){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||r.isEqual(yt.min())?this.Ns(e,t):this.Cs.Es(e,o).next(c=>{const f=this.xs(t,c);return(Mp(t)||Zm(t))&&this.ks(t.limitType,f,o,r)?this.Ns(e,t):(Rm()<=Ga.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),P_(t)),this.Cs.As(e,t,r).next(y=>(f.forEach(E=>{y=y.insert(E.key,E)}),y)))});var c}xs(e,t){let r=new sn(k_(e));return t.forEach((o,c)=>{Hm(e,c)&&(r=r.add(c))}),r}ks(e,t,r,o){if(r.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ns(e,t){return Rm()<=Ga.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",P_(t)),this.Cs.As(e,t,yt.min())}}class p0{constructor(e,t,r,o){this.persistence=e,this.Os=t,this.O=o,this.Ms=new er(Ut),this.$s=new Bp(c=>Cc(c),Dp),this.Fs=yt.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(r)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new Ib(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function fy(n,e,t,r){return new p0(n,e,t,r)}function Tb(n,e){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,ye.Z)(function*(n,e){const t=je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.gs.getAllMutationBatches(r).next(c=>(o=c,t.Ls(e),t.gs.getAllMutationBatches(r))).next(c=>{const f=[],y=[];let E=Xt();for(const D of o){f.push(D.batchId);for(const O of D.mutations)E=E.add(O.key)}for(const D of c){y.push(D.batchId);for(const O of D.mutations)E=E.add(O.key)}return t.Us.Es(r,E).next(D=>({qs:D,removedBatchIds:f,addedBatchIds:y}))})})}),Zp.apply(this,arguments)}function g0(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,y,E,D){const O=E.batch,R=O.keys();let q=de.resolve();return R.forEach(G=>{q=q.next(()=>D.getEntry(y,G)).next(re=>{const ke=E.docVersions.get(G);_t(null!==ke),re.version.compareTo(ke)<0&&(O.applyToRemoteDocument(re,E),re.isValidDocument()&&(re.setReadTime(E.commitVersion),D.addEntry(re)))})}),q.next(()=>f.gs.removeMutationBatch(y,O))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.gs.performConsistencyCheck(r)).next(()=>t.Us.Es(r,o))})}function m0(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Un.getLastRemoteSnapshotVersion(t))}function Cb(n,e){const t=je(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.Ms;const y=[];e.targetChanges.forEach((D,O)=>{const R=o.get(O);if(!R)return;y.push(t.Un.removeMatchingKeys(c,D.removedDocuments,O).next(()=>t.Un.addMatchingKeys(c,D.addedDocuments,O)));let q=R.withSequenceNumber(c.currentSequenceNumber);var G,re,ke;e.targetMismatches.has(O)?q=q.withResumeToken(pr.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):D.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(D.resumeToken,r)),o=o.insert(O,q),re=q,ke=D,(0===(G=R).resumeToken.approximateByteSize()||re.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||ke.addedDocuments.size+ke.modifiedDocuments.size+ke.removedDocuments.size>0)&&y.push(t.Un.updateTargetData(c,q))});let E=$s();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(c,D))}),y.push(rC(c,f,e.documentUpdates).next(D=>{E=D})),!r.isEqual(yt.min())){const D=t.Un.getLastRemoteSnapshotVersion(c).next(O=>t.Un.setTargetsMetadata(c,c.currentSequenceNumber,r));y.push(D)}return de.waitFor(y).next(()=>f.apply(c)).next(()=>t.Us.Ts(c,E)).next(()=>E)}).then(c=>(t.Ms=o,c))}function rC(n,e,t){let r=Xt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=$s();return t.forEach((f,y)=>{const E=o.get(f);y.isNoDocument()&&y.version.isEqual(yt.min())?(e.removeEntry(f,y.readTime),c=c.insert(f,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(y),c=c.insert(f,y)):Pe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",y.version)}),c})}function TA(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.gs.getNextMutationBatchAfterBatchId(r,e)))}function qp(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Un.getTargetData(r,e).next(c=>c?(o=c,de.resolve(o)):t.Un.allocateTargetId(r).next(f=>(o=new ru(e,f,0,r.currentSequenceNumber),t.Un.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ms.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.$s.set(e,r.targetId)),r})}function Hp(n,e,t){return Db.apply(this,arguments)}function Db(){return Db=(0,ye.Z)(function*(n,e,t){const r=je(n),o=r.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!xh(f))throw f;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.$s.delete(o.target)}),Db.apply(this,arguments)}function y0(n,e,t){const r=je(n);let o=yt.min(),c=Xt();return r.persistence.runTransaction("Execute query","readonly",f=>function(y,E,D){const O=je(y),R=O.$s.get(D);return void 0!==R?de.resolve(O.Ms.get(R)):O.Un.getTargetData(E,D)}(r,f,ps(e)).next(y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(f,y.targetId).next(E=>{c=E})}).next(()=>r.Os.As(f,e,t?o:yt.min(),t?c:Xt())).next(y=>({documents:y,Ks:c})))}function iC(n,e){const t=je(n),r=je(t.Un),o=t.Ms.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",c=>r.Tt(c,e).next(f=>f?f.target:null))}function v0(n){const e=je(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,c){const f=je(r);let y=$s(),E=oy(c);const D=dl(o),O=IDBKeyRange.lowerBound(E,!0);return D.Qt({index:Cn.readTimeIndex,range:O},(R,q)=>{const G=ib(f.O,q);y=y.insert(G.key,G),E=q.readTime}).next(()=>({ws:y,readTime:ay(E)}))}(e.Bs,t,e.Fs)).then(({ws:t,readTime:r})=>(e.Fs=r,t))}function _0(){return _0=(0,ye.Z)(function*(n){const e=je(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=dl(r);let c=yt.min();return o.Qt({index:Cn.readTimeIndex,reverse:!0},(f,y,E)=>{y.readTime&&(c=ay(y.readTime)),E.done()}).next(()=>c)}(t)).then(t=>{e.Fs=t})}),_0.apply(this,arguments)}function w0(){return w0=(0,ye.Z)(function*(n,e,t,r){const o=je(n);let c=Xt(),f=$s();for(const D of t){const O=e.Gs(D.metadata.name);D.document&&(c=c.add(O));const R=e.js(D);R.setReadTime(e.Qs(D.metadata.readTime)),f=f.insert(O,R)}const y=o.Bs.newChangeBuffer({trackRemovals:!0}),E=yield qp(o,(D=r,ps(xp(Ft.fromString(`__bundle__/docs/${D}`)))));var D;return o.persistence.runTransaction("Apply bundle documents","readwrite",D=>rC(D,y,f).next(O=>(y.apply(D),O)).next(O=>o.Un.removeMatchingKeysForTargetId(D,E.targetId).next(()=>o.Un.addMatchingKeys(D,c,E.targetId)).next(()=>o.Us.Ts(D,O)).next(()=>O)))}),w0.apply(this,arguments)}function Ab(n,e){return py.apply(this,arguments)}function py(){return py=(0,ye.Z)(function*(n,e,t=Xt()){const r=yield qp(n,ps(sb(e.bundledQuery))),o=je(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const f=kr(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return o.Kn.saveNamedQuery(c,e);const y=r.withResumeToken(pr.EMPTY_BYTE_STRING,f);return o.Ms=o.Ms.insert(y.targetId,y),o.Un.updateTargetData(c,y).next(()=>o.Un.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.Un.addMatchingKeys(c,t,r.targetId)).next(()=>o.Kn.saveNamedQuery(c,e))})}),py.apply(this,arguments)}class Sb{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return de.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var r;return this.Ws.set(t.id,{id:(r=t).id,version:r.version,createTime:kr(r.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,{name:(r=t).name,query:sb(r.bundledQuery),readTime:kr(r.readTime)}),de.resolve();var r}}class aC{constructor(){this.overlays=new er(Ke.comparator),this.Hs=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach(o=>{this.Yt(e,t,o)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Hs.get(r);return void 0!==o&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Hs.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const o=new Map,c=t.length+1,f=new Ke(t.child("")),y=this.overlays.getIteratorFrom(f);for(;y.hasNext();){const E=y.getNext().value,D=E.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===c&&E.largestBatchId>r&&o.set(E.getKey(),E)}return de.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let c=new er((D,O)=>D-O);const f=this.overlays.getIterator();for(;f.hasNext();){const D=f.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let O=c.get(D.largestBatchId);null===O&&(O=new Map,c=c.insert(D.largestBatchId,O)),O.set(D.getKey(),D)}}const y=new Map,E=c.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((D,O)=>y.set(O,D)),!(y.size>=o)););return de.resolve(y)}Yt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);null!==o&&this.Hs.get(o.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new al(t,r));let c=this.Hs.get(t);void 0===c&&(c=new Set,this.Hs.set(t,c)),c.add(r.key)}}class E0{constructor(){this.Js=new sn(mr.Ys),this.Xs=new sn(mr.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const r=new mr(e,t);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ei(new mr(e,t))}ni(e,t){e.forEach(r=>this.removeReference(r,t))}si(e){const t=new Ke(new Ft([])),r=new mr(t,e),o=new mr(t,e+1),c=[];return this.Xs.forEachInRange([r,o],f=>{this.ei(f),c.push(f.key)}),c}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new Ke(new Ft([])),r=new mr(t,e),o=new mr(t,e+1);let c=Xt();return this.Xs.forEachInRange([r,o],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new mr(e,0),r=this.Js.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class mr{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return Ke.comparator(e.key,t.key)||Ut(e.oi,t.oi)}static Zs(e,t){return Ut(e.oi,t.oi)||Ke.comparator(e.key,t.key)}}class gy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new sn(mr.Ys)}checkEmpty(e){return de.resolve(0===this.gs.length)}addMutationBatch(e,t,r,o){const c=this.ci;this.ci++;const f=new nb(c,t,r,o);this.gs.push(f);for(const y of o)this.ui=this.ui.add(new mr(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return de.resolve(f)}lookupMutationBatch(e,t){return de.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.hi(t+1),c=o<0?0:o;return de.resolve(this.gs.length>c?this.gs[c]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return de.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new mr(t,0),o=new mr(t,Number.POSITIVE_INFINITY),c=[];return this.ui.forEachInRange([r,o],f=>{const y=this.ai(f.oi);c.push(y)}),de.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new sn(Ut);return t.forEach(o=>{const c=new mr(o,0),f=new mr(o,Number.POSITIVE_INFINITY);this.ui.forEachInRange([c,f],y=>{r=r.add(y.oi)})}),de.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;Ke.isDocumentKey(c)||(c=c.child(""));const f=new mr(new Ke(c),0);let y=new sn(Ut);return this.ui.forEachWhile(E=>{const D=E.key.path;return!!r.isPrefixOf(D)&&(D.length===o&&(y=y.add(E.oi)),!0)},f),de.resolve(this.li(y))}li(e){const t=[];return e.forEach(r=>{const o=this.ai(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){_t(0===this.fi(t.batchId,"removed")),this.gs.shift();let r=this.ui;return de.forEach(t.mutations,o=>{const c=new mr(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ui=r})}Qe(e){}containsKey(e,t){const r=new mr(t,0),o=this.ui.firstAfterOrEqual(r);return de.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return de.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class CA{constructor(e){this.di=e,this.docs=new er(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),c=o?o.size:0,f=this.di(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let r=$s();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Tn.newInvalidDocument(o))}),de.resolve(r)}getAll(e,t,r){let o=$s();const c=new Ke(t.child("")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:y,value:{document:E}}=f.getNext();if(!t.isPrefixOf(y.path))break;y.path.length>t.length+1||E.readTime.compareTo(r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return de.resolve(o)}_i(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xb(this)}getSize(e){return de.resolve(this.size)}}class xb extends XT{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Tn.addEntry(e,o)):this.Tn.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class my{constructor(e){this.persistence=e,this.wi=new Bp(t=>Cc(t),Dp),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.mi=0,this.gi=new E0,this.targetCount=0,this.yi=cl.He()}forEachTarget(e,t){return this.wi.forEach((r,o)=>t(o)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.mi&&(this.mi=t),de.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new cl(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Ze(t),de.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.wi.forEach((f,y)=>{y.sequenceNumber<=t&&null===r.get(y.targetId)&&(this.wi.delete(f),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)}),de.waitFor(c).next(()=>o)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.wi.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.gi.ti(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.gi.ni(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),de.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.gi.ri(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.gi.containsKey(t))}}class uC{constructor(e,t){this.pi={},this.overlays={},this.Nn=new Wi(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new my(this),this.indexManager=new KT,this.qn=new CA(r=>this.referenceDelegate.Ii(r)),this.O=new rb(t),this.Kn=new Sb(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.pi[e.toKey()];return r||(r=new gy(t,this.referenceDelegate),this.pi[e.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const o=new lC(this.Nn.next());return this.referenceDelegate.Ei(),r(o).next(c=>this.referenceDelegate.Ti(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,t){return de.or(Object.values(this.pi).map(r=>()=>r.containsKey(e,t)))}}class lC extends eb{constructor(e){super(),this.currentSequenceNumber=e}}class b0{constructor(e){this.persistence=e,this.Ri=new E0,this.Pi=null}static bi(e){return new b0(e)}get vi(){if(this.Pi)return this.Pi;throw st()}addReference(e,t,r){return this.Ri.addReference(r,t),this.vi.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.vi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),de.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(o=>this.vi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.vi.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.vi,r=>{const o=Ke.fromPath(r);return this.Vi(e,o).next(c=>{c||t.removeEntry(o,yt.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(r=>{r?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return de.or([()=>de.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function Mb(n,e){return`firestore_clients_${n}_${e}`}function cC(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function I0(n,e){return`firestore_targets_${n}_${e}`}class yy{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Si(e,t,r){const o=JSON.parse(r);let c,f="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(c=new Se(o.error.code,o.error.message))),f?new yy(e,t,o.state,c):(ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $p{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Si(e,t){const r=JSON.parse(t);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Se(r.error.code,r.error.message))),c?new $p(e,r.state,o):(ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=Oc();for(let f=0;o&&f<r.activeTargetIds.length;++f)o=Pm(r.activeTargetIds[f]),c=c.add(r.activeTargetIds[f]);return o?new vy(e,c):(ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class T0{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new T0(t.clientId,t.onlineState):(ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class C0{constructor(){this.activeTargetIds=Oc()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D0{constructor(e,t,r,o,c){this.window=e,this.Sn=t,this.persistenceKey=r,this.xi=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new er(Ut),this.started=!1,this.$i=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Fi=Mb(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new C0),this.Li=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(y){return`firestore_bundle_loaded_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.ds();for(const o of t){if(o===e.xi)continue;const c=e.getItem(Mb(e.persistenceKey,o));if(c){const f=vy.Si(o,c);f&&(e.Mi=e.Mi.insert(f.clientId,f))}}e.ji();const r=e.storage.getItem(e.Ki);if(r){const o=e.Qi(r);o&&e.Wi(o)}for(const o of e.$i)e.Oi(o);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,r){this.Hi(e,t,r),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(I0(this.persistenceKey,e));if(r){const o=$p.Si(e,r);o&&(t=o.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(I0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Xi(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Ji(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Fi)return void ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.Li.test(r.key)){if(null==r.newValue){const o=t.er(r.key);return t.nr(o,null)}{const o=t.sr(r.key,r.newValue);if(o)return t.nr(o.clientId,o)}}else if(t.Ui.test(r.key)){if(null!==r.newValue){const o=t.ir(r.key,r.newValue);if(o)return t.rr(o)}}else if(t.qi.test(r.key)){if(null!==r.newValue){const o=t.cr(r.key,r.newValue);if(o)return t.ur(o)}}else if(r.key===t.Ki){if(null!==r.newValue){const o=t.Qi(r.newValue);if(o)return t.Wi(o)}}else if(r.key===t.Bi){const o=function(c){let f=Wi.A;if(null!=c)try{const y=JSON.parse(c);_t("number"==typeof y),f=y}catch(y){ar("SharedClientState","Failed to read sequence number from WebStorage",y)}return f}(r.newValue);o!==Wi.A&&t.sequenceNumberHandler(o)}else if(r.key===t.Gi)return t.syncEngine.ar()}else t.$i.push(r)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,r){const o=new yy(this.currentUser,e,t,r),c=cC(this.persistenceKey,this.currentUser,e);this.setItem(c,o.Di())}Ji(e){const t=cC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,t,r){const o=I0(this.persistenceKey,e),c=new $p(e,t,r);this.setItem(o,c.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const r=this.er(e);return vy.Si(r,t)}ir(e,t){const r=this.Ui.exec(e),o=Number(r[1]);return yy.Si(new Rr(void 0!==r[2]?r[2]:null),o,t)}cr(e,t){const r=this.qi.exec(e),o=Number(r[1]);return $p.Si(o,t)}Qi(e){return T0.Si(e)}rr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.hr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const r=t?this.Mi.insert(e,t):this.Mi.remove(e),o=this.zi(this.Mi),c=this.zi(r),f=[],y=[];return c.forEach(E=>{o.has(E)||f.push(E)}),o.forEach(E=>{c.has(E)||y.push(E)}),this.syncEngine.dr(f,y).then(()=>{this.Mi=r})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=Oc();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Ob{constructor(){this._r=new C0,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,r){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new C0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class DA{mr(e){}shutdown(){}}class dC{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const AA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class SA{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class xA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,r,o,c){const f=this.$r(e,t);Pe("RestConnection","Sending: ",f,r);const y={};return this.Fr(y,o,c),this.Br(e,f,y,r).then(E=>(Pe("RestConnection","Received: ",E),E),E=>{throw Ja("RestConnection",`${e} failed with error: `,E,"url: ",f,"request:",r),E})}Lr(e,t,r,o,c){return this.Mr(e,t,r,o,c)}Fr(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+bc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}$r(e,t){return`${this.kr}/v1/${t}:${AA[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,r,o){return new Promise((c,f)=>{const y=new fT;y.listenOnce(Mm.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case w_.NO_ERROR:const D=y.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(D)),c(D);break;case w_.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),f(new Se(ae.DEADLINE_EXCEEDED,"Request time out"));break;case w_.HTTP_ERROR:const O=y.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',O,"response text:",y.getResponseText()),O>0){const R=y.getResponseJson().error;if(R&&R.status&&R.message){const q=function(G){const re=G.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(re)>=0?re:ae.UNKNOWN}(R.status);f(new Se(q,R.message))}else f(new Se(ae.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new Se(ae.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);y.send(t,"POST",E,r,15)})}Ur(e,t,r){const o=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=hT(),f=xm(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new yA({})),this.Fr(y.initMessageHeaders,t,r),(0,Rt.uI)()||(0,Rt.b$)()||(0,Rt.d)()||(0,Rt.w1)()||(0,Rt.Mn)()||(0,Rt.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");Pe("Connection","Creating WebChannel: "+E,y);const D=c.createWebChannel(E,y);let O=!1,R=!1;const q=new SA({Ar:re=>{R?Pe("Connection","Not sending because WebChannel is closed:",re):(O||(Pe("Connection","Opening WebChannel transport."),D.open(),O=!0),Pe("Connection","WebChannel sending:",re),D.send(re))},Rr:()=>D.close()}),G=(re,ke,ze)=>{re.listen(ke,pt=>{try{ze(pt)}catch(qt){setTimeout(()=>{throw qt},0)}})};return G(D,vp.EventType.OPEN,()=>{R||Pe("Connection","WebChannel transport opened.")}),G(D,vp.EventType.CLOSE,()=>{R||(R=!0,Pe("Connection","WebChannel transport closed"),q.Cr())}),G(D,vp.EventType.ERROR,re=>{R||(R=!0,Ja("Connection","WebChannel transport errored:",re),q.Cr(new Se(ae.UNAVAILABLE,"The operation could not be completed")))}),G(D,vp.EventType.MESSAGE,re=>{var ke;if(!R){const ze=re.data[0];_t(!!ze);const pt=ze,qt=pt.error||(null===(ke=pt[0])||void 0===ke?void 0:ke.error);if(qt){Pe("Connection","WebChannel received error:",qt);const fn=qt.status;let xt=function(uu){const iI=lr[uu];if(void 0!==iI)return ZE(iI)}(fn),Nn=qt.message;void 0===xt&&(xt=ae.INTERNAL,Nn="Unknown error status: "+fn+" with message "+qt.message),R=!0,q.Cr(new Se(xt,Nn)),D.close()}else Pe("Connection","WebChannel received:",ze),q.Nr(ze)}}),G(f,Om.STAT_EVENT,re=>{re.stat===On.PROXY?Pe("Connection","Detected buffering proxy"):re.stat===On.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{q.Dr()},0),q}}function Rb(){return"undefined"!=typeof window?window:null}function A0(){return"undefined"!=typeof document?document:null}function _y(n){return new $E(n,!0)}class Nb{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Sn=e,this.timerId=t,this.qr=r,this.Kr=o,this.Gr=c,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),o=Math.max(0,t-r);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,o,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class hC{constructor(e,t,r,o,c,f,y,E){this.Sn=e,this.Xr=r,this.Zr=o,this.eo=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=E,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Nb(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,ye.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,ye.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r._o(),r.wo(),r.ro.cancel(),r.no++,4!==e?r.ro.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),r.ro.zr()):t&&t.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.mo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.vr(t)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.no===t&&this.po(r,o)},r=>{e(()=>{const o=new Se(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(o)})})}po(e,t){const r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(o=>{r(()=>this.Io(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}uo(){var e=this;this.state=5,this.ro.Hr((0,ye.Z)(function*(){e.state=0,e.start()}))}Io(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i extends hC{constructor(e,t,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,f),this.O=c}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function LT(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:st(),o=e.targetChange.targetIds||[],c=function(E,D){return E.N?(_t(void 0===D||"string"==typeof D),pr.fromBase64String(D||"")):(_t(void 0===D||D instanceof Uint8Array),pr.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&function(E){const D=void 0===E.code?ae.UNKNOWN:ZE(E.code);return new Se(D,E.message||"")}(f);t=new Xm(r,o,c,y||null)}else if("documentChange"in e){const r=e.documentChange,o=Gs(n,r.document.name),c=kr(r.document.updateTime),f=new oi({mapValue:{fields:r.document.fields}}),y=Tn.newFoundDocument(o,c,f);t=new Pp(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,o=Gs(n,r.document),c=r.readTime?kr(r.readTime):yt.min(),f=Tn.newNoDocument(o,c);t=new Pp([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,o=Gs(n,r.document);t=new Pp([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return st();{const r=e.filter,c=new BE(r.count||0);t=new q_(r.targetId,c)}}var E;return t}(this.O,e),r=function(o){if(!("targetChange"in o))return yt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?yt.min():c.readTime?kr(c.readTime):yt.min()}(e);return this.listener.To(t,r)}Ao(e){const t={};t.database=Ch(this.O),t.addTarget=function(o,c){let f;const y=c.target;return f=yh(y)?{documents:Nc(o,y)}:{query:YE(o,y)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?f.resumeToken=ey(o,c.resumeToken):c.snapshotVersion.compareTo(yt.min())>0&&(f.readTime=Rc(o,c.snapshotVersion.toTimestamp())),f}(this.O,e);const r=function wA(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.fo(t)}Ro(e){const t={};t.database=Ch(this.O),t.removeTarget=e,this.fo(t)}}class s extends hC{constructor(e,t,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,f),this.O=c,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function ki(n,e){return n&&n.length>0?(_t(void 0!==e),n.map(t=>function(r,o){let c=kr(r.updateTime?r.updateTime:o);return c.isEqual(yt.min())&&(c=kr(o)),new V_(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.Vo(r,t)}return _t(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=Ch(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Dh(this.O,r))};this.fo(t)}}class a extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=r,this.O=o,this.Co=!1}No(){if(this.Co)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.eo.Mr(e,t,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(ae.UNKNOWN,o.toString())})}Lr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.eo.Lr(e,t,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(ae.UNKNOWN,o.toString())})}terminate(){this.Co=!0}}class l{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(ar(t),this.Oo=!1):Pe("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class d{constructor(e,t,r,o,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=c,this.jo.mr(y=>{r.enqueueAndForget((0,ye.Z)(function*(){var E;Oe(f)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,ye.Z)(function*(D){const O=je(D);O.Ko.add(4),yield w(O),O.Qo.set("Unknown"),O.Ko.delete(4),yield g(O)}),function(D){return E.apply(this,arguments)})(f))}))}),this.Qo=new l(r,o)}}function g(n){return v.apply(this,arguments)}function v(){return v=(0,ye.Z)(function*(n){if(Oe(n))for(const e of n.Go)yield e(!0)}),v.apply(this,arguments)}function w(n){return b.apply(this,arguments)}function b(){return b=(0,ye.Z)(function*(n){for(const e of n.Go)yield e(!1)}),b.apply(this,arguments)}function A(n,e){const t=je(n);t.qo.has(e.targetId)||(t.qo.set(e.targetId,e),fe(t)?K(t):Iy(t).co()&&k(t,e))}function x(n,e){const t=je(n),r=Iy(t);t.qo.delete(e),r.co()&&j(t,e),0===t.qo.size&&(r.co()?r.ho():Oe(t)&&t.Qo.set("Unknown"))}function k(n,e){n.Wo.Z(e.targetId),Iy(n).Ao(e)}function j(n,e){n.Wo.Z(e),Iy(n).Ro(e)}function K(n){n.Wo=new PT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qo.get(e)||null}),Iy(n).start(),n.Qo.Mo()}function fe(n){return Oe(n)&&!Iy(n).oo()&&n.qo.size>0}function Oe(n){return 0===je(n).Ko.size}function Ve(n){n.Wo=void 0}function Qe(n){return we.apply(this,arguments)}function we(){return we=(0,ye.Z)(function*(n){n.qo.forEach((e,t)=>{k(n,e)})}),we.apply(this,arguments)}function ft(n,e){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,ye.Z)(function*(n,e){Ve(n),fe(n)?(n.Qo.Bo(e),K(n)):n.Qo.set("Unknown")}),Ot.apply(this,arguments)}function en(n,e,t){return Fi.apply(this,arguments)}function Fi(){return Fi=(0,ye.Z)(function*(n,e,t){if(n.Qo.set("Online"),e instanceof Xm&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(o,c){const f=c.cause;for(const y of c.targetIds)o.qo.has(y)&&(yield o.remoteSyncer.rejectListen(y,f),o.qo.delete(y),o.Wo.removeTarget(y))}),function(o,c){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ta(n,r)}else if(e instanceof Pp?n.Wo.ct(e):e instanceof q_?n.Wo._t(e):n.Wo.ht(e),!t.isEqual(yt.min()))try{const r=yield m0(n.localStore);t.compareTo(r)>=0&&(yield function(o,c){const f=o.Wo.yt(c);return f.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const D=o.qo.get(E);D&&o.qo.set(E,D.withResumeToken(y.resumeToken,c))}}),f.targetMismatches.forEach(y=>{const E=o.qo.get(y);if(!E)return;o.qo.set(y,E.withResumeToken(pr.EMPTY_BYTE_STRING,E.snapshotVersion)),j(o,y);const D=new ru(E.target,y,1,E.sequenceNumber);k(o,D)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield ta(n,r)}var r}),Fi.apply(this,arguments)}function ta(n,e,t){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,ye.Z)(function*(n,e,t){if(!xh(e))throw e;n.Ko.add(1),yield w(n),n.Qo.set("Offline"),t||(t=()=>m0(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Ko.delete(1),yield g(n)}))}),Gp.apply(this,arguments)}function wy(n,e){return e().catch(t=>ta(n,t,e))}function hl(n){return zp.apply(this,arguments)}function zp(){return zp=(0,ye.Z)(function*(n){const e=je(n),t=Fh(e);let r=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;S0(e);)try{const o=yield TA(e.localStore,r);if(null===o){0===e.Uo.length&&t.ho();break}r=o.batchId,x0(e,o)}catch(o){yield ta(e,o)}Ey(e)&&by(e)}),zp.apply(this,arguments)}function S0(n){return Oe(n)&&n.Uo.length<10}function x0(n,e){n.Uo.push(e);const t=Fh(n);t.co()&&t.bo&&t.vo(e.mutations)}function Ey(n){return Oe(n)&&!Fh(n).oo()&&n.Uo.length>0}function by(n){Fh(n).start()}function M0(n){return fC.apply(this,arguments)}function fC(){return fC=(0,ye.Z)(function*(n){Fh(n).Do()}),fC.apply(this,arguments)}function $x(n){return pC.apply(this,arguments)}function pC(){return pC=(0,ye.Z)(function*(n){const e=Fh(n);for(const t of n.Uo)e.vo(t.mutations)}),pC.apply(this,arguments)}function Gx(n,e,t){return gC.apply(this,arguments)}function gC(){return gC=(0,ye.Z)(function*(n,e,t){const r=n.Uo.shift(),o=kp.from(r,e,t);yield wy(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield hl(n)}),gC.apply(this,arguments)}function zx(n,e){return mC.apply(this,arguments)}function mC(){return mC=(0,ye.Z)(function*(n,e){var t;e&&Fh(n).bo&&(yield(t=(0,ye.Z)(function*(r,o){if(jE(c=o.code)&&c!==ae.ABORTED){const f=r.Uo.shift();Fh(r).ao(),yield wy(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,o)),yield hl(r)}var c}),function(r,o){return t.apply(this,arguments)})(n,e)),Ey(n)&&by(n)}),mC.apply(this,arguments)}function MA(n,e){return yC.apply(this,arguments)}function yC(){return yC=(0,ye.Z)(function*(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Oe(t);t.Ko.add(3),yield w(t),r&&t.Qo.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ko.delete(3),yield g(t)}),yC.apply(this,arguments)}function vC(n,e){return _C.apply(this,arguments)}function _C(){return _C=(0,ye.Z)(function*(n,e){const t=je(n);e?(t.Ko.delete(2),yield g(t)):e||(t.Ko.add(2),yield w(t),t.Qo.set("Unknown"))}),_C.apply(this,arguments)}function Iy(n){return n.zo||(n.zo=function(e,t,r){const o=je(e);return o.No(),new i(t,o.eo,o.authCredentials,o.appCheckCredentials,o.O,r)}(n.datastore,n.asyncQueue,{Pr:Qe.bind(null,n),vr:ft.bind(null,n),To:en.bind(null,n)}),n.Go.push(function(){var e=(0,ye.Z)(function*(t){t?(n.zo.ao(),fe(n)?K(n):n.Qo.set("Unknown")):(yield n.zo.stop(),Ve(n))});return function(t){return e.apply(this,arguments)}}())),n.zo}function Fh(n){return n.Ho||(n.Ho=function(e,t,r){const o=je(e);return o.No(),new s(t,o.eo,o.authCredentials,o.appCheckCredentials,o.O,r)}(n.datastore,n.asyncQueue,{Pr:M0.bind(null,n),vr:zx.bind(null,n),So:$x.bind(null,n),Vo:Gx.bind(null,n)}),n.Go.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Ho.ao(),yield hl(n)):(yield n.Ho.stop(),n.Uo.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.Uo.length} pending writes`),n.Uo=[]))});return function(t){return e.apply(this,arguments)}}())),n.Ho}class wC{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,o,c){const f=Date.now()+r,y=new wC(e,t,f,o,c);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(n,e){if(ar("AsyncQueue",`${e}: ${n}`),xh(n))return new Se(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Cy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=Mc(),this.sortedSet=new er(this.comparator)}static emptySet(e){return new Cy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Cy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class OA{constructor(){this.Jo=new er(Ke.comparator)}track(e){const t=e.doc.key,r=this.Jo.get(t);r?0!==e.type&&3===r.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==r.type?this.Jo=this.Jo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jo=this.Jo.remove(t):1===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):st():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Dy{constructor(e,t,r,o,c,f,y,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Dy(e,t,Cy.emptySet(t),c,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class Wx{constructor(){this.Xo=void 0,this.listeners=[]}}class Kx{constructor(){this.queries=new Bp(e=>_h(e),rl),this.onlineState="Unknown",this.Zo=new Set}}function EC(n,e){return bC.apply(this,arguments)}function bC(){return bC=(0,ye.Z)(function*(n,e){const t=je(n),r=e.query;let o=!1,c=t.queries.get(r);if(c||(o=!0,c=new Wx),o)try{c.Xo=yield t.onListen(r)}catch(f){const y=Ty(f,`Initialization of query '${P_(e.query)}' failed`);return void e.onError(y)}t.queries.set(r,c),c.listeners.push(e),e.tc(t.onlineState),c.Xo&&e.ec(c.Xo)&&CC(t)}),bC.apply(this,arguments)}function IC(n,e){return TC.apply(this,arguments)}function TC(){return TC=(0,ye.Z)(function*(n,e){const t=je(n),r=e.query;let o=!1;const c=t.queries.get(r);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),o=0===c.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),TC.apply(this,arguments)}function Yx(n,e){const t=je(n);let r=!1;for(const o of e){const f=t.queries.get(o.query);if(f){for(const y of f.listeners)y.ec(o)&&(r=!0);f.Xo=o}}r&&CC(t)}function Qx(n,e,t){const r=je(n),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(t);r.queries.delete(e)}function CC(n){n.Zo.forEach(e=>{e.next()})}class DC{constructor(e,t,r){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Dy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=Dy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class Jx{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class RA{constructor(e){this.O=e}Gs(e){return Gs(this.O,e)}js(e){return e.metadata.exists?K_(this.O,e.document,!1):Tn.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return kr(e)}}class Xx{constructor(e,t,r){this.hc=e,this.localStore=t,this.O=r,this.queries=[],this.documents=[],this.progress=NA(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,r=new RA(this.O);for(const o of e)if(o.metadata.queries){const c=r.Gs(o.metadata.name);for(const f of o.metadata.queries){const y=(t.get(f)||Xt()).add(c);t.set(f,y)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function oC(n,e,t,r){return w0.apply(this,arguments)}(e.localStore,new RA(e.O),e.documents,e.hc.id),r=e.fc(e.documents);for(const o of e.queries)yield Ab(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new nC(Object.assign({},e.progress),t)})()}}function NA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class PA{constructor(e){this.key=e}}class kA{constructor(e){this.key=e}}class FA{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=Xt(),this.mutatedKeys=Xt(),this.mc=k_(e),this.gc=new Cy(this.mc)}get yc(){return this.dc}Ic(e,t){const r=t?t.Ec:new OA,o=t?t.gc:this.gc;let c=t?t.mutatedKeys:this.mutatedKeys,f=o,y=!1;const E=Mp(this.query)&&o.size===this.query.limit?o.last():null,D=Zm(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((O,R)=>{const q=o.get(O),G=Hm(this.query,R)?R:null,re=!!q&&this.mutatedKeys.has(q.key),ke=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ze=!1;q&&G?q.data.isEqual(G.data)?re!==ke&&(r.track({type:3,doc:G}),ze=!0):this.Tc(q,G)||(r.track({type:2,doc:G}),ze=!0,(E&&this.mc(G,E)>0||D&&this.mc(G,D)<0)&&(y=!0)):!q&&G?(r.track({type:0,doc:G}),ze=!0):q&&!G&&(r.track({type:1,doc:q}),ze=!0,(E||D)&&(y=!0)),ze&&(G?(f=f.add(G),c=ke?c.add(O):c.delete(O)):(f=f.delete(O),c=c.delete(O)))}),Mp(this.query)||Zm(this.query))for(;f.size>this.query.limit;){const O=Mp(this.query)?f.last():f.first();f=f.delete(O.key),c=c.delete(O.key),r.track({type:1,doc:O})}return{gc:f,Ec:r,ks:y,mutatedKeys:c}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const c=e.Ec.Yo();c.sort((D,O)=>function(R,q){const G=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return G(R)-G(q)}(D.type,O.type)||this.mc(D.doc,O.doc)),this.Ac(r);const f=t?this.Rc():[],y=0===this.wc.size&&this.current?1:0,E=y!==this._c;return this._c=y,0!==c.length||E?{snapshot:new Dy(this.query,e.gc,o,c,e.mutatedKeys,0===y,E,!1),Pc:f}:{Pc:f}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new OA,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(t=>this.dc=this.dc.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.dc=this.dc.delete(t)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=Xt(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const t=[];return e.forEach(r=>{this.wc.has(r)||t.push(new kA(r))}),this.wc.forEach(r=>{e.has(r)||t.push(new PA(r))}),t}vc(e){this.dc=e.Ks,this.wc=Xt();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return Dy.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class e1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class t1{constructor(e){this.key=e,this.Sc=!1}}class n1{constructor(e,t,r,o,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Dc={},this.Cc=new Bp(y=>_h(y),rl),this.Nc=new Map,this.xc=new Set,this.kc=new er(Ke.comparator),this.Oc=new Map,this.Mc=new E0,this.$c={},this.Fc=new Map,this.Bc=cl.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function r1(n,e){return AC.apply(this,arguments)}function AC(){return AC=(0,ye.Z)(function*(n,e){const t=YC(n);let r,o;const c=t.Cc.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),o=c.view.Vc();else{const f=yield qp(t.localStore,ps(e));t.isPrimaryClient&&A(t.remoteStore,f);const y=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,o=yield SC(t,e,r,"current"===y)}return o}),AC.apply(this,arguments)}function SC(n,e,t,r){return xC.apply(this,arguments)}function xC(){return xC=(0,ye.Z)(function*(n,e,t,r){n.Uc=(O,R,q)=>{return(G=(0,ye.Z)(function*(re,ke,ze,pt){let qt=ke.view.Ic(ze);qt.ks&&(qt=yield y0(re.localStore,ke.query,!1).then(({documents:Nn})=>ke.view.Ic(Nn,qt)));const fn=pt&&pt.targetChanges.get(ke.targetId),xt=ke.view.applyChanges(qt,re.isPrimaryClient,fn);return UC(re,ke.targetId,xt.Pc),xt.snapshot}),function(re,ke,ze,pt){return G.apply(this,arguments)})(n,O,R,q);var G};const o=yield y0(n.localStore,e,!0),c=new FA(e,o.Ks),f=c.Ic(o.documents),y=Np.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=c.applyChanges(f,n.isPrimaryClient,y);UC(n,t,E.Pc);const D=new e1(e,t,c);return n.Cc.set(e,D),n.Nc.has(t)?n.Nc.get(t).push(e):n.Nc.set(t,[e]),E.snapshot}),xC.apply(this,arguments)}function i1(n,e){return MC.apply(this,arguments)}function MC(){return MC=(0,ye.Z)(function*(n,e){const t=je(n),r=t.Cc.get(e),o=t.Nc.get(r.targetId);if(o.length>1)return t.Nc.set(r.targetId,o.filter(c=>!rl(c,e))),void t.Cc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Hp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),x(t.remoteStore,r.targetId),Ay(t,r.targetId)}).catch(vo))):(Ay(t,r.targetId),yield Hp(t.localStore,r.targetId,!0))}),MC.apply(this,arguments)}function OC(){return OC=(0,ye.Z)(function*(n,e,t){const r=QC(n);try{const o=yield function(c,f){const y=je(c),E=Jr.now(),D=f.reduce((R,q)=>R.add(q.key),Xt());let O;return y.persistence.runTransaction("Locally write mutations","readwrite",R=>y.Us.Es(R,D).next(q=>{O=q;const G=[];for(const re of f){const ke=OT(re,O.get(re.key));null!=ke&&G.push(new xc(re.key,ke,D_(ke.value.mapValue),ur.exists(!0)))}return y.gs.addMutationBatch(R,E,G,f)})).then(R=>(R.applyToLocalDocumentSet(O),{batchId:R.batchId,changes:O}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,f,y){let E=c.$c[c.currentUser.toKey()];E||(E=new er(Ut)),E=E.insert(f,y),c.$c[c.currentUser.toKey()]=E}(r,o.batchId,t),yield Uc(r,o.changes),yield hl(r.remoteStore)}catch(o){const c=Ty(o,"Failed to persist write");t.reject(c)}}),OC.apply(this,arguments)}function LA(n,e){return RC.apply(this,arguments)}function RC(){return RC=(0,ye.Z)(function*(n,e){const t=je(n);try{const r=yield Cb(t.localStore,e);e.targetChanges.forEach((o,c)=>{const f=t.Oc.get(c);f&&(_t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Sc=!0:o.modifiedDocuments.size>0?_t(f.Sc):o.removedDocuments.size>0&&(_t(f.Sc),f.Sc=!1))}),yield Uc(t,r,e)}catch(r){yield vo(r)}}),RC.apply(this,arguments)}function VA(n,e,t){const r=je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Cc.forEach((c,f)=>{const y=f.view.tc(e);y.snapshot&&o.push(y.snapshot)}),function(c,f){const y=je(c);y.onlineState=f;let E=!1;y.queries.forEach((D,O)=>{for(const R of O.listeners)R.tc(f)&&(E=!0)}),E&&CC(y)}(r.eventManager,e),o.length&&r.Dc.To(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function o1(n,e,t){return NC.apply(this,arguments)}function NC(){return NC=(0,ye.Z)(function*(n,e,t){const r=je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Oc.get(e),c=o&&o.key;if(c){let f=new er(Ke.comparator);f=f.insert(c,Tn.newNoDocument(c,yt.min()));const y=Xt().add(c),E=new Rp(yt.min(),new Map,new sn(Ut),f,y);yield LA(r,E),r.kc=r.kc.remove(c),r.Oc.delete(e),BC(r)}else yield Hp(r.localStore,e,!1).then(()=>Ay(r,e,t)).catch(vo)}),NC.apply(this,arguments)}function a1(n,e){return PC.apply(this,arguments)}function PC(){return PC=(0,ye.Z)(function*(n,e){const t=je(n),r=e.batch.batchId;try{const o=yield g0(t.localStore,e);VC(t,r,null),LC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Uc(t,o)}catch(o){yield vo(o)}}),PC.apply(this,arguments)}function u1(n,e,t){return kC.apply(this,arguments)}function kC(){return kC=(0,ye.Z)(function*(n,e,t){const r=je(n);try{const o=yield function(c,f){const y=je(c);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let D;return y.gs.lookupMutationBatch(E,f).next(O=>(_t(null!==O),D=O.keys(),y.gs.removeMutationBatch(E,O))).next(()=>y.gs.performConsistencyCheck(E)).next(()=>y.Us.Es(E,D))})}(r.localStore,e);VC(r,e,t),LC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Uc(r,o)}catch(o){yield vo(o)}}),kC.apply(this,arguments)}function FC(){return FC=(0,ye.Z)(function*(n,e){const t=je(n);Oe(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const f=je(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>f.gs.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Fc.get(r)||[];o.push(e),t.Fc.set(r,o)}catch(r){const o=Ty(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),FC.apply(this,arguments)}function LC(n,e){(n.Fc.get(e)||[]).forEach(t=>{t.resolve()}),n.Fc.delete(e)}function VC(n,e,t){const r=je(n);let o=r.$c[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.$c[r.currentUser.toKey()]=o}}function Ay(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Nc.get(e))n.Cc.delete(r),t&&n.Dc.qc(r,t);n.Nc.delete(e),n.isPrimaryClient&&n.Mc.si(e).forEach(r=>{n.Mc.containsKey(r)||UA(n,r)})}function UA(n,e){n.xc.delete(e.path.canonicalString());const t=n.kc.get(e);null!==t&&(x(n.remoteStore,t),n.kc=n.kc.remove(e),n.Oc.delete(t),BC(n))}function UC(n,e,t){for(const r of t)r instanceof PA?(n.Mc.addReference(r.key,e),c1(n,r)):r instanceof kA?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.Mc.removeReference(r.key,e),n.Mc.containsKey(r.key)||UA(n,r.key)):st()}function c1(n,e){const t=e.key,r=t.path.canonicalString();n.kc.get(t)||n.xc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.xc.add(r),BC(n))}function BC(n){for(;n.xc.size>0&&n.kc.size<n.maxConcurrentLimboResolutions;){const e=n.xc.values().next().value;n.xc.delete(e);const t=new Ke(Ft.fromString(e)),r=n.Bc.next();n.Oc.set(r,new t1(t)),n.kc=n.kc.insert(t,r),A(n.remoteStore,new ru(ps(xp(t.path)),r,2,Wi.A))}}function Uc(n,e,t){return jC.apply(this,arguments)}function jC(){return jC=(0,ye.Z)(function*(n,e,t){const r=je(n),o=[],c=[],f=[];var y;r.Cc.isEmpty()||(r.Cc.forEach((y,E)=>{f.push(r.Uc(E,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,D.fromCache?"not-current":"current"),o.push(D);const O=ou.Ss(E.targetId,D);c.push(O)}}))}),yield Promise.all(f),r.Dc.To(o),yield(y=(0,ye.Z)(function*(E,D){const O=je(E);try{yield O.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>de.forEach(D,q=>de.forEach(q.vs,G=>O.persistence.referenceDelegate.addReference(R,q.targetId,G)).next(()=>de.forEach(q.Vs,G=>O.persistence.referenceDelegate.removeReference(R,q.targetId,G)))))}catch(R){if(!xh(R))throw R;Pe("LocalStore","Failed to update sequence numbers: "+R)}for(const R of D){const q=R.targetId;if(!R.fromCache){const G=O.Ms.get(q),ke=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);O.Ms=O.Ms.insert(q,ke)}}}),function(E,D){return y.apply(this,arguments)})(r.localStore,c))}),jC.apply(this,arguments)}function d1(n,e){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,ye.Z)(function*(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield Tb(t.localStore,e);t.currentUser=e,(o=t).Fc.forEach(f=>{f.forEach(y=>{y.reject(new Se(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Fc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Uc(t,r.qs)}var o}),ZC.apply(this,arguments)}function h1(n,e){const t=je(n),r=t.Oc.get(e);if(r&&r.Sc)return Xt().add(r.key);{let o=Xt();const c=t.Nc.get(e);if(!c)return o;for(const f of c){const y=t.Cc.get(f);o=o.unionWith(y.view.yc)}return o}}function f1(n,e){return qC.apply(this,arguments)}function qC(){return qC=(0,ye.Z)(function*(n,e){const t=je(n),r=yield y0(t.localStore,e.query,!0),o=e.view.vc(r);return t.isPrimaryClient&&UC(t,e.targetId,o.Pc),o}),qC.apply(this,arguments)}function p1(n){return HC.apply(this,arguments)}function HC(){return HC=(0,ye.Z)(function*(n){const e=je(n);return v0(e.localStore).then(t=>Uc(e,t))}),HC.apply(this,arguments)}function g1(n,e,t,r){return $C.apply(this,arguments)}function $C(){return $C=(0,ye.Z)(function*(n,e,t,r){const o=je(n),c=yield function(f,y){const E=je(f),D=je(E.gs);return E.persistence.runTransaction("Lookup mutation documents","readonly",O=>D.Ge(O,y).next(R=>R?E.Us.Es(O,R):de.resolve(null)))}(o.localStore,e);var y;null!==c?("pending"===t?yield hl(o.remoteStore):"acknowledged"===t||"rejected"===t?(VC(o,e,r||null),LC(o,e),y=e,je(je(o.localStore).gs).Qe(y)):st(),yield Uc(o,c)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),$C.apply(this,arguments)}function GC(){return GC=(0,ye.Z)(function*(n,e){const t=je(n);if(YC(t),QC(t),!0===e&&!0!==t.Lc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield BA(t,r.toArray());t.Lc=!0,yield vC(t.remoteStore,!0);for(const c of o)A(t.remoteStore,c)}else if(!1===e&&!1!==t.Lc){const r=[];let o=Promise.resolve();t.Nc.forEach((c,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):o=o.then(()=>(Ay(t,f),Hp(t.localStore,f,!0))),x(t.remoteStore,f)}),yield o,yield BA(t,r),function(c){const f=je(c);f.Oc.forEach((y,E)=>{x(f.remoteStore,E)}),f.Mc.ii(),f.Oc=new Map,f.kc=new er(Ke.comparator)}(t),t.Lc=!1,yield vC(t.remoteStore,!1)}}),GC.apply(this,arguments)}function BA(n,e,t){return zC.apply(this,arguments)}function zC(){return zC=(0,ye.Z)(function*(n,e,t){const r=je(n),o=[],c=[];for(const f of e){let y;const E=r.Nc.get(f);if(E&&0!==E.length){y=yield qp(r.localStore,ps(E[0]));for(const D of E){const O=r.Cc.get(D),R=yield f1(r,O);R.snapshot&&c.push(R.snapshot)}}else{const D=yield iC(r.localStore,f);y=yield qp(r.localStore,D),yield SC(r,jA(D),f,!1)}o.push(y)}return r.Dc.To(c),o}),zC.apply(this,arguments)}function jA(n){return NE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function y1(n){const e=je(n);return je(je(e.localStore).persistence).ds()}function v1(n,e,t,r){return WC.apply(this,arguments)}function WC(){return WC=(0,ye.Z)(function*(n,e,t,r){const o=je(n);if(o.Lc)Pe("SyncEngine","Ignoring unexpected query state notification.");else if(o.Nc.has(e))switch(t){case"current":case"not-current":{const c=yield v0(o.localStore),f=Rp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Uc(o,c,f);break}case"rejected":yield Hp(o.localStore,e,!0),Ay(o,e,r);break;default:st()}}),WC.apply(this,arguments)}function _1(n,e,t){return KC.apply(this,arguments)}function KC(){return KC=(0,ye.Z)(function*(n,e,t){const r=YC(n);if(r.Lc){for(const o of e){if(r.Nc.has(o)){Pe("SyncEngine","Adding an already active target "+o);continue}const c=yield iC(r.localStore,o),f=yield qp(r.localStore,c);yield SC(r,jA(c),f.targetId,!1),A(r.remoteStore,f)}for(const o of t)r.Nc.has(o)&&(yield Hp(r.localStore,o,!1).then(()=>{x(r.remoteStore,o),Ay(r,o)}).catch(vo))}}),KC.apply(this,arguments)}function YC(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o1.bind(null,e),e.Dc.To=Yx.bind(null,e.eventManager),e.Dc.qc=Qx.bind(null,e.eventManager),e}function QC(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u1.bind(null,e),e}class ZA{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.O=_y(e.databaseInfo.databaseId),t.sharedClientState=t.Gc(e),t.persistence=t.jc(e),yield t.persistence.start(),t.gcScheduler=t.Qc(e),t.localStore=t.Wc(e)})()}Qc(e){return null}Wc(e){return fy(this.persistence,new f0,e.initialUser,this.O)}jc(e){return new uC(b0.bi,this.O)}Gc(e){return new Ob}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qA extends ZA{constructor(e,t,r){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield function sC(n){return _0.apply(this,arguments)}(r.localStore),yield r.zc.initialize(r,e),yield QC(r.zc.syncEngine),yield hl(r.zc.remoteStore),yield r.persistence.Hn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Wc(e){return fy(this.persistence,new f0,e.initialUser,this.O)}Qc(e){return new yb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const t=h0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new bb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Rb(),A0(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new Ob}}class E1 extends qA{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const o=r.zc.syncEngine;r.sharedClientState instanceof D0&&(r.sharedClientState.syncEngine={hr:g1.bind(null,o),lr:v1.bind(null,o),dr:_1.bind(null,o),ds:y1.bind(null,o),ar:p1.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Hn(function(){var c=(0,ye.Z)(function*(f){yield function m1(n,e){return GC.apply(this,arguments)}(r.zc.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}Gc(e){const t=Rb();if(!D0.Vt(t))throw new Se(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=h0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new D0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class JC{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>VA(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=d1.bind(null,r.syncEngine),yield vC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Kx}createDatastore(e){const t=_y(e.databaseInfo.databaseId),r=new xA(e.databaseInfo);return new a(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,c=y=>VA(this.syncEngine,y,0),f=dC.Vt()?new dC:new DA,new d(t,r,o,c,f);var t,r,o,c,f}createSyncEngine(e,t){return function(r,o,c,f,y,E,D){const O=new n1(r,o,c,f,y,E);return D&&(O.Lc=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=je(t);Pe("RemoteStore","RemoteStore shutting down."),r.Ko.add(5),yield w(r),r.jo.shutdown(),r.Qo.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function HA(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Pb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class b1{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new Nr,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(r=>{r&&r.ac()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.tu();if(null===t)return null;const r=e.Xc.decode(t),o=Number(r);isNaN(o)&&e.eu(`length string (${r}) is not valid number`);const c=yield e.nu(o);return new Jx(JSON.parse(c),t.length+o)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,ye.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.eu("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}nu(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.iu())&&t.eu("Reached the end of bundle when more is expected.");const r=t.Xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Yc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class I1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Se(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ye.Z)(function*(c,f){const y=je(c),E=Ch(y.O)+"/documents",D={documents:f.map(G=>Th(y.O,G))},O=yield y.Lr("BatchGetDocuments",E,D),R=new Map;O.forEach(G=>{const re=function KE(n,e){return"found"in e?function(t,r){_t(!!r.found);const o=Gs(t,r.found.name),c=kr(r.found.updateTime),f=new oi({mapValue:{fields:r.found.fields}});return Tn.newFoundDocument(o,c,f)}(n,e):"missing"in e?function(t,r){_t(!!r.missing),_t(!!r.readTime);const o=Gs(t,r.missing),c=kr(r.readTime);return Tn.newNoDocument(o,c)}(n,e):st()}(y.O,G);R.set(re.key.toString(),re)});const q=[];return f.forEach(G=>{const re=R.get(G.toString());_t(!!re),q.push(re)}),q}),function(c,f){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ih(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const c=Ke.fromPath(o);e.mutations.push(new Ym(c,e.precondition(c)))}),yield(r=(0,ye.Z)(function*(o,c){const f=je(o),y=Ch(f.O)+"/documents",E={writes:c.map(D=>Dh(f.O,D))};yield f.Mr("Commit",y,E)}),function(o,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=yt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Se(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ur.updateTime(t):ur.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yt.min()))throw new Se(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ur.updateTime(t)}return ur.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class T1{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.ru=5,this.ro=new Nb(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,ye.Z)(function*(){const t=new I1(e.datastore),r=e.cu(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.uu(c)}))}).catch(o=>{e.uu(o)})}))}cu(e){try{const t=this.updateFunction(e);return!tl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!jE(t)}return!1}}class C1{constructor(e,t,r,o){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Rr.UNAUTHENTICATED,this.clientId=bE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,ye.Z)(function*(y){Pe("FirestoreClient","Received user=",y.uid),yield c.authCredentialListener(y),c.user=y});return function(y){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,f=>(Pe("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Ty(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function $A(n,e){return XC.apply(this,arguments)}function XC(){return XC=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ye.Z)(function*(c){r.isEqual(c)||(yield Tb(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),XC.apply(this,arguments)}function GA(n,e){return eD.apply(this,arguments)}function eD(){return eD=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield tD(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>MA(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,c)=>MA(e.remoteStore,c)),n.onlineComponents=e}),eD.apply(this,arguments)}function tD(n){return nD.apply(this,arguments)}function nD(){return nD=(0,ye.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield $A(n,new ZA)),n.offlineComponents}),nD.apply(this,arguments)}function kb(n){return rD.apply(this,arguments)}function rD(){return rD=(0,ye.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield GA(n,new JC)),n.onlineComponents}),rD.apply(this,arguments)}function zA(n){return tD(n).then(e=>e.persistence)}function iD(n){return tD(n).then(e=>e.localStore)}function WA(n){return kb(n).then(e=>e.remoteStore)}function sD(n){return kb(n).then(e=>e.syncEngine)}function Sy(n){return oD.apply(this,arguments)}function oD(){return oD=(0,ye.Z)(function*(n){const e=yield kb(n),t=e.eventManager;return t.onListen=r1.bind(null,e.syncEngine),t.onUnlisten=i1.bind(null,e.syncEngine),t}),oD.apply(this,arguments)}function KA(n,e,t={}){const r=new Nr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,c,f,y,E){const D=new Pb({next:R=>{c.enqueueAndForget(()=>IC(o,O));const q=R.docs.has(f);!q&&R.fromCache?E.reject(new Se(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&R.fromCache&&y&&"server"===y.source?E.reject(new Se(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(R)},error:R=>E.reject(R)}),O=new DC(xp(f.path),D,{includeMetadataChanges:!0,uc:!0});return EC(o,O)}(yield Sy(n),n.asyncQueue,e,t,r)})),r.promise}function YA(n,e,t={}){const r=new Nr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,c,f,y,E){const D=new Pb({next:R=>{c.enqueueAndForget(()=>IC(o,O)),R.fromCache&&"server"===y.source?E.reject(new Se(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(R)},error:R=>E.reject(R)}),O=new DC(f,D,{includeMetadataChanges:!0,uc:!0});return EC(o,O)}(yield Sy(n),n.asyncQueue,e,t,r)})),r.promise}const QA=new Map;function aD(n,e,t){if(!t)throw new Se(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JA(n,e,t,r){if(!0===e&&!0===r)throw new Se(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XA(n){if(!Ke.isDocumentKey(n))throw new Se(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eS(n){if(Ke.isDocumentKey(n))throw new Se(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function Gt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fb(n);throw new Se(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function tS(n,e){if(e<=0)throw new Se(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class nS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Se(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Se(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,JA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class O0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nS({}),this._settingsFrozen=!1,e instanceof Tc?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Se(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(o.options.projectId)}(e))}get app(){if(!this._app)throw new Se(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Se(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new _p;switch(t.type){case"gapi":const r=t.client;return _t(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new wE(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Se(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=QA.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),QA.delete(e),t.terminate())}(this),Promise.resolve()}}class Rn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class Xi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class fl extends Xi{constructor(e,t,r){super(e,t,xp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ke(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function rS(n,e,...t){if(n=(0,Rt.m9)(n),aD("collection","path",e),n instanceof O0){const r=Ft.fromString(e,...t);return eS(r),new fl(n,null,r)}{if(!(n instanceof Rn||n instanceof fl))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ft.fromString(e,...t));return eS(r),new fl(n.firestore,null,r)}}function Lb(n,e,...t){if(n=(0,Rt.m9)(n),1===arguments.length&&(e=bE.R()),aD("doc","path",e),n instanceof O0){const r=Ft.fromString(e,...t);return XA(r),new Rn(n,null,new Ke(r))}{if(!(n instanceof Rn||n instanceof fl))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ft.fromString(e,...t));return XA(r),new Rn(n.firestore,n instanceof fl?n.converter:null,new Ke(r))}}function iS(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),(n instanceof Rn||n instanceof fl)&&(e instanceof Rn||e instanceof fl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function sS(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),n instanceof Xi&&e instanceof Xi&&n.firestore===e.firestore&&rl(n._query,e._query)&&n.converter===e.converter}class F1{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Nb(this,"async_queue_retry"),this.yu=()=>{const t=A0();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const e=A0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=A0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new Nr;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,ye.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(t){if(!xh(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(r=>{throw this._u=r,this.wu=!1,ar("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(r)),r}).then(r=>(this.wu=!1,r))));return this.hu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const o=wC.createAndSchedule(this,e,t,r,c=>this.Tu(c));return this.du.push(o),o}pu(){this._u&&st()}verifyOperationInProgress(){}Au(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.hu,yield t}while(t!==e.hu)})()}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function uD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class L1{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class $n extends O0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new F1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||oS(this),this._firestoreClient.terminate()}}function Lr(n){return n._firestoreClient||oS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function oS(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new CE(n._databaseId,c,n._persistenceKey,(y=t).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var c,y;n._firestoreClient=new C1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function aS(n,e,t){const r=new Nr;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield $A(n,t),yield GA(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(c=o).name?c.code===ae.FAILED_PRECONDITION||c.code===ae.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var c})).then(()=>r.promise)}function uS(n){if(n._initialized||n._terminated)throw new Se(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Bc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Se(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(pr.fromBase64String(e))}catch(t){throw new Se(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pl(pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wp{constructor(e){this._methodName=e}}class Vb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}const z1=/^__.*__$/;class W1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new xc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Op(e,this.data,t,this.fieldTransforms)}}class lS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class Ub{constructor(e,t,r,o,c,f){this.settings=e,this.databaseId=t,this.O=r,this.ignoreUndefinedProperties=o,void 0===c&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new Ub(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Su({path:r,Cu:!1});return o.Nu(e),o}xu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Su({path:r,Cu:!1});return o.vu(),o}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return Zb(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(cS(this.Vu)&&z1.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class K1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=r||_y(e)}Fu(e,t,r,o=!1){return new Ub({Vu:e,methodName:t,$u:r,path:Pr.emptyPath(),Cu:!1,Mu:o},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function Kp(n){const e=n._freezeSettings(),t=_y(n._databaseId);return new K1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Bb(n,e,t,r,o,c={}){const f=n.Fu(c.merge||c.mergeFields?2:0,e,t,o);hD("Data must be an object, but it was:",f,r);const y=fS(r,f);let E,D;if(c.merge)E=new fh(f.fieldMask),D=f.fieldTransforms;else if(c.mergeFields){const O=[];for(const R of c.mergeFields){const q=fD(e,R,t);if(!f.contains(q))throw new Se(ae.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);gS(O,q)||O.push(q)}E=new fh(O),D=f.fieldTransforms.filter(R=>E.covers(R.field))}else E=null,D=f.fieldTransforms;return new W1(new oi(y),E,D)}class R0 extends Wp{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof R0}}function dS(n,e,t){return new Ub({Vu:3,$u:e.settings.$u,methodName:n._methodName,Cu:t},e.databaseId,e.O,e.ignoreUndefinedProperties)}class lD extends Wp{_toFieldTransform(e){return new zm(e.path,new yo)}isEqual(e){return e instanceof lD}}class Y1 extends Wp{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=dS(this,e,!0),r=this.Bu.map(c=>Yp(c,t)),o=new il(r);return new zm(e.path,o)}isEqual(e){return this===e}}class Q1 extends Wp{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=dS(this,e,!0),r=this.Bu.map(c=>Yp(c,t)),o=new wh(r);return new zm(e.path,o)}isEqual(e){return this===e}}class J1 extends Wp{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new Eh(e.O,$m(e.O,this.Lu));return new zm(e.path,t)}isEqual(e){return this===e}}function cD(n,e,t,r){const o=n.Fu(1,e,t);hD("Data must be an object, but it was:",o,r);const c=[],f=oi.empty();Ic(r,(E,D)=>{const O=jb(e,E,t);D=(0,Rt.m9)(D);const R=o.xu(O);if(D instanceof R0)c.push(O);else{const q=Yp(D,R);null!=q&&(c.push(O),f.set(O,q))}});const y=new fh(c);return new lS(f,y,o.fieldTransforms)}function dD(n,e,t,r,o,c){const f=n.Fu(1,e,t),y=[fD(e,r,t)],E=[o];if(c.length%2!=0)throw new Se(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<c.length;q+=2)y.push(fD(e,c[q])),E.push(c[q+1]);const D=[],O=oi.empty();for(let q=y.length-1;q>=0;--q)if(!gS(D,y[q])){const G=y[q];let re=E[q];re=(0,Rt.m9)(re);const ke=f.xu(G);if(re instanceof R0)D.push(G);else{const ze=Yp(re,ke);null!=ze&&(D.push(G),O.set(G,ze))}}const R=new fh(D);return new lS(O,R,f.fieldTransforms)}function hS(n,e,t,r=!1){return Yp(t,n.Fu(r?4:3,e))}function Yp(n,e){if(pS(n=(0,Rt.m9)(n)))return hD("Unsupported field value:",e,n),fS(n,e);if(n instanceof Wp)return function(t,r){if(!cS(r.Vu))throw r.Ou(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ou(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,r){const o=[];let c=0;for(const f of t){let y=Yp(f,r.ku(c));null==y&&(y={nullValue:"NULL_VALUE"}),o.push(y),c++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Rt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $m(r.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Jr.fromDate(t);return{timestampValue:Rc(r.O,o)}}if(t instanceof Jr){const o=new Jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rc(r.O,o)}}if(t instanceof Vb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pl)return{bytesValue:ey(r.O,t._byteString)};if(t instanceof Rn){const o=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(o))throw r.Ou(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:z_(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ou(`Unsupported field value: ${Fb(t)}`)}(n,e)}function fS(n,e){const t={};return IE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ic(n,(r,o)=>{const c=Yp(o,e.Du(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function pS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Jr||n instanceof Vb||n instanceof pl||n instanceof Rn||n instanceof Wp)}function hD(n,e,t){if(!pS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Fb(t);throw e.Ou("an object"===r?n+" a custom object":n+" "+r)}var r}function fD(n,e,t){if((e=(0,Rt.m9)(e))instanceof Bc)return e._internalPath;if("string"==typeof e)return jb(n,e);throw Zb("Field path arguments must be of type string or ",n,!1,void 0,t)}const X1=new RegExp("[~\\*/\\[\\]]");function jb(n,e,t){if(e.search(X1)>=0)throw Zb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bc(...e.split("."))._internalPath}catch(r){throw Zb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zb(n,e,t,r,o){const c=r&&!r.isEmpty(),f=void 0!==o;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let E="";return(c||f)&&(E+=" (found",c&&(E+=` in field ${r}`),f&&(E+=` in document ${o}`),E+=")"),new Se(ae.INVALID_ARGUMENT,y+n+E)}function gS(n,e){return n.some(t=>t.isEqual(e))}class N0{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new eM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class eM extends N0{data(){return super.data()}}function qb(n,e){return"string"==typeof e?jb(n,e):e instanceof Bc?e._internalPath:e._delegate._internalPath}class Qp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jc extends N0{constructor(e,t,r,o,c,f){super(e,t,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new P0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(qb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class P0 extends jc{data(e={}){return super.data(e)}}class Lh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Qp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new P0(this._firestore,this._userDataWriter,r.key,r,new Qp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new P0(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Qp(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>o||3!==f.type).map(f=>{const y=new P0(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Qp(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,D=-1;return 0!==f.type&&(E=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),D=c.indexOf(f.doc.key)),{type:tM(f.type),doc:y,oldIndex:E,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function tM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function mS(n,e){return n instanceof jc&&e instanceof jc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Lh&&e instanceof Lh&&n._firestore===e._firestore&&sS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function yS(n){if(Zm(n)&&0===n.explicitOrderBy.length)throw new Se(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k0{}function Vh(n,...e){for(const t of e)n=t._apply(n);return n}class nM extends k0{constructor(e,t,r){super(),this.Uu=e,this.qu=t,this.Ku=r,this.type="where"}_apply(e){const t=Kp(e.firestore),r=function(o,c,f,y,E,D,O){let R;if(E.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){IS(O,D);const G=[];for(const re of O)G.push(bS(y,o,re));R={arrayValue:{values:G}}}else R=bS(y,o,O)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||IS(O,D),R=hS(f,"where",O,"in"===D||"not-in"===D);const q=Pi.create(E,D,R);return function(G,re){if(re.S()){const ze=R_(G);if(null!==ze&&!ze.isEqual(re.field))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ze.toString()}' and '${re.field.toString()}'`);const pt=O_(G);null!==pt&&TS(0,re.field,pt)}const ke=function(ze,pt){for(const qt of ze.filters)if(pt.indexOf(qt.op)>=0)return qt.op;return null}(G,function(ze){switch(ze){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(re.op));if(null!==ke)throw new Se(ae.INVALID_ARGUMENT,ke===re.op?`Invalid query. You cannot use more than one '${re.op.toString()}' filter.`:`Invalid query. You cannot use '${re.op.toString()}' filters with '${ke.toString()}' filters.`)}(o,q),q}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new Xi(e.firestore,e.converter,function(o,c){const f=o.filters.concat([c]);return new fs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),f,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class iM extends k0{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(r,o,c){if(null!==r.startAt)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new vh(o,c);return function(y,E){if(null===O_(y)){const D=R_(y);null!==D&&TS(0,D,E.field)}}(r,f),f}(e._query,this.Uu,this.Gu);return new Xi(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new fs(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class vS extends k0{constructor(e,t,r){super(),this.type=e,this.ju=t,this.Qu=r}_apply(e){return new Xi(e.firestore,e.converter,qm(e._query,this.ju,this.Qu))}}class _S extends k0{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=ES(e,this.type,this.Wu,this.zu);return new Xi(e.firestore,e.converter,(o=t,new fs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class wS extends k0{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=ES(e,this.type,this.Wu,this.zu);return new Xi(e.firestore,e.converter,(o=t,new fs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function ES(n,e,t,r){if(t[0]=(0,Rt.m9)(t[0]),t[0]instanceof N0)return function(o,c,f,y,E){if(!y)throw new Se(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const D=[];for(const O of Ac(o))if(O.field.isKeyField())D.push(Lm(c,y.key));else{const R=y.data.field(O.field);if(I_(R))throw new Se(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+O.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const q=O.field.canonicalString();throw new Se(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}D.push(R)}return new Ap(D,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Kp(n.firestore);return function(c,f,y,E,D,O){const R=c.explicitOrderBy;if(D.length>R.length)throw new Se(ae.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let G=0;G<D.length;G++){const re=D[G];if(R[G].field.isKeyField()){if("string"!=typeof re)throw new Se(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof re}`);if(!N_(c)&&-1!==re.indexOf("/"))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${re}' contains a slash.`);const ke=c.path.child(Ft.fromString(re));if(!Ke.isDocumentKey(ke))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${ke}' is not because it contains an odd number of segments.`);const ze=new Ke(ke);q.push(Lm(f,ze))}else{const ke=hS(y,E,re);q.push(ke)}}return new Ap(q,O)}(n._query,n.firestore._databaseId,o,e,t,r)}}function bS(n,e,t){if("string"==typeof(t=(0,Rt.m9)(t))){if(""===t)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N_(e)&&-1!==t.indexOf("/"))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ft.fromString(t));if(!Ke.isDocumentKey(r))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lm(n,new Ke(r))}if(t instanceof Rn)return Lm(n,t._key);throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fb(t)}.`)}function IS(n,e){if(!Array.isArray(n)||0===n.length)throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function TS(n,e,t){if(!t.isEqual(e))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class pD{convertValue(e,t="none"){switch(nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return Ic(e.fields,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new Vb(Hn(e.latitude),Hn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=T_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bp(e));default:return null}}convertTimestamp(e){const t=el(e);return new Jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ft.fromString(e);_t(X_(r));const o=new Tc(r.get(1),r.get(3)),c=new Ke(r.popFirst(5));return o.isEqual(t)||ar(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Hb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class hM extends pD{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}class CS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Kp(e)}set(e,t,r){this._verifyNotCommitted();const o=Uh(e,this._firestore),c=Hb(o.converter,t,r),f=Bb(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(f.toMutation(o._key,ur.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const c=Uh(e,this._firestore);let f;return f="string"==typeof(t=(0,Rt.m9)(t))||t instanceof Bc?dD(this._dataReader,"WriteBatch.update",c._key,t,r,o):cD(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(f.toMutation(c._key,ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uh(e,this._firestore);return this._mutations=this._mutations.concat(new Ih(t._key,ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uh(n,e){if((n=(0,Rt.m9)(n)).firestore!==e)throw new Se(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Jp extends pD{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function DS(n,e,t){n=Gt(n,Rn);const r=Gt(n.firestore,$n),o=Hb(n.converter,e,t);return xy(r,[Bb(Kp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,ur.none())])}function AS(n,e,t,...r){n=Gt(n,Rn);const o=Gt(n.firestore,$n),c=Kp(o);let f;return f="string"==typeof(e=(0,Rt.m9)(e))||e instanceof Bc?dD(c,"updateDoc",n._key,e,t,r):cD(c,"updateDoc",n._key,e),xy(o,[f.toMutation(n._key,ur.exists(!0))])}function SS(n,...e){var t,r,o;n=(0,Rt.m9)(n);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||uD(e[f])||(c=e[f],f++);const y={includeMetadataChanges:c.includeMetadataChanges};if(uD(e[f])){const R=e[f];e[f]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[f+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[f+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let E,D,O;if(n instanceof Rn)D=Gt(n.firestore,$n),O=xp(n._key.path),E={next:R=>{e[f]&&e[f](gD(D,n,R))},error:e[f+1],complete:e[f+2]};else{const R=Gt(n,Xi);D=Gt(R.firestore,$n),O=R._query;const q=new Jp(D);E={next:G=>{e[f]&&e[f](new Lh(D,q,R,G))},error:e[f+1],complete:e[f+2]},yS(n._query)}return function(R,q,G,re){const ke=new Pb(re),ze=new DC(q,ke,G);return R.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return EC(yield Sy(R),ze)})),()=>{ke.Jc(),R.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return IC(yield Sy(R),ze)}))}}(Lr(D),O,y,E)}function xy(n,e){return function(t,r){const o=new Nr;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function s1(n,e,t){return OC.apply(this,arguments)}(yield sD(t),r,o)})),o.promise}(Lr(n),e)}function gD(n,e,t){const r=t.docs.get(e._key),o=new Jp(n);return new jc(n,o,e._key,r,new Qp(t.hasPendingWrites,t.fromCache),e.converter)}class bM extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Kp(e)}get(e){const t=Uh(e,this._firestore),r=new hM(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return st();const c=o[0];if(c.isFoundDocument())return new N0(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new N0(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const o=Uh(e,this._firestore),c=Hb(o.converter,t,r),f=Bb(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,f),this}update(e,t,r,...o){const c=Uh(e,this._firestore);let f;return f="string"==typeof(t=(0,Rt.m9)(t))||t instanceof Bc?dD(this._dataReader,"Transaction.update",c._key,t,r,o):cD(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,f),this}delete(e){const t=Uh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uh(e,this._firestore),r=new Jp(this._firestore);return super.get(e).then(o=>new jc(this._firestore,r,t._key,o._document,new Qp(!1,!1),t.converter))}}function mD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function MS(){if("undefined"==typeof Uint8Array)throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function OS(){if(!function ET(){return"undefined"!=typeof atob}())throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){bc=Gu.SDK_VERSION,(0,Gu._registerComponent)(new Rv.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),c=new $n(o,new mT(t.getProvider("auth-internal")),new EE(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC")),(0,Gu.registerVersion)(_E,"3.4.5",n),(0,Gu.registerVersion)(_E,"3.4.5","esm2017")}();class F0{constructor(e){this._delegate=e}static fromBase64String(e){return OS(),new F0(pl.fromBase64String(e))}static fromUint8Array(e){return MS(),new F0(pl.fromUint8Array(e))}toBase64(){return OS(),this._delegate.toBase64()}toUint8Array(){return MS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yD(n){return function OM(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class RM{enableIndexedDbPersistence(e,t){return function U1(n,e){uS(n=Gt(n,$n));const t=Lr(n),r=n._freezeSettings(),o=new JC;return aS(t,o,new qA(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function B1(n){uS(n=Gt(n,$n));const e=Lr(n),t=n._freezeSettings(),r=new JC;return aS(e,r,new E1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function j1(n){if(n._initialized&&!n._terminated)throw new Se(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Nr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!Ws.Vt())return Promise.resolve();const o=r+"main";yield Ws.delete(o)}),function(r){return t.apply(this,arguments)})(h0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class RS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Tc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ja("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function P1(n,e,t,r={}){var o;const c=(n=Gt(n,O0))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Ja("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,y;if("string"==typeof r.mockUserToken)f=r.mockUserToken,y=Rr.MOCK_USER;else{f=(0,Rt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Se(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Rr(E)}n._authCredentials=new gT(new dh(f,y))}}(this._delegate,e,t,r)}enableNetwork(){return function q1(n){return function D1(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield zA(n),t=yield WA(n);return e.setNetworkEnabled(!0),function(r){const o=je(r);return o.Ko.delete(0),g(o)}(t)}))}(Lr(n=Gt(n,$n)))}(this._delegate)}disableNetwork(){return function H1(n){return function A1(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield zA(n),t=yield WA(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(o){const c=je(o);c.Ko.add(0),yield w(c),c.Qo.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Lr(n=Gt(n,$n)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,JA("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Z1(n){return function(e){const t=new Nr;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function l1(n,e){return FC.apply(this,arguments)}(yield sD(e),t)})),t.promise}(Lr(n=Gt(n,$n)))}(this._delegate)}onSnapshotsInSync(e){return function EM(n,e){return function M1(n,e){const t=new Pb(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Sy(n),o=t,je(r).Zo.add(o),void o.next();var r,o})),()=>{t.Jc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Sy(n),o=t,void je(r).Zo.delete(o);var r,o}))}}(Lr(n=Gt(n,$n)),uD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new My(this,rS(this._delegate,e))}catch(t){throw _s(t,"collection()","Firestore.collection()")}}doc(e){try{return new na(this,Lb(this._delegate,e))}catch(t){throw _s(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ws(this,function k1(n,e){if(n=Gt(n,O0),aD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Se(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xi(n,null,(t=e,new fs(Ft.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw _s(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function IM(n,e){return function O1(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(o=n,kb(o).then(c=>c.datastore));var o;new T1(n.asyncQueue,r,e,t).run()})),t.promise}(Lr(n=Gt(n,$n)),t=>e(new bM(n,t)))}(this._delegate,t=>e(new NS(this,t)))}batch(){return Lr(this._delegate),new PS(new CS(this._delegate,e=>xy(this._delegate,e)))}loadBundle(e){return function $1(n,e){const t=Lr(n=Gt(n,$n)),r=new L1;return function R1(n,e,t,r){const o=function(c,f){let y;return y="string"==typeof c?(new TextEncoder).encode(c):c,E=function(E,D){if(E instanceof Uint8Array)return HA(E,D);if(E instanceof ArrayBuffer)return HA(new Uint8Array(E),D);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new b1(E,f);var E}(t,_y(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function w1(n,e,t){const r=je(n);var o;(o=(0,ye.Z)(function*(c,f,y){try{const E=yield f.getMetadata();if(yield function(q,G){const re=je(q),ke=kr(G.createTime);return re.persistence.runTransaction("hasNewerBundle","readonly",ze=>re.Kn.getBundleMetadata(ze,G.id)).then(ze=>!!ze&&ze.createTime.compareTo(ke)>=0)}(c.localStore,E))return yield f.close(),void y._completeWith((q=E,{taskState:"Success",documentsLoaded:q.totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}));y._updateProgress(NA(E));const D=new Xx(E,c.localStore,f.O);let O=yield f.Kc();for(;O;){const q=yield D.lc(O);q&&y._updateProgress(q),O=yield f.Kc()}const R=yield D.complete();yield Uc(c,R.ws,void 0),yield function(q,G){const re=je(q);return re.persistence.runTransaction("Save bundle","readwrite",ke=>re.Kn.saveBundleMetadata(ke,G))}(c.localStore,E),y._completeWith(R.progress)}catch(E){Ja("SyncEngine",`Loading bundle failed with ${E}`),y._failWith(E)}var q}),function(c,f,y){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield sD(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function G1(n,e){return function N1(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const o=je(t);return o.persistence.runTransaction("Get named query","readonly",c=>o.Kn.getNamedQuery(c,r))}(yield iD(n),e)}))}(Lr(n=Gt(n,$n)),e).then(t=>t?new Xi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ws(this,t):null)}}class $b extends pD{constructor(e){super(),this.firestore=e}convertBytes(e){return new F0(new pl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return na.forKey(t,this.firestore,null)}}class NS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $b(e)}get(e){const t=eg(e);return this._delegate.get(t).then(r=>new L0(this._firestore,new jc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=eg(e);return r?(mD("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=eg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=eg(e);return this._delegate.delete(t),this}}class PS{constructor(e){this._delegate=e}set(e,t,r){const o=eg(e);return r?(mD("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=eg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=eg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new P0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new V0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Xp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(t);return c||(c=new Xp(e,new $b(e),t),o.set(t,c)),c}}Xp.INSTANCES=new WeakMap;class na{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $b(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new na(t,new Rn(t._delegate,r,new Ke(e)))}static forKey(e,t,r){return new na(t,new Rn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new My(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new My(this.firestore,rS(this._delegate,e))}catch(t){throw _s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Rt.m9)(e))instanceof Rn&&iS(this._delegate,e)}set(e,t){t=mD("DocumentReference.set",t);try{return t?DS(this._delegate,e,t):DS(this._delegate,e)}catch(r){throw _s(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?AS(this._delegate,e):AS(this._delegate,e,t,...r)}catch(o){throw _s(o,"updateDoc()","DocumentReference.update()")}}delete(){return function _M(n){return xy(Gt(n.firestore,$n),[new Ih(n._key,ur.none())])}(this._delegate)}onSnapshot(...e){const t=kS(e),r=FS(e,o=>new L0(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return SS(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function pM(n){n=Gt(n,Rn);const e=Gt(n.firestore,$n),t=Lr(e),r=new Jp(e);return function S1(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,c,f){try{const y=yield function(E,D){const O=je(E);return O.persistence.runTransaction("read document","readonly",R=>O.Us.ys(R,D))}(o,c);y.isFoundDocument()?f.resolve(y):y.isNoDocument()?f.resolve(null):f.reject(new Se(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const E=Ty(y,`Failed to get document '${c} from cache`);f.reject(E)}}),function(o,c,f){return r.apply(this,arguments)})(yield iD(n),e,t);var r})),t.promise}(t,n._key).then(o=>new jc(e,r,n._key,o,new Qp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function gM(n){n=Gt(n,Rn);const e=Gt(n.firestore,$n);return KA(Lr(e),n._key,{source:"server"}).then(t=>gD(e,n,t))}(this._delegate):function fM(n){n=Gt(n,Rn);const e=Gt(n.firestore,$n);return KA(Lr(e),n._key).then(t=>gD(e,n,t))}(this._delegate),t.then(r=>new L0(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new na(this.firestore,this._delegate.withConverter(e?Xp.getInstance(this.firestore,e):null))}}function _s(n,e,t){return n.message=n.message.replace(e,t),n}function kS(n){for(const e of n)if("object"==typeof e&&!yD(e))return e;return{}}function FS(n,e){var t,r;let o;return o=yD(n[0])?n[0]:yD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class L0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new na(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return mS(this._delegate,e._delegate)}}class V0 extends L0{data(e){const t=this._delegate.data(e);return function Nm(n,e){n||st()}(void 0!==t),t}}class ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $b(e)}where(e,t,r){try{return new ws(this.firestore,Vh(this._delegate,function rM(n,e,t){const r=e,o=qb("where",n);return new nM(o,r,t)}(e,t,r)))}catch(o){throw _s(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ws(this.firestore,Vh(this._delegate,function sM(n,e="asc"){const t=e,r=qb("orderBy",n);return new iM(r,t)}(e,t)))}catch(r){throw _s(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ws(this.firestore,Vh(this._delegate,function oM(n){return tS("limit",n),new vS("limit",n,"F")}(e)))}catch(t){throw _s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ws(this.firestore,Vh(this._delegate,function aM(n){return tS("limitToLast",n),new vS("limitToLast",n,"L")}(e)))}catch(t){throw _s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ws(this.firestore,Vh(this._delegate,function uM(...n){return new _S("startAt",n,!0)}(...e)))}catch(t){throw _s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ws(this.firestore,Vh(this._delegate,function lM(...n){return new _S("startAfter",n,!1)}(...e)))}catch(t){throw _s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ws(this.firestore,Vh(this._delegate,function cM(...n){return new wS("endBefore",n,!1)}(...e)))}catch(t){throw _s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ws(this.firestore,Vh(this._delegate,function dM(...n){return new wS("endAt",n,!0)}(...e)))}catch(t){throw _s(t,"endAt()","Query.endAt()")}}isEqual(e){return sS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function yM(n){n=Gt(n,Xi);const e=Gt(n.firestore,$n),t=Lr(e),r=new Jp(e);return function x1(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,c,f){try{const y=yield y0(o,c,!0),E=new FA(c,y.Ks),D=E.Ic(y.documents),O=E.applyChanges(D,!1);f.resolve(O.snapshot)}catch(y){const E=Ty(y,`Failed to execute query '${c} against cache`);f.reject(E)}}),function(o,c,f){return r.apply(this,arguments)})(yield iD(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Lh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function vM(n){n=Gt(n,Xi);const e=Gt(n.firestore,$n),t=Lr(e),r=new Jp(e);return YA(t,n._query,{source:"server"}).then(o=>new Lh(e,r,n,o))}(this._delegate):function mM(n){n=Gt(n,Xi);const e=Gt(n.firestore,$n),t=Lr(e),r=new Jp(e);return yS(n._query),YA(t,n._query).then(o=>new Lh(e,r,n,o))}(this._delegate),t.then(r=>new vD(this.firestore,new Lh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=kS(e),r=FS(e,o=>new vD(this.firestore,new Lh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return SS(this._delegate,t,r)}withConverter(e){return new ws(this.firestore,this._delegate.withConverter(e?Xp.getInstance(this.firestore,e):null))}}class PM{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new V0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new V0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new PM(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new V0(this._firestore,r))})}isEqual(e){return mS(this._delegate,e._delegate)}}class My extends ws{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new na(this.firestore,e):null}doc(e){try{return new na(this.firestore,void 0===e?Lb(this._delegate):Lb(this._delegate,e))}catch(t){throw _s(t,"doc()","CollectionReference.doc()")}}add(e){return function wM(n,e){const t=Gt(n.firestore,$n),r=Lb(n),o=Hb(n.converter,e);return xy(t,[Bb(Kp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new na(this.firestore,t))}isEqual(e){return iS(this._delegate,e._delegate)}withConverter(e){return new My(this.firestore,this._delegate.withConverter(e?Xp.getInstance(this.firestore,e):null))}}function eg(n){return Gt(n,Rn)}class _D{constructor(...e){this._delegate=new Bc(...e)}static documentId(){return new _D(Pr.keyField().canonicalString())}isEqual(e){return(e=(0,Rt.m9)(e))instanceof Bc&&this._delegate._internalPath.isEqual(e._internalPath)}}class tg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function CM(){return new lD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new tg(e)}static delete(){const e=function TM(){return new R0("deleteField")}();return e._methodName="FieldValue.delete",new tg(e)}static arrayUnion(...e){const t=function DM(...n){return new Y1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new tg(t)}static arrayRemove(...e){const t=function AM(...n){return new Q1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new tg(t)}static increment(e){const t=function SM(n){return new J1("increment",n)}(e);return t._methodName="FieldValue.increment",new tg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const kM={Firestore:RS,GeoPoint:Vb,Timestamp:Jr,Blob:F0,Transaction:NS,WriteBatch:PS,DocumentReference:na,DocumentSnapshot:L0,Query:ws,QueryDocumentSnapshot:V0,QuerySnapshot:vD,CollectionReference:My,FieldPath:_D,FieldValue:tg,setLogLevel:function NM(n){!function pT(n){Qa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function LM(n){(function FM(n,e){n.INTERNAL.registerComponent(new Rv.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},kM)))})(n,(e,t)=>new RS(e,t,new RM)),n.registerVersion("@firebase/firestore-compat","0.1.14")}(kI.Z);var VM=P(6451),Gb=P(5363),UM=P(6063);class BM extends Ms.x{constructor(e=1/0,t=1/0,r=UM.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:f}=this;t||(r.push(e),!o&&r.push(c.now()+f)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,c=o.slice();for(let f=0;f<c.length&&!e.closed;f+=r?1:2)e.next(c[f]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,c=(o?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!o){const f=t.now();let y=0;for(let E=1;E<r.length&&r[E]<=f;E+=2)y=E;y&&r.splice(0,y+1)}}}var jM=P(3099);function LS(n,e,t){var r,o;let c,f=!1;return n&&"object"==typeof n?(c=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(o=n.windowTime)&&void 0!==o?o:1/0,f=!!n.refCount,t=n.scheduler):c=null!=n?n:1/0,(0,jM.B)({connector:()=>new BM(c,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}function VS(n,e){return(0,hd.m)(e)?Mn(()=>n,e):Mn(()=>n)}var wD=P(9468);P(5867);const BS=new Map,GM={activated:!1,tokenObservers:[]},zM={initialized:!1,enabled:!1};function ai(n){return BS.get(n)||GM}function au(n,e){BS.set(n,e)}function Wb(){return zM}class JM{constructor(e,t,r,o,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Rt.BH,yield function XM(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Rt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Es=new Rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZS(n){if(!ai(n).activated)throw Es.create("use-before-activation",{appName:n.name})}function TD(n,e){return CD.apply(this,arguments)}function CD(){return CD=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(e),headers:r};let f,y;try{f=yield fetch(n,c)}catch(R){throw Es.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==f.status)throw Es.create("fetch-status-error",{httpStatus:f.status});try{y=yield f.json()}catch(R){throw Es.create("fetch-parse-error",{originalErrorMessage:R.message})}const E=y.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Es.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const D=1e3*Number(E[1]),O=Date.now();return{token:y.attestationToken,expireTimeMillis:O+D,issuedAtTimeMillis:O}}),CD.apply(this,arguments)}function iO(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const U0="firebase-app-check-store";let Qb=null;function HS(){return Qb||(Qb=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Es.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(U0,{keyPath:"compositeKey"})}}catch(t){e(Es.create("storage-open",{originalErrorMessage:t.message}))}}),Qb)}function DD(){return DD=(0,ye.Z)(function*(n,e){const r=(yield HS()).transaction(U0,"readwrite"),c=r.objectStore(U0).put({compositeKey:n,value:e});return new Promise((f,y)=>{c.onsuccess=E=>{f()},r.onerror=E=>{var D;y(Es.create("storage-set",{originalErrorMessage:null===(D=E.target.error)||void 0===D?void 0:D.message}))}})}),DD.apply(this,arguments)}const B0=new Ga.Yd("@firebase/app-check");function WS(n,e){return(0,Rt.hl)()?function uO(n,e){return function $S(n,e){return DD.apply(this,arguments)}(function zS(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{B0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function KS(){return Wb().enabled}function YS(){return MD.apply(this,arguments)}function MD(){return MD=(0,ye.Z)(function*(){const n=Wb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),MD.apply(this,arguments)}const pO={error:"UNKNOWN_ERROR"};function gO(n){return Rt.US.encodeString(JSON.stringify(n),!1)}function Jb(n){return OD.apply(this,arguments)}function OD(){return OD=(0,ye.Z)(function*(n,e=!1){const t=n.app;ZS(t);const r=ai(t);let c,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&Xb(E)&&(o=E)}if(!e&&o&&Xb(o))return{token:o.token};let y,f=!1;if(KS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=TD(iO(t,yield YS()),n.platformLoggerProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),f=!0);const E=yield r.exchangeTokenPromise;return yield WS(t,E),au(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),f=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?B0.warn(E.message):B0.error(E),c=E}return o?(y={token:o.token},au(t,Object.assign(Object.assign({},r),{token:o})),yield WS(t,o)):y=yO(c),f&&JS(t,y),y}),OD.apply(this,arguments)}function ND(n,e){const t=ai(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),au(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function QS(n){const{app:e}=n,t=ai(e);let r=t.tokenRefresher;r||(r=function mO(n){const{app:e}=n;return new JM((0,ye.Z)(function*(){let r;if(r=ai(e).token?yield Jb(n,!0):yield Jb(n),r.error)throw r.error}),()=>!0,()=>{const t=ai(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),au(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function JS(n,e){const t=ai(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Xb(n){return n.expireTimeMillis-Date.now()>0}function yO(n){return{token:gO(pO),error:n}}class vO{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=ai(this.app);for(const t of e)ND(this.app,t.next);return Promise.resolve()}}const ox="app-check-internal";!function RO(){(0,Gu._registerComponent)(new Rv.wA("app-check",n=>function _O(n,e){return new vO(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ox).initialize()})),(0,Gu._registerComponent)(new Rv.wA(ox,n=>function wO(n){return{getToken:e=>Jb(n,e),addTokenListener:e=>function RD(n,e,t,r){const{app:o}=n,c=ai(o),f={next:t,error:r,type:e};if(au(o,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,f]})),c.token&&Xb(c.token)){const y=c.token;Promise.resolve().then(()=>{t({token:y.token}),QS(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>QS(n))}(n,"INTERNAL",e),removeTokenListener:e=>ND(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Gu.registerVersion)("@firebase/app-check","0.5.3")}();class LD{constructor(){return(0,Ar.vb)("app-check")}}"undefined"!=typeof window&&window;var LO=P(127);const ux=new u.OlP("angularfire2.auth.use-emulator"),lx=new u.OlP("angularfire2.auth.settings"),cx=new u.OlP("angularfire2.auth.tenant-id"),dx=new u.OlP("angularfire2.auth.langugage-code"),hx=new u.OlP("angularfire2.auth.use-device-language"),fx=new u.OlP("angularfire.auth.persistence"),px=(n,e,t,r,o,c,f,y)=>(0,fo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,c&&E.useDeviceLanguage(),f)for(const[D,O]of Object.entries(f))E.settings[D]=O;return y&&E.setPersistence(y),E},[t,r,o,c,f,y]);let gx=(()=>{class n{constructor(t,r,o,c,f,y,E,D,O,R,q,G){const re=new Ms.x,ke=Ye(void 0).pipe((0,Gb.Q)(f.outsideAngular),Mn(()=>c.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2438)))),(0,vt.U)(()=>(0,fo.on)(t,c,r)),(0,vt.U)(ze=>px(ze,c,y,D,O,R,E,q)),LS({bufferSize:1,refCount:!1}));if(ca(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ye(null);else{ke.pipe(Sa()).subscribe();const pt=ke.pipe(Mn(xt=>xt.getRedirectResult().then(Nn=>Nn,()=>null)),Ar.iC,LS({bufferSize:1,refCount:!1})),qt=ke.pipe(Mn(xt=>new Jn.y(Nn=>({unsubscribe:c.runOutsideAngular(()=>xt.onAuthStateChanged(uu=>Nn.next(uu),uu=>Nn.error(uu),()=>Nn.complete()))})))),fn=ke.pipe(Mn(xt=>new Jn.y(Nn=>({unsubscribe:c.runOutsideAngular(()=>xt.onIdTokenChanged(uu=>Nn.next(uu),uu=>Nn.error(uu),()=>Nn.complete()))}))));this.authState=pt.pipe(VS(qt),(0,wD.R)(f.outsideAngular),(0,Gb.Q)(f.insideAngular)),this.user=pt.pipe(VS(fn),(0,wD.R)(f.outsideAngular),(0,Gb.Q)(f.insideAngular)),this.idToken=this.user.pipe(Mn(xt=>xt?(0,an.D)(xt.getIdToken()):Ye(null))),this.idTokenResult=this.user.pipe(Mn(xt=>xt?(0,an.D)(xt.getIdTokenResult()):Ye(null))),this.credential=(0,VM.T)(pt,re,this.authState.pipe(hr(xt=>!xt))).pipe((0,vt.U)(xt=>(null==xt?void 0:xt.user)?xt:null),(0,wD.R)(f.outsideAngular),(0,Gb.Q)(f.insideAngular))}return(0,fo.pX)(this,ke,c,{spy:{apply:(ze,pt,qt)=>{(ze.startsWith("signIn")||ze.startsWith("createUser"))&&qt.then(fn=>re.next(fn))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fo.Dh),u.LFG(fo.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ar.HU),u.LFG(ux,8),u.LFG(lx,8),u.LFG(cx,8),u.LFG(dx,8),u.LFG(hx,8),u.LFG(fx,8),u.LFG(LD,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function mx(n,e){return function UO(n,e=Ov.z){return new Jn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function UD(n,e){return mx(n,e).pipe((0,vt.U)(t=>({payload:t,type:"query"})))}function tI(n,e){return UD(n,e).pipe(_i(void 0),$g(),(0,vt.U)(([t,r])=>{const o=r.payload.docChanges(),c=o.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,y)=>{const E=o.find(O=>O.doc.ref.isEqual(f.ref)),D=null==t?void 0:t.payload.docs.find(O=>O.ref.isEqual(f.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(f.metadata)||!E&&D&&JSON.stringify(D.metadata)===JSON.stringify(f.metadata)||c.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:f}})}),c}))}function yx(n,e,t){return tI(n,t).pipe(Vo((r,o)=>function jO(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function ZO(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return BD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return BD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return BD(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(c=>c.payload),e),[]),function Aw(n,e=us.y){return n=null!=n?n:Sw,(0,Zn.e)((t,r)=>{let o,c=!0;t.subscribe(new pn.Q(r,f=>{const y=e(f);(c||!n(o,y))&&(c=!1,o=y,r.next(f))}))})}(),(0,vt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function BD(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function vx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class _x{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=tI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,vt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(_i(void 0),$g(),hr(([r,o])=>o.length>0||!r),(0,vt.U)(([r,o])=>o),Ar.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vx(e);return yx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ar.iC)}valueChanges(e={}){return UD(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ar.iC)}get(e){return(0,an.D)(this.query.get(e)).pipe(Ar.iC)}add(e){return this.ref.add(e)}doc(e){return new wx(this.ref.doc(e),this.afs)}}class wx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:c}=Ix(r,t);return new _x(o,c,this.afs)}snapshotChanges(){return function BO(n,e){return mx(n,e).pipe(_i(void 0),$g(),(0,vt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ar.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,an.D)(this.ref.get(e)).pipe(Ar.iC)}}class qO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?tI(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),hr(t=>t.length>0),Ar.iC):tI(this.query,this.afs.schedulers.outsideAngular).pipe(Ar.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vx(e);return yx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ar.iC)}valueChanges(e={}){return UD(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Ar.iC)}get(e){return(0,an.D)(this.query.get(e)).pipe(Ar.iC)}}const Ex=new u.OlP("angularfire2.enableFirestorePersistence"),bx=new u.OlP("angularfire2.firestore.persistenceSettings"),HO=new u.OlP("angularfire2.firestore.settings"),$O=new u.OlP("angularfire2.firestore.use-emulator");function Ix(n,e=(t=>t)){return{query:e(n),ref:n}}let jD=(()=>{class n{constructor(t,r,o,c,f,y,E,D,O,R,q,G,re,ke,ze,pt,qt){this.schedulers=E;const fn=(0,fo.on)(t,y,r),xt=O;R&&px(fn,y,q,re,ke,ze,G,pt),[this.firestore,this.persistenceEnabled$]=(0,fo.cc)(`${fn.name}.firestore`,"AngularFirestore",fn.name,()=>{const Nn=y.runOutsideAngular(()=>fn.firestore());if(c&&Nn.settings(c),xt&&Nn.useEmulator(...xt),o&&!ca(f)){const uu=()=>{try{return(0,an.D)(Nn.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(iI){return"undefined"!=typeof console&&console.warn(iI),Ye(!1)}};return[Nn,y.runOutsideAngular(uu)]}return[Nn,Ye(!1)]},[c,xt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:f}=Ix(o,r),y=this.schedulers.ngZone.run(()=>c);return new _x(y,f,this)}collectionGroup(t,r){const o=r||(f=>f),c=this.firestore.collectionGroup(t);return new qO(o(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new wx(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fo.Dh),u.LFG(fo.xv,8),u.LFG(Ex,8),u.LFG(HO,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ar.HU),u.LFG(bx,8),u.LFG($O,8),u.LFG(gx,8),u.LFG(ux,8),u.LFG(lx,8),u.LFG(cx,8),u.LFG(dx,8),u.LFG(hx,8),u.LFG(fx,8),u.LFG(LD,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),GO=(()=>{class n{constructor(){LO.Z.registerVersion("angularfire",Ar.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Ex,useValue:!0},{provide:bx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[jD]}),n})(),Tx=(()=>{class n{constructor(t){this.aFs=t,this.bookingCollection=t.collection("booking")}saveBooking(t){this.bookingCollection.add(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jD))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zO=(()=>{class n{constructor(t){this.bookData=t,this.bookingForm=this.createFormGroup()}createFormGroup(){return new Kf({name:new Wo(""),phone:new Wo(""),date:new Wo(""),personas:new Wo("")})}ngOnInit(){}onResetForm(){this.bookingForm.reset()}onSaveForm(){this.bookData.saveBooking(this.bookingForm.value)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Tx))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-booking"]],decls:40,vars:1,consts:[[1,"animated","fadeIn","section","section-lg","section-main-bunner","section-main-bunner-filter","text-center"],[1,"main-bunner-img",2,"background-image","url(https://maltium.com/wp-content/uploads/2018/04/restaurante-elegantes-cerveza-premium.jpg)","background-size","cover"],[1,"main-bunner-inner"],[1,"container"],[1,"box-default"],[1,"box-default-title"],[1,"box-default-decor"],[1,"bg-gray-1"],[1,"section-transform-top"],[1,"box-booking"],[1,"rd-form","rd-mailform","booking-form",3,"formGroup","ngSubmit"],[1,"booking-title"],[1,"form-wrap"],["id","booking-name","type","text","name","name","data-constraints","@Required","formControlName","name",1,"form-input"],["for","booking-name",1,"form-label"],["id","booking-phone","type","number","name","phone","data-constraints","@Numeric","formControlName","phone",1,"form-input"],["for","booking-phone",1,"form-label"],[1,"form-wrap","form-wrap-icon"],[1,"icon","mdi","mdi-calendar-text"],["id","booking-date","type","text","name","date","data-constraints","@Required","data-time-picker","date","formControlName","date",1,"form-input"],["id","booking-name","type","text","name","personas","data-constraints","@Required","formControlName","personas",1,"form-input"],["type","submit",1,"button","button-lg","button-gray-600"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u._UZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"h1",5),u._uU(6,"RESERVAS"),u.qZA(),u._UZ(7,"div",6),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"div",7),u.TgZ(9,"section",8),u.TgZ(10,"div",3),u.TgZ(11,"div",9),u.TgZ(12,"form",10),u.NdJ("ngSubmit",function(){return r.onSaveForm()}),u.TgZ(13,"div"),u.TgZ(14,"p",11),u._uU(15,"Nombre"),u.qZA(),u.TgZ(16,"div",12),u._UZ(17,"input",13),u._UZ(18,"label",14),u.qZA(),u.qZA(),u.TgZ(19,"div"),u.TgZ(20,"p",11),u._uU(21,"Tel\xe9fono"),u.qZA(),u.TgZ(22,"div",12),u._UZ(23,"input",15),u._UZ(24,"label",16),u.qZA(),u.qZA(),u.TgZ(25,"div"),u.TgZ(26,"p",11),u._uU(27,"Fecha"),u.qZA(),u.TgZ(28,"div",17),u._UZ(29,"span",18),u._UZ(30,"input",19),u.qZA(),u.qZA(),u.TgZ(31,"div"),u.TgZ(32,"p",11),u._uU(33,"Personas"),u.qZA(),u.TgZ(34,"div",12),u._UZ(35,"input",20),u._UZ(36,"label",14),u.qZA(),u.qZA(),u.TgZ(37,"div"),u.TgZ(38,"button",21),u._uU(39,"Enviar"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(12),u.Q6J("formGroup",r.bookingForm))},directives:[wv,sw,Qf,Uf,Og,Jf,Yf],styles:[""]}),n})(),Cx=(()=>{class n{constructor(t){this.afs=t,this.contactCollection=t.collection("contacts")}saveMessage(t){this.contactCollection.add(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jD))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WO=(()=>{class n{constructor(t){this.dbData=t,this.contactForm=this.createFormGroup()}createFormGroup(){return new Kf({name:new Wo(""),email:new Wo(""),phone:new Wo(""),message:new Wo("")})}ngOnInit(){}onResetForm(){this.contactForm.reset()}onSaveForm(){this.dbData.saveMessage(this.contactForm.value)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Cx))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contact"]],decls:64,vars:1,consts:[[1,"animated","fadeIn","section","section-lg","section-main-bunner","section-main-bunner-filter","text-center"],[1,"main-bunner-img",2,"background-image","url(assets/img/about.png)","background-size","cover"],[1,"main-bunner-inner"],[1,"container"],[1,"box-default"],[1,"box-default-title"],[1,"box-default-decor"],[1,"big","box-default-text"],[1,"section","section-lg","text-center","bg-default"],[1,"row","row-50"],[1,"col-md-6","col-lg-4"],[1,"box-icon-classic"],[1,"box-icon-inner","decorate-triangle"],[1,"icon-xl","linearicons-phone-incoming"],[1,"box-icon-caption"],["href","tel:#"],[1,"box-icon-inner","decorate-circle"],[1,"icon-xl","linearicons-map2"],["href","#"],[1,"box-icon-inner","decorate-rectangle"],[1,"icon-xl","linearicons-paper-plane"],["href","mailto:#"],[1,"section","section-lg","bg-gray-1","text-center"],[1,"row","justify-content-md-center"],[1,"col-md-9","col-lg-7"],["data-form-output","form-output-global","data-form-type","contact","method","post","action","bat/rd-mailform.php",1,"rd-form","rd-mailform",3,"formGroup","ngSubmit"],[1,"form-wrap"],["id","contact-name","type","text","name","name","data-constraints","@Required","placeholder","Nombre","formControlName","name",1,"form-input"],["for","contact-name",1,"form-label"],["id","contact-email","type","email","name","email","data-constraints","@Email @Required","placeholder","E-mail","formControlName","email",1,"form-input"],["for","contact-email",1,"form-label"],["id","contact-phone","type","number","name","phone","data-constraints","@Numeric","placeholder","Tel\xe9fono","formControlName","phone",1,"form-input"],["for","contact-phone",1,"form-label"],["for","contact-message",1,"form-label"],["id","contact-message","name","message","data-constraints","@Required","placeholder","Mensaje","formControlName","message",1,"form-input"],[1,"row","justify-content-center"],[1,"col-12","col-sm-7","col-lg-5"],["type","submit",1,"button","button-block","button-lg","button-primary"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u._UZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"h1",5),u._uU(6,"PARISO"),u.qZA(),u._UZ(7,"div",6),u.TgZ(8,"p",7),u._uU(9," La tradici\xf3n italiana hecha restaurante"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"section",8),u.TgZ(11,"div",3),u.TgZ(12,"div",9),u.TgZ(13,"div",10),u.TgZ(14,"div",11),u.TgZ(15,"div",12),u._UZ(16,"span",13),u.qZA(),u.TgZ(17,"div",14),u.TgZ(18,"h4"),u.TgZ(19,"a",15),u._uU(20,"0261-648-3343"),u.qZA(),u.qZA(),u.TgZ(21,"p"),u._uU(22,"Puedes llamarnos en cualquier momento"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(23,"div",10),u.TgZ(24,"div",11),u.TgZ(25,"div",16),u._UZ(26,"span",17),u.qZA(),u.TgZ(27,"div",14),u.TgZ(28,"h4"),u.TgZ(29,"a",18),u._uU(30,"Patricias Mendocinas 1500, Mendoza, Argentina"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(31,"div",10),u.TgZ(32,"div",11),u.TgZ(33,"div",19),u._UZ(34,"span",20),u.qZA(),u.TgZ(35,"div",14),u.TgZ(36,"h4"),u.TgZ(37,"a",21),u._uU(38,"tinchoa02@gmail.com"),u.qZA(),u.qZA(),u.TgZ(39,"p"),u._uU(40,"No dude en enviarnos un correo electr\xf3nico con sus preguntas"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(41,"section",22),u.TgZ(42,"div",3),u.TgZ(43,"div",23),u.TgZ(44,"div",24),u.TgZ(45,"h3"),u._uU(46,"Ponte en contacto"),u.qZA(),u.TgZ(47,"form",25),u.NdJ("ngSubmit",function(){return r.onSaveForm()}),u.TgZ(48,"div",26),u._UZ(49,"input",27),u._UZ(50,"label",28),u.qZA(),u.TgZ(51,"div",26),u._UZ(52,"input",29),u._UZ(53,"label",30),u.qZA(),u.TgZ(54,"div",26),u._UZ(55,"input",31),u._UZ(56,"label",32),u.qZA(),u.TgZ(57,"div",26),u._UZ(58,"label",33),u._UZ(59,"textarea",34),u.qZA(),u.TgZ(60,"div",35),u.TgZ(61,"div",36),u.TgZ(62,"button",37),u._uU(63,"Enviar"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(47),u.Q6J("formGroup",r.contactForm))},directives:[wv,sw,Qf,Uf,Og,Jf,Yf],styles:[""]}),n})(),KO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:29,vars:0,consts:[[1,"animated","fadeIn","section","section-lg","section-main-bunner","section-main-bunner-filter","text-center"],[1,"main-bunner-img",2,"background-image","url(assets/img/welcome.jpg)","background-size","cover"],[1,"main-bunner-inner"],[1,"container"],[1,"box-default"],[1,"box-default-title"],[1,"box-default-decor"],[1,"big","box-default-text"],[1,"section","section-lg","section-inset-1","bg-gray-1","pt-lg-0"],[1,"row","row-50","justify-content-xl-between","align-items-lg-center"],[1,"col-lg-6","wow","fadeInLeft"],[1,"box-image"],["src","assets/img/home.jpg","alt","","width","483","height","327",1,"box-image-static"],[1,"col-lg-6","col-xl-5","wow","fadeInRight"],["src","assets\\img\\firma.png","alt","","width","140","height","50"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u._UZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"h1",5),u._uU(6,"BIENVENIDOS"),u.qZA(),u._UZ(7,"div",6),u.TgZ(8,"p",7),u._uU(9," La tradici\xf3n italiana hecha restaurante"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(10,"br"),u._UZ(11,"br"),u._UZ(12,"br"),u._UZ(13,"br"),u._UZ(14,"br"),u.TgZ(15,"section",8),u.TgZ(16,"div",3),u.TgZ(17,"div",9),u.TgZ(18,"div",10),u.TgZ(19,"div",11),u._UZ(20,"img",12),u.qZA(),u.qZA(),u.TgZ(21,"div",13),u.TgZ(22,"h2"),u._uU(23,"Nosotros"),u.qZA(),u.TgZ(24,"p"),u._uU(25,"Pariso es un restaurante italiano de propiedad y gesti\xf3n familiar que ofrece una combinaci\xf3n de ingredientes frescos y aut\xe9ntica cocina italiana."),u.qZA(),u.TgZ(26,"p"),u._uU(27,"Nos aseguraremos de que le sirvan los platos italianos m\xe1s aut\xe9nticos y frescos, mientras ofrecemos el mejor servicio al cliente. Nuestra cocina se compromete a brindar a nuestros hu\xe9spedes la mejor cocina italiana."),u.qZA(),u._UZ(28,"img",14),u.qZA(),u.qZA(),u.qZA(),u.qZA())},styles:[""]}),n})();class Dx{}class Ax{}class Zc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),c=o.toLowerCase(),f=t.slice(r+1).trim();this.maybeSetNormalizedName(o,c),this.headers.has(c)?this.headers.get(c).push(f):this.headers.set(c,[f])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Zc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Zc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Zc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const c=e.value;if(c){let f=this.headers.get(t);if(!f)return;f=f.filter(y=>-1===c.indexOf(y)),0===f.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,f)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class YO{encodeKey(e){return Sx(e)}encodeValue(e){return Sx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const JO=/%(\d[a-f0-9])/gi,XO={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Sx(n){return encodeURIComponent(n).replace(JO,(e,t)=>{var r;return null!==(r=XO[t])&&void 0!==r?r:e})}function xx(n){return`${n}`}class Bh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new YO,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function QO(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const c=o.indexOf("="),[f,y]=-1==c?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,c)),e.decodeValue(o.slice(c+1))],E=t.get(f)||[];E.push(y),t.set(f,E)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Bh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(xx(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(xx(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class eR{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Mx(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Ox(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Rx(n){return"undefined"!=typeof FormData&&n instanceof FormData}class j0{constructor(e,t,r,o){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function tR(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,c=o):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Zc),this.context||(this.context=new eR),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=t;else{const y=t.indexOf("?");this.urlWithParams=t+(-1===y?"?":y<t.length-1?"&":"")+f}}else this.params=new Bh,this.urlWithParams=t}serializeBody(){return null===this.body?null:Mx(this.body)||Ox(this.body)||Rx(this.body)||function nR(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Rx(this.body)?null:Ox(this.body)?this.body.type||null:Mx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,c=e.responseType||this.responseType,f=void 0!==e.body?e.body:this.body,y=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,E=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let D=e.headers||this.headers,O=e.params||this.params;const R=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(D=Object.keys(e.setHeaders).reduce((q,G)=>q.set(G,e.setHeaders[G]),D)),e.setParams&&(O=Object.keys(e.setParams).reduce((q,G)=>q.set(G,e.setParams[G]),O)),new j0(r,o,f,{params:O,headers:D,context:R,reportProgress:E,responseType:c,withCredentials:y})}}var Vr=(()=>((Vr=Vr||{})[Vr.Sent=0]="Sent",Vr[Vr.UploadProgress=1]="UploadProgress",Vr[Vr.ResponseHeader=2]="ResponseHeader",Vr[Vr.DownloadProgress=3]="DownloadProgress",Vr[Vr.Response=4]="Response",Vr[Vr.User=5]="User",Vr))();class ZD{constructor(e,t=200,r="OK"){this.headers=e.headers||new Zc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class qD extends ZD{constructor(e={}){super(e),this.type=Vr.ResponseHeader}clone(e={}){return new qD({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nI extends ZD{constructor(e={}){super(e),this.type=Vr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new nI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Nx extends ZD{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function HD(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $D=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let c;if(t instanceof j0)c=t;else{let E,D;E=o.headers instanceof Zc?o.headers:new Zc(o.headers),o.params&&(D=o.params instanceof Bh?o.params:new Bh({fromObject:o.params})),c=new j0(t,r,void 0!==o.body?o.body:null,{headers:E,context:o.context,params:D,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const f=Ye(c).pipe(Vt(E=>this.handler.handle(E)));if(t instanceof j0||"events"===o.observe)return f;const y=f.pipe(hr(E=>E instanceof nI));switch(o.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return y.pipe((0,vt.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return y.pipe((0,vt.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return y.pipe((0,vt.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return y.pipe((0,vt.U)(E=>E.body))}case"response":return y;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Bh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,HD(o,r))}post(t,r,o={}){return this.request("POST",t,HD(o,r))}put(t,r,o={}){return this.request("PUT",t,HD(o,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Dx))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Px{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const kx=new u.OlP("HTTP_INTERCEPTORS");let rR=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const iR=/^\)\]\}',?\n/;let Fx=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Jn.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((G,re)=>o.setRequestHeader(G,re.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const G=t.detectContentTypeHeader();null!==G&&o.setRequestHeader("Content-Type",G)}if(t.responseType){const G=t.responseType.toLowerCase();o.responseType="json"!==G?G:"text"}const c=t.serializeBody();let f=null;const y=()=>{if(null!==f)return f;const G=1223===o.status?204:o.status,re=o.statusText||"OK",ke=new Zc(o.getAllResponseHeaders()),ze=function sR(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return f=new qD({headers:ke,status:G,statusText:re,url:ze}),f},E=()=>{let{headers:G,status:re,statusText:ke,url:ze}=y(),pt=null;204!==re&&(pt=void 0===o.response?o.responseText:o.response),0===re&&(re=pt?200:0);let qt=re>=200&&re<300;if("json"===t.responseType&&"string"==typeof pt){const fn=pt;pt=pt.replace(iR,"");try{pt=""!==pt?JSON.parse(pt):null}catch(xt){pt=fn,qt&&(qt=!1,pt={error:xt,text:pt})}}qt?(r.next(new nI({body:pt,headers:G,status:re,statusText:ke,url:ze||void 0})),r.complete()):r.error(new Nx({error:pt,headers:G,status:re,statusText:ke,url:ze||void 0}))},D=G=>{const{url:re}=y(),ke=new Nx({error:G,status:o.status||0,statusText:o.statusText||"Unknown Error",url:re||void 0});r.error(ke)};let O=!1;const R=G=>{O||(r.next(y()),O=!0);let re={type:Vr.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(re.total=G.total),"text"===t.responseType&&!!o.responseText&&(re.partialText=o.responseText),r.next(re)},q=G=>{let re={type:Vr.UploadProgress,loaded:G.loaded};G.lengthComputable&&(re.total=G.total),r.next(re)};return o.addEventListener("load",E),o.addEventListener("error",D),o.addEventListener("timeout",D),o.addEventListener("abort",D),t.reportProgress&&(o.addEventListener("progress",R),null!==c&&o.upload&&o.upload.addEventListener("progress",q)),o.send(c),r.next({type:Vr.Sent}),()=>{o.removeEventListener("error",D),o.removeEventListener("abort",D),o.removeEventListener("load",E),o.removeEventListener("timeout",D),t.reportProgress&&(o.removeEventListener("progress",R),null!==c&&o.upload&&o.upload.removeEventListener("progress",q)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Wt))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const GD=new u.OlP("XSRF_COOKIE_NAME"),zD=new u.OlP("XSRF_HEADER_NAME");class Lx{}let oR=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=to(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(u.Lbi),u.LFG(GD))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),WD=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const c=this.tokenService.getToken();return null!==c&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,c)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Lx),u.LFG(zD))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),aR=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(kx,[]);this.chain=r.reduceRight((o,c)=>new Px(o,c),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ax),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),uR=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:WD,useClass:rR}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:GD,useValue:t.cookieName}:[],t.headerName?{provide:zD,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[WD,{provide:kx,useExisting:WD,multi:!0},{provide:Lx,useClass:oR},{provide:GD,useValue:"XSRF-TOKEN"},{provide:zD,useValue:"X-XSRF-TOKEN"}]}),n})(),lR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[$D,{provide:Dx,useClass:aR},Fx,{provide:Ax,useExisting:Fx}],imports:[[uR.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),rI=(()=>{class n{constructor(t){this.http=t,this.info={},this.cargada=!1,this.cargarInfo()}cargarInfo(){this.http.get("assets/data/data-pagina.json").subscribe(t=>{this.cargada=!0,this.info=t})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($D))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vx=(()=>{class n{constructor(t){this.http=t,this.cargando=!0,this.menu=[],this.cargarMenu()}cargarMenu(){this.http.get("https://pariso-restaurante-default-rtdb.firebaseio.com/menu.json").subscribe(t=>{this.menu=t,console.log(t),this.cargando=!1})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($D))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cR=[{path:"home",component:KO},{path:"about",component:W0},{path:"booking",component:zO},{path:"contact",component:WO},{path:"item",component:(()=>{class n{constructor(t,r){this.infoService=t,this.menuService=r}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rI),u.Y36(Vx))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-item"]],decls:240,vars:0,consts:[[1,"section","section-lg","section-main-bunner","section-main-bunner-filter","text-center"],[1,"main-bunner-img",2,"background-image","url(assets/img/menu.jpg)","background-size","cover"],[1,"main-bunner-inner"],[1,"container"],[1,"box-default"],[1,"box-default-title"],[1,"box-default-decor"],[1,"big","box-default-text"],[1,"section","section-lg","bg-default"],[1,"row","justify-content-center","text-center"],[1,"col-md-9","col-lg-7","wow-outer"],[1,"wow","slideInDown"],[1,"text-opacity-80"],[1,"row","row-20","row-lg-30"],[1,"col-md-6","col-lg-4","wow-outer"],[1,"wow","fadeInUp"],[1,"product-featured"],[1,"product-featured-figure"],["src","https://livedemo00.template-help.com/wt_53136/images/product-1-370x395.jpg","alt","","width","370","height","395"],[1,"product-featured-caption"],["href","#",1,"product-featured-title"],[1,"big"],["src","https://livedemo00.template-help.com/wt_53136/images/product-2-370x395.jpg","alt","","width","370","height","395"],["src","https://livedemo00.template-help.com/wt_53136/images/product-3-370x395.jpg","alt","","width","370","height","395"],[1,"section","section-lg","bg-gray-1"],[1,"text-center"],[1,"row"],[1,"col-12"],["id","tabs-1",1,"tabs-custom","tabs-horizontal","tabs-classic"],[1,"nav","nav-tabs","nav-tabs-classic"],["role","presentation",1,"nav-item"],["href","#tabs-1-1","data-toggle","tab",1,"nav-link","active"],["href","#tabs-1-2","data-toggle","tab",1,"nav-link"],["href","#tabs-1-3","data-toggle","tab",1,"nav-link"],[1,"tab-content"],["id","tabs-1-1",1,"tab-pane","fade","show","active"],[1,"box-event-modern"],[1,"event-item-modern"],[1,"event-item-modern-title"],["href","#"],[1,"event-item-modern-text"],["src","https://www.filo.news/__export/1496589101595/sites/claro/img/2017/06/04/ossobuco_con_risotto_chiuso_790.jpg_673822677.jpg","alt","","width","200","height","150"],[1,"event-time"],["src","http://www.comiendoenla.com/wp-content/uploads/2018/08/Pappardelle-de-limo%CC%81n-y-pimientacon-gambas.jpg","alt","","width","200","height","150"],["src","https://media-cdn.tripadvisor.com/media/photo-s/1a/a8/33/47/ferraro-s-italian-restaurant.jpg","alt","","width","200","height","150"],["src","https://resizer.glanacion.com/resizer/oZOFHLOgODlFTH3-puSP5qajCRw=/1200x746/smart/filters:format(webp):quality(80)/cloudfront-us-east-1.images.arcpublishing.com/lanacionar/PCBS6JWZK5F4BMNB4N7T6KHVFI.jpg","alt","","width","200","height","150"],["id","tabs-1-2",1,"tab-pane","fade"],["src","https://i.ytimg.com/vi/UNRwY7wkn-g/maxresdefault.jpg","alt","","width","200","height","150"],["src","https://elviejochamartin.b-cdn.net/wp-content/uploads/2020/10/Cannoli-siciliano.jpg","alt","","width","200","height","150"],["src","https://1.bp.blogspot.com/-uz7PQ3_I2XI/XWuuxd2J3UI/AAAAAAAAanM/52YKgbPN7YQoJ2eyobMu3j2UUbBFCCc8wCKgBGAs/s1600/IMG_20190831_030453_752.jpg","alt","","width","200","height","150"],["src","https://urvashiroe.com/wordpress/wp-content/uploads/2011/12/copyright-urvashi-roe_chocolate-and-pistachio-biscotti-1.jpg","alt","","width","200","height","150"],["id","tabs-1-3",1,"tab-pane","fade"],["src","https://www.clarin.com/img/2020/07/28/ltk75xfor_340x340__1.jpg","alt","","width","200","height","150"],["src","https://www.cocinayvino.com/wp-content/uploads/2016/10/59357364_l.jpg","alt","","width","200","height","150"],["src","https://www.seriouseats.com/thmb/mrlICRAqaPMbJ_BVIBO_rUhIDn4=/1500x1125/filters:fill(auto,1)/__opt__aboutcom__coeus__resources__content_migration__serious_eats__seriouseats.com__recipes__images__2015__06__20150618-three-ingredient-cocktails-negroni-sbagliato-vicky-wasik-1ea6d95b7717478b8b44b81b163e25aa.jpg","alt","","width","200","height","150"],["src","https://culinaryginger.com/wp-content/uploads/White-Peach-Bellini-11-735x491.jpg","alt","","width","200","height","150"],[1,"section"],[1,"row","isotope-wrap"],[1,"col-lg-12"],["data-isotope-layout","fitRows","data-isotope-group","gallery","data-lightgallery","group","data-lg-thumbnail","false",1,"isotope"],[1,"row","no-gutters","row-condensed"],["data-filter","*",1,"col-12","col-sm-6","col-md-4","isotope-item","wow-outer"],[1,"gallery-item-classic"],["src","https://livedemo00.template-help.com/wt_53136/images/gallery-masonry-1-640x429.jpg","alt","","width","640","height","429"],[1,"gallery-item-classic-caption"],["href","https://livedemo00.template-help.com/wt_53136/images/gallery-masonry-1-640x429.jpg","data-lightgallery","item"],["data-filter","Category 3",1,"col-12","col-sm-6","col-md-4","isotope-item","wow-outer"],["src","https://livedemo00.template-help.com/wt_53136/images/gallery-masonry-2-640x429.jpg","alt","","width","640","height","429"],["href","https://livedemo00.template-help.com/wt_53136/images/gallery-masonry-2-640x429.jpg","data-lightgallery","item"],["data-filter","Category 3",1,"col-12","col-md-4","isotope-item","wow-outer"],["src","https://livedemo00.template-help.com/wt_53136/images/gallery-masonry-3-640x429.jpg","alt","","width","640","height","429"],["href","https://livedemo00.template-help.com/wt_53136/images/gallery-masonry-3-640x429.jpg","data-lightgallery","item"],["data-filter","Category 3",1,"col-12","col-sm-12","col-md-6","isotope-item","wow-outer"],["src","https://livedemo00.template-help.com/wt_53136/images/gallery-masonry-4-960x429.jpg","alt","","width","960","height","429"],["href","https://livedemo00.template-help.com/wt_53136/images/gallery-masonry-4-960x429.jpg","data-lightgallery","item"],["data-filter","Category 2",1,"col-12","col-sm-12","col-md-6","isotope-item","wow-outer"],["src","https://livedemo00.template-help.com/wt_53136/images/gallery-masonry-5-960x429.jpg","alt","","width","960","height","429"],["href","images/gallery-masonry-5-original.jpg","data-lightgallery","item"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u._UZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"h1",5),u._uU(6,"MEN\xda"),u.qZA(),u._UZ(7,"div",6),u.TgZ(8,"p",7),u._uU(9," La tradici\xf3n italiana hecha restaurante"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"section",8),u.TgZ(11,"div",3),u.TgZ(12,"div",9),u.TgZ(13,"div",10),u.TgZ(14,"div",11),u.TgZ(15,"h2"),u._uU(16,"Ofertas Destacadas"),u.qZA(),u.TgZ(17,"p",12),u._uU(18,"Ofrecemos una gran variedad de los mejores platos italianos a nuestros visitantes y hu\xe9spedes. A continuaci\xf3n se presentan algunos de nuestros platos principales y postres m\xe1s populares."),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(19,"div",13),u.TgZ(20,"div",14),u.TgZ(21,"div",15),u.TgZ(22,"div",16),u.TgZ(23,"div",17),u._UZ(24,"img",18),u.qZA(),u.TgZ(25,"div",19),u.TgZ(26,"h4"),u.TgZ(27,"a",20),u._uU(28,"Ravioli"),u.qZA(),u.qZA(),u.TgZ(29,"p",21),u._uU(30,"$1000"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(31,"div",14),u.TgZ(32,"div",15),u.TgZ(33,"div",16),u.TgZ(34,"div",17),u._UZ(35,"img",22),u.qZA(),u.TgZ(36,"div",19),u.TgZ(37,"h4"),u.TgZ(38,"a",20),u._uU(39,"Pasta Negra"),u.qZA(),u.qZA(),u.TgZ(40,"p",21),u._uU(41,"$1500"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(42,"div",14),u.TgZ(43,"div",15),u.TgZ(44,"div",16),u.TgZ(45,"div",17),u._UZ(46,"img",23),u.qZA(),u.TgZ(47,"div",19),u.TgZ(48,"h4"),u.TgZ(49,"a",20),u._uU(50,"Gelato"),u.qZA(),u.qZA(),u.TgZ(51,"p",21),u._uU(52,"$800"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(53,"section",24),u.TgZ(54,"div",3),u.TgZ(55,"h2",25),u._uU(56,"El men\xfa de nuestro restaurante"),u.qZA(),u.TgZ(57,"div",26),u.TgZ(58,"div",27),u.TgZ(59,"div",28),u.TgZ(60,"ul",29),u.TgZ(61,"li",30),u.TgZ(62,"a",31),u._uU(63,"Plato Principal"),u.qZA(),u.qZA(),u.TgZ(64,"li",30),u.TgZ(65,"a",32),u._uU(66,"Postres"),u.qZA(),u.qZA(),u.TgZ(67,"li",30),u.TgZ(68,"a",33),u._uU(69,"Bebidas"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(70,"div",34),u.TgZ(71,"div",35),u.TgZ(72,"div",36),u.TgZ(73,"div",37),u.TgZ(74,"h4",38),u.TgZ(75,"a",39),u._uU(76," Osso Buco "),u.qZA(),u.qZA(),u.TgZ(77,"div",40),u.TgZ(78,"div",17),u._UZ(79,"img",41),u.qZA(),u.TgZ(80,"p"),u._uU(81,"El Osso Buco es uno de los grandes platos italianos: ternera cocida a fuego lento en salsa de tomate y vino blanco, derriti\xe9ndose tierno, esto es a la vez abundante y lujoso."),u.qZA(),u.TgZ(82,"p",42),u._uU(83,"$2500"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(84,"div",37),u.TgZ(85,"h4",38),u.TgZ(86,"a",39),u._uU(87,"Pappardelle Mimmo"),u.qZA(),u.qZA(),u.TgZ(88,"div",40),u.TgZ(89,"div",17),u._UZ(90,"img",43),u.qZA(),u.TgZ(91,"p"),u._uU(92,"Este delicioso plato corona una pasta larga y ancha con vieiras, langosta, esp\xe1rragos, mantequilla, salvia y aceite de trufa para satisfacer todos los paladares."),u.qZA(),u.TgZ(93,"p",42),u._uU(94,"$2300"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(95,"div",37),u.TgZ(96,"h4",38),u.TgZ(97,"a",39),u._uU(98,"Trippa Satriano"),u.qZA(),u.qZA(),u.TgZ(99,"div",40),u._UZ(100,"img",44),u.TgZ(101,"p"),u._uU(102,"At\xfan de aleta amarilla con incrustaciones de hierbas en rodajas finas cubierto con tomates cortados en cubitos, aceitunas, alcaparras, cebollas rojas y hinojo. \xa1La elecci\xf3n perfecta incluso para los visitantes primerizos!"),u.qZA(),u.TgZ(103,"p",42),u._uU(104,"$2200"),u.qZA(),u.qZA(),u.qZA(),u._uU(105," --\x3e "),u.TgZ(106,"div",37),u.TgZ(107,"h4",38),u.TgZ(108,"a",39),u._uU(109,"Filetto Di Manzo"),u.qZA(),u.qZA(),u.TgZ(110,"div",40),u._UZ(111,"img",45),u.TgZ(112,"p"),u._uU(113,"Maravillosa combinaci\xf3n de lomo de primera calidad, verduras de invierno, pur\xe9 de alcachofa de Jerusal\xe9n y rabo de toro salsa de reducci\xf3n."),u.qZA(),u.TgZ(114,"p",42),u._uU(115,"$2400"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(116,"div",46),u.TgZ(117,"div",36),u.TgZ(118,"div",37),u.TgZ(119,"h4",38),u.TgZ(120,"a",39),u._uU(121,"Tiramis\xfa"),u.qZA(),u.qZA(),u.TgZ(122,"div",40),u._UZ(123,"img",47),u.TgZ(124,"p"),u._uU(125,"El favorito de Pariso: postre cl\xe1sico italiano hecho con bizcochos, queso mascarpone y caf\xe9 expr\xe9s. Perfecto tanto para ni\xf1os como para adultos."),u.qZA(),u.TgZ(126,"p",42),u._uU(127,"$2000"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(128,"div",37),u.TgZ(129,"h4",38),u.TgZ(130,"a",39),u._uU(131,"Cannoli"),u.qZA(),u.qZA(),u.TgZ(132,"div",40),u._UZ(133,"img",48),u.TgZ(134,"p"),u._uU(135,"Tr\xedo torre de cannoli rellenos de suave ricotta, az\xfacar y canela, con chocolate y frambuesa salsas Tambi\xe9n hay disponibles cannoli individuales."),u.qZA(),u.TgZ(136,"p",42),u._uU(137,"$900"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(138,"div",37),u.TgZ(139,"h4",38),u.TgZ(140,"a",39),u._uU(141,"Pistachio Passion"),u.qZA(),u.qZA(),u.TgZ(142,"div",40),u._UZ(143,"img",49),u.TgZ(144,"p"),u._uU(145,"Capas de crema de pistacho, natillas de queso crema y crema batida sobre una rica corteza de nuez."),u.qZA(),u.TgZ(146,"p",42),u._uU(147,"$1500"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(148,"div",37),u.TgZ(149,"h4",38),u.TgZ(150,"a",39),u._uU(151,"Chocolate-and-Pistachio Biscotti"),u.qZA(),u.qZA(),u.TgZ(152,"div",40),u._UZ(153,"img",50),u.TgZ(154,"p"),u._uU(155,"En Pariso, variamos estos maravillosos biscotti de nuez, mientras los sumergimos en oscuro derretido chocolate para una capa extra de sabor."),u.qZA(),u.TgZ(156,"p",42),u._uU(157,"$600"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(158,"div",51),u.TgZ(159,"div",36),u.TgZ(160,"div",37),u.TgZ(161,"h4",38),u.TgZ(162,"a",39),u._uU(163,"Aperol Spritz"),u.qZA(),u.qZA(),u.TgZ(164,"div",40),u._UZ(165,"img",52),u.TgZ(166,"p"),u._uU(167,'La bebida m\xe1s popular de Venecia: refrescante, relajada y\u2026 \xa1feliz! Perfecto para beber como un "Aperitivo" justo antes de la cena - \xa1una delicia!'),u.qZA(),u.TgZ(168,"p",42),u._uU(169,"$900"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(170,"div",37),u.TgZ(171,"h4",38),u.TgZ(172,"a",39),u._uU(173,"Negroni"),u.qZA(),u.qZA(),u.TgZ(174,"div",40),u._UZ(175,"img",53),u.TgZ(176,"p"),u._uU(177,"Recomp\xe9nsate con un momento de relajaci\xf3n y puro placer mientras disfrutas de todo el sabor y simplicidad de un Negroni, un ic\xf3nico c\xf3ctel italiano."),u.qZA(),u.TgZ(178,"p",42),u._uU(179,"$600"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(180,"div",37),u.TgZ(181,"h4",38),u.TgZ(182,"a",39),u._uU(183,"Negroni Sbagliato"),u.qZA(),u.qZA(),u.TgZ(184,"div",40),u._UZ(185,"img",54),u.TgZ(186,"p"),u._uU(187,"Un c\xf3ctel para los que prefieren sabores m\xe1s delicados pero quieren una bebida llena de sabor y personalidad"),u.qZA(),u.TgZ(188,"p",42),u._uU(189,"$750"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(190,"div",37),u.TgZ(191,"h4",38),u.TgZ(192,"a",39),u._uU(193,"White Peach Bellini"),u.qZA(),u.qZA(),u.TgZ(194,"div",40),u._UZ(195,"img",55),u.TgZ(196,"p"),u._uU(197,"White Peach Bellini es una bebida cl\xe1sica de Venecia Italia de pur\xe9 de durazno blanco y Prosecco. Esta una de nuestras bebidas m\xe1s populares en Pariso."),u.qZA(),u.TgZ(198,"p",42),u._uU(199,"$700"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(200,"section",56),u.TgZ(201,"div",57),u.TgZ(202,"div",58),u.TgZ(203,"div",59),u.TgZ(204,"div",60),u.TgZ(205,"div",61),u.TgZ(206,"div",11),u.TgZ(207,"div",62),u._UZ(208,"img",63),u.TgZ(209,"div",64),u.TgZ(210,"a",65),u._uU(211,"zoom"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(212,"div",66),u.TgZ(213,"div",11),u.TgZ(214,"div",62),u._UZ(215,"img",67),u.TgZ(216,"div",64),u.TgZ(217,"a",68),u._uU(218,"zoom"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(219,"div",69),u.TgZ(220,"div",11),u.TgZ(221,"div",62),u._UZ(222,"img",70),u.TgZ(223,"div",64),u.TgZ(224,"a",71),u._uU(225,"zoom"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(226,"div",72),u.TgZ(227,"div",15),u.TgZ(228,"div",62),u._UZ(229,"img",73),u.TgZ(230,"div",64),u.TgZ(231,"a",74),u._uU(232,"zoom"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(233,"div",75),u.TgZ(234,"div",15),u.TgZ(235,"div",62),u._UZ(236,"img",76),u.TgZ(237,"div",64),u.TgZ(238,"a",77),u._uU(239,"zoom"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},styles:[""]}),n})()},{path:"**",pathMatch:"full",redirectTo:"home"}];let dR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[rc.forRoot(cR,{useHash:!0})],rc]}),n})(),hR=(()=>{class n{constructor(t){this._servicio=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],decls:26,vars:0,consts:[[1,"header"],[1,"navbar","sticky-top","navbar-expand-lg","bg-dark"],[1,"rd-navbar-brand"],["routerLink","home"],["src","assets\\img\\oie_tXgODCMOi8Fe-removebg-preview.png","alt","","width","140","height","57","srcset","assets\\img\\oie_tXgODCMOi8Fe-removebg-preview.png",1,"brand-logo-light"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","navbar-toggler-right"],[1,"fa","fa-bars"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item","active"],["routerLink","home",1,"nav-link","text-uppercase","font-weight-bold"],[1,"sr-only"],[1,"nav-item"],["routerLink","item",1,"nav-link","text-uppercase","font-weight-bold"],["routerLink","about",1,"nav-link","text-uppercase","font-weight-bold"],["routerLink","booking",1,"nav-link","text-uppercase","font-weight-bold"],["routerLink","contact",1,"nav-link","text-uppercase","font-weight-bold"]],template:function(t,r){1&t&&(u.TgZ(0,"header",0),u.TgZ(1,"nav",1),u.TgZ(2,"div",2),u.TgZ(3,"a",3),u._UZ(4,"img",4),u.qZA(),u.qZA(),u.TgZ(5,"button",5),u._UZ(6,"i",6),u.qZA(),u.TgZ(7,"div",7),u.TgZ(8,"ul",8),u.TgZ(9,"li",9),u.TgZ(10,"a",10),u._uU(11,"Inicio "),u.TgZ(12,"span",11),u._uU(13,"(current)"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(14,"li",12),u.TgZ(15,"a",13),u._uU(16,"La carta"),u.qZA(),u.qZA(),u.TgZ(17,"li",12),u.TgZ(18,"a",14),u._uU(19,"Quienes Somos"),u.qZA(),u.qZA(),u.TgZ(20,"li",12),u.TgZ(21,"a",15),u._uU(22,"Reservas"),u.qZA(),u.qZA(),u.TgZ(23,"li",12),u.TgZ(24,"a",16),u._uU(25,"Contacto"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},directives:[h],styles:[".navbar[_ngcontent-%COMP%]{transition:all .4s;background-color:#cac58b}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#000;font-family:Cambria,Cochin,Georgia,Times,Times New Roman,serif}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{color:#af6767;text-decoration:none}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#000}.navbar.active[_ngcontent-%COMP%]{background:beige;box-shadow:1px 2px 10px #0000001a}.navbar.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#555}.navbar.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{color:#555;text-decoration:none}.navbar.active[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#555}@media (max-width: 991.98px){.navbar[_ngcontent-%COMP%]{background:rgb(211,194,171)}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#555}}.text-small[_ngcontent-%COMP%]{font-size:.9rem!important}"]}),n})(),fR=(()=>{class n{constructor(t){this._servicio=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:52,vars:7,consts:[[1,"section","footer-minimal","context-dark"],[1,"container","wow-outer"],[1,"wow","fadeIn"],[1,"row","row-60"],[1,"col-12"],["routerLink","home"],["src","assets/img/Pariso blanco.png","alt","","width","140","height","57","srcset","assets/img/Pariso blanco.png"],[1,"footer-minimal-nav"],["routerLink","item"],["routerLink","about"],["routerLink","contact"],["routerLink","booking"],[1,"social-list"],["target","_blank",1,"icon","icon-sm","icon-circle","icon-circle-md","icon-bg-white","fa-facebook",3,"href"],["target","_blank",1,"icon","icon-sm","icon-circle","icon-circle-md","icon-bg-white","fa-instagram",3,"href"],["target","_blank",1,"icon","icon-sm","icon-circle","icon-circle-md","icon-bg-white","fa-twitter",3,"href"],["target","_blank",1,"icon","icon-sm","icon-circle","icon-circle-md","icon-bg-white","fa-youtube-play",3,"href"],["target","_blank",1,"icon","icon-sm","icon-circle","icon-circle-md","icon-bg-white","fa-pinterest-p",3,"href"],[1,"rights"],[1,"copyright-year"],["align","center","target","_blank",3,"href"]],template:function(t,r){1&t&&(u.TgZ(0,"footer",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"a",5),u._UZ(6,"img",6),u.qZA(),u.qZA(),u.TgZ(7,"div",4),u.TgZ(8,"ul",7),u.TgZ(9,"li"),u.TgZ(10,"a",8),u._uU(11,"Menu"),u.qZA(),u.qZA(),u.TgZ(12,"li"),u.TgZ(13,"a",9),u._uU(14,"Nosotros"),u.qZA(),u.qZA(),u.TgZ(15,"li"),u.TgZ(16,"a",10),u._uU(17,"Contacto"),u.qZA(),u.qZA(),u.TgZ(18,"li"),u.TgZ(19,"a",11),u._uU(20,"Reservas"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(21,"div",4),u.TgZ(22,"ul",12),u.TgZ(23,"li"),u._UZ(24,"a",13),u.qZA(),u.TgZ(25,"li"),u._UZ(26,"a",14),u.qZA(),u.TgZ(27,"li"),u._UZ(28,"a",15),u.qZA(),u.TgZ(29,"li"),u._UZ(30,"a",16),u.qZA(),u.TgZ(31,"li"),u._UZ(32,"a",17),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(33,"p",18),u.TgZ(34,"span"),u._uU(35,"\xa9\xa0 "),u.qZA(),u._UZ(36,"span",19),u.TgZ(37,"span"),u._uU(38,"\xa0"),u.qZA(),u.TgZ(39,"span"),u._uU(40,"Pariso"),u.qZA(),u.TgZ(41,"span"),u._uU(42,".\xa0"),u.qZA(),u.TgZ(43,"span"),u._uU(44,"Todos los derechos reservados."),u.qZA(),u.TgZ(45,"span"),u._uU(46,"\xa0"),u.qZA(),u.TgZ(47,"a"),u._uU(48,"Politica de Privacidad"),u.qZA(),u._UZ(49,"br"),u.TgZ(50,"a",20),u._uU(51),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(24),u.Q6J("href",r._servicio.info.facebook,u.LSH),u.xp6(2),u.Q6J("href",r._servicio.info.instagram,u.LSH),u.xp6(2),u.Q6J("href",r._servicio.info.twitter,u.LSH),u.xp6(2),u.Q6J("href",r._servicio.info.youtube,u.LSH),u.xp6(2),u.Q6J("href",r._servicio.info.pinterest,u.LSH),u.xp6(18),u.MGl("href","MailTo:",r._servicio.info.email,"",u.LSH),u.xp6(1),u.hij(" ",r._servicio.info.email," "))},directives:[h],styles:[""]}),n})(),pR=(()=>{class n{constructor(t,r){this.infoPaginaService=t,this.menuService=r}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rI),u.Y36(Vx))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&(u._UZ(0,"app-header"),u._UZ(1,"router-outlet"),u._UZ(2,"app-footer"))},directives:[hR,zl,fR],styles:[""]}),n})();const Ux_firebaseConfig={apiKey:"AIzaSyBSVVMPQwJsqCgTTNe07HPMX3z2GImD9Y8",authDomain:"pariso-restaurante.firebaseapp.com",databaseURL:"https://pariso-restaurante-default-rtdb.firebaseio.com",projectId:"pariso-restaurante",storageBucket:"pariso-restaurante.appspot.com",messagingSenderId:"635187704519",appId:"1:635187704519:web:6ca36efb27c9f2a8fd84e2",measurementId:"G-QRKEDQSF2N"};let gR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[pR]}),n.\u0275inj=u.cJS({providers:[Cx,Tx],imports:[[Dl,dR,lR,fo.hO.initializeApp(Ux_firebaseConfig),GO,PI]]}),n})();(0,u.G48)(),ma().bootstrapModule(gR).catch(n=>console.error(n))},5867:(it,Te,P)=>{"use strict";P.d(Te,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=P(9681);(0,u.registerVersion)("firebase","9.6.7","app")},127:(it,Te,P)=>{"use strict";P.d(Te,{Z:()=>u.Z});var u=P(3942);u.Z.registerVersion("firebase","9.6.7","app-compat")},2438:(it,Te,P)=>{"use strict";P.r(Te);var u=P(5861),Y=P(3942),N=P(2090),se=P(9681);function oe(m,h){var p={};for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&h.indexOf(_)<0&&(p[_]=m[_]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var C=0;for(_=Object.getOwnPropertySymbols(m);C<_.length;C++)h.indexOf(_[C])<0&&Object.prototype.propertyIsEnumerable.call(m,_[C])&&(p[_[C]]=m[_[C]])}return p}var Ne=P(1877),le=P(4859);const vr=function yr(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},zt=function Kt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ui=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vn=new Ne.Yd("@firebase/auth");function Li(m,...h){vn.logLevel<=Ne.in.ERROR&&vn.error(`Auth (${se.SDK_VERSION}): ${m}`,...h)}function Pt(m,...h){throw ts(m,...h)}function un(m,...h){return ts(m,...h)}function Ks(m,h,p){const _=Object.assign(Object.assign({},zt()),{[h]:p});return new N.LL("auth","Firebase",_).create(h,{appName:m.name})}function Ur(m,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Pt(m,"argument-error"),Ks(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ts(m,...h){if("string"!=typeof m){const p=h[0],_=[...h.slice(1)];return _[0]&&(_[0].appName=m.name),m._errorFactory.create(p,..._)}return ui.create(m,...h)}function De(m,h,...p){if(!m)throw ts(h,...p)}function nr(m){const h="INTERNAL ASSERTION FAILED: "+m;throw Li(h),new Error(h)}function Xe(m,h){m||nr(h)}const ni=new Map;function Bt(m){Xe(m instanceof Function,"Expected a class definition");let h=ni.get(m);return h?(Xe(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,ni.set(m,h),h)}function ct(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function nt(){return"http:"===Ct()||"https:"===Ct()}function Ct(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Dt{constructor(h,p){this.shortDelay=h,this.longDelay=p,Xe(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function nn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function et(m,h){Xe(m.emulator,"Emulator should always be set here");const{url:p}=m.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class at{static initialize(h,p,_){this.fetchImpl=h,p&&(this.headersImpl=p),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Qs=new Dt(3e4,6e4);function dt(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function ln(m,h,p,_){return _r.apply(this,arguments)}function _r(){return(_r=(0,u.Z)(function*(m,h,p,_,C={}){return ns(m,C,(0,u.Z)(function*(){let S={},V={};_&&("GET"===h?V=_:S={body:JSON.stringify(_)});const ee=(0,N.xO)(Object.assign({key:m.config.apiKey},V)).slice(1),Re=yield m._getAdditionalHeaders();return Re["Content-Type"]="application/json",m.languageCode&&(Re["X-Firebase-Locale"]=m.languageCode),at.fetch()(ve(m,m.config.apiHost,p,ee),Object.assign({method:h,headers:Re,referrerPolicy:"no-referrer"},S))}))})).apply(this,arguments)}function ns(m,h,p){return L.apply(this,arguments)}function L(){return(L=(0,u.Z)(function*(m,h,p){m._canInitEmulator=!1;const _=Object.assign(Object.assign({},gl),h);try{const C=new X(m),S=yield Promise.race([p(),C.promise]);C.clearNetworkTimeout();const V=yield S.json();if("needConfirmation"in V)throw Ze(m,"account-exists-with-different-credential",V);if(S.ok&&!("errorMessage"in V))return V;{const ee=S.ok?V.errorMessage:V.error.message,[Re,xe]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw Ze(m,"credential-already-in-use",V);if("EMAIL_EXISTS"===Re)throw Ze(m,"email-already-in-use",V);const We=_[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(xe)throw Ks(m,We,xe);Pt(m,We)}}catch(C){if(C instanceof N.ZR)throw C;Pt(m,"network-request-failed")}})).apply(this,arguments)}function Z(m,h,p,_){return H.apply(this,arguments)}function H(){return(H=(0,u.Z)(function*(m,h,p,_,C={}){const S=yield ln(m,h,p,_,C);return"mfaPendingCredential"in S&&Pt(m,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}function ve(m,h,p,_){const C=`${h}${p}?${_}`;return m.config.emulator?et(m.config,C):`${m.config.apiScheme}://${C}`}class X{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,_)=>{this.timer=setTimeout(()=>_(un(this.auth,"network-request-failed")),Qs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ze(m,h,p){const _={appName:m.name};p.email&&(_.email=p.email),p.phoneNumber&&(_.phoneNumber=p.phoneNumber);const C=un(m,h,_);return C.customData._tokenResponse=p,C}function tn(){return(tn=(0,u.Z)(function*(m,h){return ln(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function kn(m,h){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(m,h){return ln(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function wr(m,h){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(m,h){return ln(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function rr(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function _o(){return(_o=(0,u.Z)(function*(m,h=!1){const p=(0,N.m9)(m),_=yield p.getIdToken(h),C=Js(_);De(C&&C.exp&&C.auth_time&&C.iat,p.auth,"internal-error");const S="object"==typeof C.firebase?C.firebase:void 0,V=null==S?void 0:S.sign_in_provider;return{claims:C,token:_,authTime:rr(lu(C.auth_time)),issuedAtTime:rr(lu(C.iat)),expirationTime:rr(lu(C.exp)),signInProvider:V||null,signInSecondFactor:(null==S?void 0:S.sign_in_second_factor)||null}})).apply(this,arguments)}function lu(m){return 1e3*Number(m)}function Js(m){const[h,p,_]=m.split(".");if(void 0===h||void 0===p||void 0===_)return Li("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,N.tV)(p);return C?JSON.parse(C):(Li("Failed to decode base64 JWT payload"),null)}catch(C){return Li("Caught error parsing JWT payload as JSON",C),null}}function Fn(m,h){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,u.Z)(function*(m,h,p=!1){if(p)return h;try{return yield h}catch(_){throw _ instanceof N.ZR&&Wn(_)&&m.auth.currentUser===m&&(yield m.auth.signOut()),_}})).apply(this,arguments)}function Wn({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class Is{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const C=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const _=this.getInterval(h);this.timerId=setTimeout((0,u.Z)(function*(){yield p.iteration()}),_)}iteration(){var h=this;return(0,u.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&h.schedule(!0))}h.schedule()})()}}class yl{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=rr(this.lastLoginAt),this.creationTime=rr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function li(m){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(m){var h;const p=m.auth,_=yield m.getIdToken(),C=yield Fn(m,wr(p,{idToken:_}));De(null==C?void 0:C.users.length,p,"internal-error");const S=C.users[0];m._notifyReloadListener(S);const V=(null===(h=S.providerUserInfo)||void 0===h?void 0:h.length)?jr(S.providerUserInfo):[],ee=ra(m.providerData,V),We=!!m.isAnonymous&&!(m.email&&S.passwordHash||(null==ee?void 0:ee.length)),Ge={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:ee,metadata:new yl(S.createdAt,S.lastLoginAt),isAnonymous:We};Object.assign(m,Ge)})).apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(m){const h=(0,N.m9)(m);yield li(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function ra(m,h){return[...m.filter(_=>!h.some(C=>C.providerId===_.providerId)),...h]}function jr(m){return m.map(h=>{var{providerId:p}=h,_=oe(h,["providerId"]);return{providerId:p,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function Tt(){return(Tt=(0,u.Z)(function*(m,h){const p=yield ns(m,{},(0,u.Z)(function*(){const _=(0,N.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:C,apiKey:S}=m.config,V=ve(m,C,"/v1/token",`key=${S}`),ee=yield m._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",at.fetch()(V,{method:"POST",headers:ee,body:_})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){De(h.idToken,"internal-error"),De(void 0!==h.idToken,"internal-error"),De(void 0!==h.refreshToken,"internal-error");const p="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function zn(m){const h=Js(m);return De(h,"internal-error"),De(void 0!==h.exp,"internal-error"),De(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var _=this;return(0,u.Z)(function*(){return De(!_.accessToken||_.refreshToken,h,"user-token-expired"),p||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(h,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var _=this;return(0,u.Z)(function*(){const{accessToken:C,refreshToken:S,expiresIn:V}=yield function qe(m,h){return Tt.apply(this,arguments)}(h,p);_.updateTokensAndExpiration(C,S,Number(V))})()}updateTokensAndExpiration(h,p,_){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(h,p){const{refreshToken:_,accessToken:C,expirationTime:S}=p,V=new jt;return _&&(De("string"==typeof _,"internal-error",{appName:h}),V.refreshToken=_),C&&(De("string"==typeof C,"internal-error",{appName:h}),V.accessToken=C),S&&(De("number"==typeof S,"internal-error",{appName:h}),V.expirationTime=S),V}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new jt,this.toJSON())}_performRefresh(){return nr("not implemented")}}function wn(m,h){De("string"==typeof m||void 0===m,"internal-error",{appName:h})}class cr{constructor(h){var{uid:p,auth:_,stsTokenManager:C}=h,S=oe(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Is(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=_,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.emailVerified=S.emailVerified||!1,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.tenantId=S.tenantId||null,this.providerData=S.providerData?[...S.providerData]:[],this.metadata=new yl(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,u.Z)(function*(){const _=yield Fn(p,p.stsTokenManager.getToken(p.auth,h));return De(_,p.auth,"internal-error"),p.accessToken!==_&&(p.accessToken=_,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),_})()}getIdTokenResult(h){return function ml(m){return _o.apply(this,arguments)}(this,h)}reload(){return function eo(m){return Ln.apply(this,arguments)}(this)}_assign(h){this!==h&&(De(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new cr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var _=this;return(0,u.Z)(function*(){let C=!1;h.idToken&&h.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(h),C=!0),p&&(yield li(_)),yield _.auth._persistUserIfCurrent(_),C&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var h=this;return(0,u.Z)(function*(){const p=yield h.getIdToken();return yield Fn(h,function mt(m,h){return tn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var _,C,S,V,ee,Re,xe,We;const Ge=null!==(_=p.displayName)&&void 0!==_?_:void 0,St=null!==(C=p.email)&&void 0!==C?C:void 0,or=null!==(S=p.phoneNumber)&&void 0!==S?S:void 0,hs=null!==(V=p.photoURL)&&void 0!==V?V:void 0,rc=null!==(ee=p.tenantId)&&void 0!==ee?ee:void 0,Pd=null!==(Re=p._redirectEventId)&&void 0!==Re?Re:void 0,Pf=null!==(xe=p.createdAt)&&void 0!==xe?xe:void 0,kf=null!==(We=p.lastLoginAt)&&void 0!==We?We:void 0,{uid:Bu,emailVerified:Ff,isAnonymous:ic,providerData:ju,stsTokenManager:sc}=p;De(Bu&&sc,h,"internal-error");const Lf=jt.fromJSON(this.name,sc);De("string"==typeof Bu,h,"internal-error"),wn(Ge,h.name),wn(St,h.name),De("boolean"==typeof Ff,h,"internal-error"),De("boolean"==typeof ic,h,"internal-error"),wn(or,h.name),wn(hs,h.name),wn(rc,h.name),wn(Pd,h.name),wn(Pf,h.name),wn(kf,h.name);const kd=new cr({uid:Bu,auth:h,email:St,emailVerified:Ff,displayName:Ge,isAnonymous:ic,photoURL:hs,phoneNumber:or,tenantId:rc,stsTokenManager:Lf,createdAt:Pf,lastLoginAt:kf});return ju&&Array.isArray(ju)&&(kd.providerData=ju.map(Fd=>Object.assign({},Fd))),Pd&&(kd._redirectEventId=Pd),kd}static _fromIdTokenResponse(h,p,_=!1){return(0,u.Z)(function*(){const C=new jt;C.updateFromServerResponse(p);const S=new cr({uid:p.localId,auth:h,stsTokenManager:C,isAnonymous:_});return yield li(S),S})()}}const Er=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(p,_){var C=this;return(0,u.Z)(function*(){C.storage[p]=_})()}_get(p){var _=this;return(0,u.Z)(function*(){const C=_.storage[p];return void 0===C?null:C})()}_remove(p){var _=this;return(0,u.Z)(function*(){delete _.storage[p]})()}_addListener(p,_){}_removeListener(p,_){}}return m.type="NONE",m})();function Lt(m,h,p){return`firebase:${m}:${h}:${p}`}class ci{constructor(h,p,_){this.persistence=h,this.auth=p,this.userKey=_;const{config:C,name:S}=this.auth;this.fullUserKey=Lt(this.userKey,C.apiKey,S),this.fullPersistenceKey=Lt("persistence",C.apiKey,S),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,u.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?cr._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,u.Z)(function*(){if(p.persistence===h)return;const _=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,_?p.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,_="authUser"){return(0,u.Z)(function*(){if(!p.length)return new ci(Bt(Er),h,_);const C=(yield Promise.all(p.map(function(){var xe=(0,u.Z)(function*(We){if(yield We._isAvailable())return We});return function(We){return xe.apply(this,arguments)}}()))).filter(xe=>xe);let S=C[0]||Bt(Er);const V=Lt(_,h.config.apiKey,h.name);let ee=null;for(const xe of p)try{const We=yield xe._get(V);if(We){const Ge=cr._fromJSON(h,We);xe!==S&&(ee=Ge),S=xe;break}}catch(We){}const Re=C.filter(xe=>xe._shouldAllowMigration);return S._shouldAllowMigration&&Re.length?(S=Re[0],ee&&(yield S._set(V,ee.toJSON())),yield Promise.all(p.map(function(){var xe=(0,u.Z)(function*(We){if(We!==S)try{yield We._remove(V)}catch(Ge){}});return function(We){return xe.apply(this,arguments)}}())),new ci(S,h,_)):new ci(S,h,_)})()}}function En(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(ia(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(wt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Kn(h))return"Blackberry";if(wo(h))return"Webos";if(to(h))return"Safari";if((h.includes("chrome/")||no(h))&&!h.includes("edge/"))return"Chrome";if(Ui(h))return"Android";{const _=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==_?void 0:_.length))return _[1]}return"Other"}function wt(m=(0,N.z$)()){return/firefox\//i.test(m)}function to(m=(0,N.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function no(m=(0,N.z$)()){return/crios\//i.test(m)}function ia(m=(0,N.z$)()){return/iemobile/i.test(m)}function Ui(m=(0,N.z$)()){return/android/i.test(m)}function Kn(m=(0,N.z$)()){return/blackberry/i.test(m)}function wo(m=(0,N.z$)()){return/webos/i.test(m)}function Bi(m=(0,N.z$)()){return/iphone|ipad|ipod/i.test(m)}function Eo(m=(0,N.z$)()){return Bi(m)||Ui(m)||wo(m)||Kn(m)||/windows phone/i.test(m)||ia(m)}function hi(m,h=[]){let p;switch(m){case"Browser":p=En((0,N.z$)());break;case"Worker":p=`${En((0,N.z$)())}-${m}`;break;default:p=m}const _=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${se.SDK_VERSION}/${_}`}class Hc{constructor(h,p){this.app=h,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rs(this),this.idTokenSubscription=new rs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ui,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(h,p){var _=this;return p&&(this._popupRedirectResolver=Bt(p)),this._initializationPromise=this.queue((0,u.Z)(function*(){var C,S;if(!_._deleted&&(_.persistenceManager=yield ci.create(_,h),!_._deleted)){if(null===(C=_._popupRedirectResolver)||void 0===C?void 0:C._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch(V){}yield _.initializeCurrentUser(p),_.lastNotifiedUid=(null===(S=_.currentUser)||void 0===S?void 0:S.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,u.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p)}})()}initializeCurrentUser(h){var p=this;return(0,u.Z)(function*(){var _;let C=yield p.assertedPersistence.getCurrentUser();if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const S=null===(_=p.redirectUser)||void 0===_?void 0:_._redirectEventId,V=null==C?void 0:C._redirectEventId,ee=yield p.tryRedirectSignIn(h);(!S||S===V)&&(null==ee?void 0:ee.user)&&(C=ee.user)}return C?C._redirectEventId?(De(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===C._redirectEventId?p.directlySetCurrentUser(C):p.reloadAndSetCurrentUserOrClear(C)):p.reloadAndSetCurrentUserOrClear(C):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var p=this;return(0,u.Z)(function*(){let _=null;try{_=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch(C){yield p._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,u.Z)(function*(){try{yield li(h)}catch(_){if("auth/network-request-failed"!==_.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Br(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,u.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,u.Z)(function*(){const _=h?(0,N.m9)(h):null;return _&&De(_.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(_&&_._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,u.Z)(function*(){if(!p._deleted)return h&&De(p.tenantId===h.tenantId,p,"tenant-id-mismatch"),p.queue((0,u.Z)(function*(){yield p.directlySetCurrentUser(h),p.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,u.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var p=this;return this.queue((0,u.Z)(function*(){yield p.assertedPersistence.setPersistence(Bt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new N.LL("auth","Firebase",h())}onAuthStateChanged(h,p,_){return this.registerStateListener(this.authStateSubscription,h,p,_)}onIdTokenChanged(h,p,_){return this.registerStateListener(this.idTokenSubscription,h,p,_)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var _=this;return(0,u.Z)(function*(){const C=yield _.getOrInitRedirectPersistenceManager(p);return null===h?C.removeCurrentUser():C.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,u.Z)(function*(){if(!p.redirectPersistenceManager){const _=h&&Bt(h)||p._popupRedirectResolver;De(_,p,"argument-error"),p.redirectPersistenceManager=yield ci.create(p,[Bt(_._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,u.Z)(function*(){var _,C;return p._isInitialized&&(yield p.queue((0,u.Z)(function*(){}))),(null===(_=p._currentUser)||void 0===_?void 0:_._redirectEventId)===h?p._currentUser:(null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,u.Z)(function*(){if(h===p.currentUser)return p.queue((0,u.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,_,C){if(this._deleted)return()=>{};const S="function"==typeof p?p:p.next.bind(p),V=this._isInitialized?Promise.resolve():this._initializationPromise;return De(V,this,"internal-error"),V.then(()=>S(this.currentUser)),"function"==typeof p?h.addObserver(p,_,C):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,u.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=hi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,u.Z)(function*(){const p={"X-Client-Version":h.clientVersion};return h.app.options.appId&&(p["X-Firebase-gmpid"]=h.app.options.appId),p})()}}function Dn(m){return(0,N.m9)(m)}class rs{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,N.ne)(p=>this.observer=p)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $c(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function jh(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class sa{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return nr("not implemented")}_getIdTokenResponse(h){return nr("not implemented")}_linkToIdToken(h,p){return nr("not implemented")}_getReauthenticationResolver(h){return nr("not implemented")}}function Zh(m,h){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,u.Z)(function*(m,h){return ln(m,"POST","/v1/accounts:resetPassword",dt(m,h))})).apply(this,arguments)}function qh(m,h){return zc.apply(this,arguments)}function zc(){return(zc=(0,u.Z)(function*(m,h){return ln(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function rg(m,h){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(m,h){return ln(m,"POST","/v1/accounts:update",dt(m,h))})).apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(m,h){return Z(m,"POST","/v1/accounts:signInWithPassword",dt(m,h))})).apply(this,arguments)}function vl(m,h){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,u.Z)(function*(m,h){return ln(m,"POST","/v1/accounts:sendOobCode",dt(m,h))})).apply(this,arguments)}function ig(m,h){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,u.Z)(function*(m,h){return vl(m,h)})).apply(this,arguments)}function sg(m,h){return _l.apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(m,h){return vl(m,h)})).apply(this,arguments)}function aa(m,h){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,u.Z)(function*(m,h){return vl(m,h)})).apply(this,arguments)}function wl(m,h){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,u.Z)(function*(m,h){return vl(m,h)})).apply(this,arguments)}function cu(){return(cu=(0,u.Z)(function*(m,h){return Z(m,"POST","/v1/accounts:signInWithEmailLink",dt(m,h))})).apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(m,h){return Z(m,"POST","/v1/accounts:signInWithEmailLink",dt(m,h))})).apply(this,arguments)}class la extends sa{constructor(h,p,_,C=null){super("password",_),this._email=h,this._password=p,this._tenantId=C}static _fromEmailAndPassword(h,p){return new la(h,p,"password")}static _fromEmailAndCode(h,p,_=null){return new la(h,p,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,u.Z)(function*(){switch(p.signInMethod){case"password":return function bo(m,h){return Wc.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function ro(m,h){return cu.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Pt(h,"internal-error")}})()}_linkToIdToken(h,p){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return qh(h,{idToken:p,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function ua(m,h){return io.apply(this,arguments)}(h,{idToken:p,email:_._email,oobCode:_._password});default:Pt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ts(m,h){return du.apply(this,arguments)}function du(){return(du=(0,u.Z)(function*(m,h){return Z(m,"POST","/v1/accounts:signInWithIdp",dt(m,h))})).apply(this,arguments)}class dr extends sa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new dr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Pt("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:C}=p,S=oe(p,["providerId","signInMethod"]);if(!_||!C)return null;const V=new dr(_,C);return V.idToken=S.idToken||void 0,V.accessToken=S.accessToken||void 0,V.secret=S.secret,V.nonce=S.nonce,V.pendingToken=S.pendingToken||null,V}_getIdTokenResponse(h){return Ts(h,this.buildRequest())}_linkToIdToken(h,p){const _=this.buildRequest();return _.idToken=p,Ts(h,_)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Ts(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,N.xO)(p)}return h}}function pi(m,h){return El.apply(this,arguments)}function El(){return(El=(0,u.Z)(function*(m,h){return ln(m,"POST","/v1/accounts:sendVerificationCode",dt(m,h))})).apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(m,h){return Z(m,"POST","/v1/accounts:signInWithPhoneNumber",dt(m,h))})).apply(this,arguments)}function hu(){return(hu=(0,u.Z)(function*(m,h){const p=yield Z(m,"POST","/v1/accounts:signInWithPhoneNumber",dt(m,h));if(p.temporaryProof)throw Ze(m,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const td={USER_NOT_FOUND:"user-not-found"};function nd(){return(nd=(0,u.Z)(function*(m,h){return Z(m,"POST","/v1/accounts:signInWithPhoneNumber",dt(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),td)})).apply(this,arguments)}class Ht extends sa{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Ht({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Ht({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function qr(m,h){return ca.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function ed(m,h){return hu.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function bl(m,h){return nd.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:_,verificationCode:C}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:_,code:C}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:_,phoneNumber:C,temporaryProof:S}=h;return _||p||C||S?new Ht({verificationId:p,verificationCode:_,phoneNumber:C,temporaryProof:S}):null}}class Wt{constructor(h){var p,_,C,S,V,ee;const Re=(0,N.zd)((0,N.pd)(h)),xe=null!==(p=Re.apiKey)&&void 0!==p?p:null,We=null!==(_=Re.oobCode)&&void 0!==_?_:null,Ge=function Cs(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=Re.mode)&&void 0!==C?C:null);De(xe&&We&&Ge,"argument-error"),this.apiKey=xe,this.operation=Ge,this.code=We,this.continueUrl=null!==(S=Re.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==(V=Re.languageCode)&&void 0!==V?V:null,this.tenantId=null!==(ee=Re.tenantId)&&void 0!==ee?ee:null}static parseLink(h){const p=function rd(m){const h=(0,N.zd)((0,N.pd)(m)).link,p=h?(0,N.zd)((0,N.pd)(h)).deep_link_id:null,_=(0,N.zd)((0,N.pd)(m)).deep_link_id;return(_?(0,N.zd)((0,N.pd)(_)).link:null)||_||p||h||m}(h);try{return new Wt(p)}catch(_){return null}}}let Io=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(p,_){return la._fromEmailAndPassword(p,_)}static credentialWithLink(p,_){const C=Wt.parseLink(_);return De(C,"argument-error"),la._fromEmailAndCode(p,C.code,C.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Un{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class An extends Un{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class is extends An{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return De("providerId"in p&&"signInMethod"in p,"argument-error"),dr._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return De(h.idToken||h.accessToken,"argument-error"),dr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return is.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return is.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:_,oauthTokenSecret:C,pendingToken:S,nonce:V,providerId:ee}=h;if(!_&&!C&&!p&&!S||!ee)return null;try{return new is(ee)._credential({idToken:p,accessToken:_,nonce:V,pendingToken:S})}catch(Re){return null}}}let To=(()=>{class m extends An{constructor(){super("facebook.com")}static credential(p){return dr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch(_){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Zi=(()=>{class m extends An{constructor(){super("google.com"),this.addScope("profile")}static credential(p,_){return dr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:_})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:C}=p;if(!_&&!C)return null;try{return m.credential(_,C)}catch(S){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),br=(()=>{class m extends An{constructor(){super("github.com")}static credential(p){return dr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch(_){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class qi extends sa{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Ts(h,this.buildRequest())}_linkToIdToken(h,p){const _=this.buildRequest();return _.idToken=p,Ts(h,_)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Ts(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:C,pendingToken:S}=p;return _&&C&&S&&_===C?new qi(_,S):null}static _create(h,p){return new qi(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ir extends Un{constructor(h){De(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Ir.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Ir.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=qi.fromJSON(h);return De(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:_}=h;if(!p||!_)return null;try{return qi._create(_,p)}catch(C){return null}}}let Ds=(()=>{class m extends An{constructor(){super("twitter.com")}static credential(p,_){return dr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:_})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:_,oauthTokenSecret:C}=p;if(!_||!C)return null;try{return m.credential(_,C)}catch(S){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Co(m,h){return ht.apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(m,h){return Z(m,"POST","/v1/accounts:signUp",dt(m,h))})).apply(this,arguments)}class Yn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,_,C=!1){return(0,u.Z)(function*(){const S=yield cr._fromIdTokenResponse(h,_,C),V=da(_);return new Yn({user:S,providerId:V,_tokenResponse:_,operationType:p})})()}static _forOperation(h,p,_){return(0,u.Z)(function*(){yield h._updateTokensIfNecessary(_,!0);const C=da(_);return new Yn({user:h,providerId:C,_tokenResponse:_,operationType:p})})()}}function da(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Do(){return(Do=(0,u.Z)(function*(m){var h;const p=Dn(m);if(yield p._initializationPromise,null===(h=p.currentUser)||void 0===h?void 0:h.isAnonymous)return new Yn({user:p.currentUser,providerId:null,operationType:"signIn"});const _=yield Co(p,{returnSecureToken:!0}),C=yield Yn._fromIdTokenResponse(p,"signIn",_,!0);return yield p._updateCurrentUser(C.user),C})).apply(this,arguments)}class Ao extends N.ZR{constructor(h,p,_,C){var S;super(p.code,p.message),this.operationType=_,this.user=C,Object.setPrototypeOf(this,Ao.prototype),this.customData={appName:h.name,tenantId:null!==(S=h.tenantId)&&void 0!==S?S:void 0,_serverResponse:p.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(h,p,_,C){return new Ao(h,p,_,C)}}function Tl(m,h,p,_){return("reauthenticate"===h?p._getReauthenticationResolver(m):p._getIdTokenResponse(m)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?Ao._fromErrorAndOperation(m,S,h,_):S})}function fu(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function At(){return(At=(0,u.Z)(function*(m,h){const p=(0,N.m9)(m);yield so(!0,p,h);const{providerUserInfo:_}=yield kn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),C=fu(_||[]);return p.providerData=p.providerData.filter(S=>C.has(S.providerId)),C.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Cl(m,h){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,u.Z)(function*(m,h,p=!1){const _=yield Fn(m,h._linkToIdToken(m.auth,yield m.getIdToken()),p);return Yn._forOperation(m,"link",_)})).apply(this,arguments)}function so(m,h,p){return As.apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(m,h,p){yield li(h);const C=!1===m?"provider-already-linked":"no-such-provider";De(fu(h.providerData).has(p)===m,h.auth,C)})).apply(this,arguments)}function Hr(m,h){return ss.apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(m,h,p=!1){const{auth:_}=m,C="reauthenticate";try{const S=yield Fn(m,Tl(_,C,h,m),p);De(S.idToken,_,"internal-error");const V=Js(S.idToken);De(V,_,"internal-error");const{sub:ee}=V;return De(m.uid===ee,_,"user-mismatch"),Yn._forOperation(m,C,S)}catch(S){throw"auth/user-not-found"===(null==S?void 0:S.code)&&Pt(_,"user-mismatch"),S}})).apply(this,arguments)}function pu(m,h){return gu.apply(this,arguments)}function gu(){return(gu=(0,u.Z)(function*(m,h,p=!1){const _="signIn",C=yield Tl(m,_,h),S=yield Yn._fromIdTokenResponse(m,_,C);return p||(yield m._updateCurrentUser(S.user)),S})).apply(this,arguments)}function mu(m,h){return So.apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(m,h){return pu(Dn(m),h)})).apply(this,arguments)}function fa(m,h){return jn.apply(this,arguments)}function jn(){return(jn=(0,u.Z)(function*(m,h){const p=(0,N.m9)(m);return yield so(!1,p,h.providerId),Cl(p,h)})).apply(this,arguments)}function gi(m,h){return yu.apply(this,arguments)}function yu(){return(yu=(0,u.Z)(function*(m,h){return Hr((0,N.m9)(m),h)})).apply(this,arguments)}function os(m,h){return mi.apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(m,h){return Z(m,"POST","/v1/accounts:signInWithCustomToken",dt(m,h))})).apply(this,arguments)}function xo(){return(xo=(0,u.Z)(function*(m,h){const p=Dn(m),_=yield os(p,{token:h,returnSecureToken:!0}),C=yield Yn._fromIdTokenResponse(p,"signIn",_);return yield p._updateCurrentUser(C.user),C})).apply(this,arguments)}class vu{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?pa._fromServerResponse(h,p):Pt(h,"internal-error")}}class pa extends vu{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new pa(p)}}function Mo(m,h,p){var _;De((null===(_=p.url)||void 0===_?void 0:_.length)>0,m,"invalid-continue-uri"),De(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(De(p.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(De(p.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function ma(){return(ma=(0,u.Z)(function*(m,h,p){const _=(0,N.m9)(m),C={requestType:"PASSWORD_RESET",email:h};p&&Mo(_,C,p),yield sg(_,C)})).apply(this,arguments)}function Dl(){return(Dl=(0,u.Z)(function*(m,h,p){yield Zh((0,N.m9)(m),{oobCode:h,newPassword:p})})).apply(this,arguments)}function Oo(){return(Oo=(0,u.Z)(function*(m,h){yield rg((0,N.m9)(m),{oobCode:h})})).apply(this,arguments)}function sd(m,h){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(m,h){const p=(0,N.m9)(m),_=yield Zh(p,{oobCode:h}),C=_.requestType;switch(De(C,p,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(_.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(_.mfaInfo,p,"internal-error");default:De(_.email,p,"internal-error")}let S=null;return _.mfaInfo&&(S=vu._fromServerResponse(Dn(p),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:S},operation:C}})).apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(m,h){const{data:p}=yield sd((0,N.m9)(m),h);return p.email})).apply(this,arguments)}function od(){return(od=(0,u.Z)(function*(m,h,p){const _=Dn(m),C=yield Co(_,{returnSecureToken:!0,email:h,password:p}),S=yield Yn._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(m,h,p){const _=(0,N.m9)(m),C={requestType:"EMAIL_SIGNIN",email:h};De(p.handleCodeInApp,_,"argument-error"),p&&Mo(_,C,p),yield aa(_,C)})).apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(m,h,p){const _=(0,N.m9)(m),C=Io.credentialWithLink(h,p||ct());return De(C._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),mu(_,C)})).apply(this,arguments)}function $h(m,h){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,u.Z)(function*(m,h){return ln(m,"POST","/v1/accounts:createAuthUri",dt(m,h))})).apply(this,arguments)}function zh(){return(zh=(0,u.Z)(function*(m,h){const _={identifier:h,continueUri:nt()?ct():"http://localhost"},{signinMethods:C}=yield $h((0,N.m9)(m),_);return C||[]})).apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(m,h){const p=(0,N.m9)(m),C={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&Mo(p.auth,C,h);const{email:S}=yield ig(p.auth,C);S!==m.email&&(yield m.reload())})).apply(this,arguments)}function Eu(){return(Eu=(0,u.Z)(function*(m,h,p){const _=(0,N.m9)(m),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};p&&Mo(_.auth,S,p);const{email:V}=yield wl(_.auth,S);V!==m.email&&(yield m.reload())})).apply(this,arguments)}function Wh(m,h){return ud.apply(this,arguments)}function ud(){return(ud=(0,u.Z)(function*(m,h){return ln(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(m,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const _=(0,N.m9)(m),S={idToken:yield _.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},V=yield Fn(_,Wh(_.auth,S));_.displayName=V.displayName||null,_.photoURL=V.photoUrl||null;const ee=_.providerData.find(({providerId:Re})=>"password"===Re);ee&&(ee.displayName=_.displayName,ee.photoURL=_.photoURL),yield _._updateTokensIfNecessary(V)})).apply(this,arguments)}function Ea(m,h,p){return bu.apply(this,arguments)}function bu(){return(bu=(0,u.Z)(function*(m,h,p){const{auth:_}=m,S={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(S.email=h),p&&(S.password=p);const V=yield Fn(m,qh(_,S));yield m._updateTokensIfNecessary(V,!0)})).apply(this,arguments)}class ba{constructor(h,p,_={}){this.isNewUser=h,this.providerId=p,this.profile=_}}class cd extends ba{constructor(h,p,_,C){super(h,p,_),this.username=C}}class ug extends ba{constructor(h,p){super(h,"facebook.com",p)}}class Ol extends cd{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class an extends ba{constructor(h,p){super(h,"google.com",p)}}class xs extends cd{constructor(h,p,_){super(h,"twitter.com",p,_)}}function Ye(m){const{user:h,_tokenResponse:p}=m;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function ld(m){var h,p;if(!m)return null;const{providerId:_}=m,C=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},S=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!_&&(null==m?void 0:m.idToken)){const V=null===(p=null===(h=Js(m.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(V)return new ba(S,"anonymous"!==V&&"custom"!==V?V:null)}if(!_)return null;switch(_){case"facebook.com":return new ug(S,C);case"github.com":return new Ol(S,C);case"google.com":return new an(S,C);case"twitter.com":return new xs(S,C,m.screenName||null);case"custom":case"anonymous":return new ba(S,null);default:return new ba(S,_,C)}}(p)}class Hi{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new Hi("enroll",h)}static _fromMfaPendingCredential(h){return new Hi("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,_;if(null==h?void 0:h.multiFactorSession){if(null===(p=h.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Hi._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(_=h.multiFactorSession)||void 0===_?void 0:_.idToken)return Hi._fromIdtoken(h.multiFactorSession.idToken)}return null}}class us{constructor(h,p,_){this.session=h,this.hints=p,this.signInResolver=_}static _fromError(h,p){const _=Dn(h),C=p.customData._serverResponse,S=(C.mfaInfo||[]).map(ee=>vu._fromServerResponse(_,ee));De(C.mfaPendingCredential,_,"internal-error");const V=Hi._fromMfaPendingCredential(C.mfaPendingCredential);return new us(V,S,function(){var ee=(0,u.Z)(function*(Re){const xe=yield Re._process(_,V);delete C.mfaInfo,delete C.mfaPendingCredential;const We=Object.assign(Object.assign({},C),{idToken:xe.idToken,refreshToken:xe.refreshToken});switch(p.operationType){case"signIn":const Ge=yield Yn._fromIdTokenResponse(_,p.operationType,We);return yield _._updateCurrentUser(Ge.user),Ge;case"reauthenticate":return De(p.user,_,"internal-error"),Yn._forOperation(p.user,p.operationType,We);default:Pt(_,"internal-error")}});return function(Re){return ee.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,u.Z)(function*(){return p.signInResolver(h)})()}}function Qh(m,h){return ln(m,"POST","/v2/accounts/mfaEnrollment:start",dt(m,h))}class Ro{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(_=>vu._fromServerResponse(h.auth,_)))})}static _fromUser(h){return new Ro(h)}getSession(){var h=this;return(0,u.Z)(function*(){return Hi._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var _=this;return(0,u.Z)(function*(){const C=h,S=yield _.getSession(),V=yield Fn(_.user,C._process(_.user.auth,S,p));return yield _.user._updateTokensIfNecessary(V),_.user.reload()})()}unenroll(h){var p=this;return(0,u.Z)(function*(){const _="string"==typeof h?h:h.uid,C=yield p.user.getIdToken(),S=yield Fn(p.user,function Iu(m,h){return ln(m,"POST","/v2/accounts/mfaEnrollment:withdraw",dt(m,h))}(p.user.auth,{idToken:C,mfaEnrollmentId:_}));p.enrolledFactors=p.enrolledFactors.filter(({uid:V})=>V!==_),yield p.user._updateTokensIfNecessary(S);try{yield p.user.reload()}catch(V){if("auth/user-token-expired"!==V.code)throw V}})()}}const pn=new WeakMap,No="__sak";class Nl{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(No,"1"),this.storage.removeItem(No),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Da=(()=>{class m extends Nl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,_)=>this.onStorageEvent(p,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vi(){const m=(0,N.z$)();return to(m)||Bi(m)}()&&function di(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=Eo(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const _ of Object.keys(this.listeners)){const C=this.storage.getItem(_),S=this.localCache[_];C!==S&&p(_,S,C)}}onStorageEvent(p,_=!1){if(!p.key)return void this.forAllChangedKeys((ee,Re,xe)=>{this.notifyListeners(ee,xe)});const C=p.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(C);if(p.newValue!==ee)null!==p.newValue?this.storage.setItem(C,p.newValue):this.storage.removeItem(C);else if(this.localCache[C]===p.newValue&&!_)return}const S=()=>{const ee=this.storage.getItem(C);!_&&this.localCache[C]===ee||this.notifyListeners(C,ee)},V=this.storage.getItem(C);!function qc(){return(0,N.w1)()&&10===document.documentMode}()||V===p.newValue||p.newValue===p.oldValue?S():setTimeout(S,10)}notifyListeners(p,_){this.localCache[p]=_;const C=this.listeners[p];if(C)for(const S of Array.from(C))S(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,_,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:_,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,_){var C=()=>super._set,S=this;return(0,u.Z)(function*(){yield C().call(S,p,_),S.localCache[p]=JSON.stringify(_)})()}_get(p){var _=()=>super._get,C=this;return(0,u.Z)(function*(){const S=yield _().call(C,p);return C.localCache[p]=JSON.stringify(S),S})()}_remove(p){var _=()=>super._remove,C=this;return(0,u.Z)(function*(){yield _().call(C,p),delete C.localCache[p]})()}}return m.type="LOCAL",m})(),xn=(()=>{class m extends Nl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,_){}_removeListener(p,_){}}return m.type="SESSION",m})();let Lo=(()=>{class m{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const _=this.receivers.find(S=>S.isListeningto(p));if(_)return _;const C=new m(p);return this.receivers.push(C),C}isListeningto(p){return this.eventTarget===p}handleEvent(p){var _=this;return(0,u.Z)(function*(){const C=p,{eventId:S,eventType:V,data:ee}=C.data,Re=_.handlersMap[V];if(!(null==Re?void 0:Re.size))return;C.ports[0].postMessage({status:"ack",eventId:S,eventType:V});const xe=Array.from(Re).map(function(){var Ge=(0,u.Z)(function*(St){return St(C.origin,ee)});return function(St){return Ge.apply(this,arguments)}}()),We=yield function Cu(m){return Promise.all(m.map(function(){var h=(0,u.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(_){return{fulfilled:!1,reason:_}}});return function(p){return h.apply(this,arguments)}}()))}(xe);C.ports[0].postMessage({status:"done",eventId:S,eventType:V,response:We})})()}_subscribe(p,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(_)}_unsubscribe(p,_){this.handlersMap[p]&&_&&this.handlersMap[p].delete(_),(!_||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function oo(m="",h=10){let p="";for(let _=0;_<h;_++)p+=Math.floor(10*Math.random());return m+p}class Zn{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,_=50){var C=this;return(0,u.Z)(function*(){const S="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let V,ee;return new Promise((Re,xe)=>{const We=oo("",20);S.port1.start();const Ge=setTimeout(()=>{xe(new Error("unsupported_event"))},_);ee={messageChannel:S,onMessage(St){const or=St;if(or.data.eventId===We)switch(or.data.status){case"ack":clearTimeout(Ge),V=setTimeout(()=>{xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(V),Re(or.data.response);break;default:clearTimeout(Ge),clearTimeout(V),xe(new Error("invalid_response"))}}},C.handlers.add(ee),S.port1.addEventListener("message",ee.onMessage),C.target.postMessage({eventType:h,eventId:We,data:p},[S.port2])}).finally(()=>{ee&&C.removeMessageHandler(ee)})})()}}function gn(){return window}function Mn(){return void 0!==gn().WorkerGlobalScope&&"function"==typeof gn().importScripts}function _i(){return(_i=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const hr="firebaseLocalStorageDb",bn="firebaseLocalStorage",hd="fbase_key";class Vt{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Uo(m,h){return m.transaction([bn],h?"readwrite":"readonly").objectStore(bn)}function Jh(){const m=indexedDB.open(hr,1);return new Promise((h,p)=>{m.addEventListener("error",()=>{p(m.error)}),m.addEventListener("upgradeneeded",()=>{const _=m.result;try{_.createObjectStore(bn,{keyPath:hd})}catch(C){p(C)}}),m.addEventListener("success",(0,u.Z)(function*(){const _=m.result;_.objectStoreNames.contains(bn)?h(_):(_.close(),yield function kl(){const m=indexedDB.deleteDatabase(hr);return new Vt(m).toPromise()}(),h(yield Jh()))}))})}function Xh(m,h,p){return ef.apply(this,arguments)}function ef(){return(ef=(0,u.Z)(function*(m,h,p){const _=Uo(m,!0).put({[hd]:h,value:p});return new Vt(_).toPromise()})).apply(this,arguments)}function Tr(){return(Tr=(0,u.Z)(function*(m,h){const p=Uo(m,!1).get(h),_=yield new Vt(p).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function ao(m,h){const p=Uo(m,!0).delete(h);return new Vt(p).toPromise()}const wi=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,u.Z)(function*(){return p.db||(p.db=yield Jh()),p.db})()}_withRetries(p){var _=this;return(0,u.Z)(function*(){let C=0;for(;;)try{const S=yield _._openDb();return yield p(S)}catch(S){if(C++>3)throw S;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,u.Z)(function*(){return Mn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,u.Z)(function*(){p.receiver=Lo._getInstance(function Vo(){return Mn()?self:null}()),p.receiver._subscribe("keyChanged",function(){var _=(0,u.Z)(function*(C,S){return{keyProcessed:(yield p._poll()).includes(S.key)}});return function(C,S){return _.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var _=(0,u.Z)(function*(C,S){return["keyChanged"]});return function(C,S){return _.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,u.Z)(function*(){var _,C;if(p.activeServiceWorker=yield function $i(){return _i.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Zn(p.activeServiceWorker);const S=yield p.sender._send("ping",{},800);!S||(null===(_=S[0])||void 0===_?void 0:_.fulfilled)&&(null===(C=S[0])||void 0===C?void 0:C.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var _=this;return(0,u.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Os(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:p},_.serviceWorkerReceiverAvailable?800:50)}catch(C){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Jh();return yield Xh(p,No,"1"),yield ao(p,No),!0}catch(p){}return!1})()}_withPendingWrite(p){var _=this;return(0,u.Z)(function*(){_.pendingWrites++;try{yield p()}finally{_.pendingWrites--}})()}_set(p,_){var C=this;return(0,u.Z)(function*(){return C._withPendingWrite((0,u.Z)(function*(){return yield C._withRetries(S=>Xh(S,p,_)),C.localCache[p]=_,C.notifyServiceWorker(p)}))})()}_get(p){var _=this;return(0,u.Z)(function*(){const C=yield _._withRetries(S=>function Sa(m,h){return Tr.apply(this,arguments)}(S,p));return _.localCache[p]=C,C})()}_remove(p){var _=this;return(0,u.Z)(function*(){return _._withPendingWrite((0,u.Z)(function*(){return yield _._withRetries(C=>ao(C,p)),delete _.localCache[p],_.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,u.Z)(function*(){const _=yield p._withRetries(V=>{const ee=Uo(V,!1).getAll();return new Vt(ee).toPromise()});if(!_)return[];if(0!==p.pendingWrites)return[];const C=[],S=new Set;for(const{fbase_key:V,value:ee}of _)S.add(V),JSON.stringify(p.localCache[V])!==JSON.stringify(ee)&&(p.notifyListeners(V,ee),C.push(V));for(const V of Object.keys(p.localCache))p.localCache[V]&&!S.has(V)&&(p.notifyListeners(V,null),C.push(V));return C})()}notifyListeners(p,_){this.localCache[p]=_;const C=this.listeners[p];if(C)for(const S of Array.from(C))S(_)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function lg(m,h){return ln(m,"POST","/v2/accounts/mfaSignIn:start",dt(m,h))}function Ei(){return(Ei=(0,u.Z)(function*(m){return(yield ln(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xa(m){return new Promise((h,p)=>{const _=document.createElement("script");_.setAttribute("src",m),_.onload=h,_.onerror=C=>{const S=un("internal-error");S.customData=C,p(S)},_.type="text/javascript",_.charset="UTF-8",function fd(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(_)})}function uo(m){return`__${m}${Math.floor(1e6*Math.random())}`}const jo=1e12;class pd{constructor(h){this.auth=h,this.counter=jo,this._widgets=new Map}render(h,p){const _=this.counter;return this._widgets.set(_,new gd(h,this.auth.name,p||{})),this.counter++,_}reset(h){var p;const _=h||jo;null===(p=this._widgets.get(_))||void 0===p||p.delete(),this._widgets.delete(_)}getResponse(h){var p;return(null===(p=this._widgets.get(h||jo))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,u.Z)(function*(){var _;return null===(_=p._widgets.get(h||jo))||void 0===_||_.execute(),""})()}}class gd{constructor(h,p,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof h?document.getElementById(h):h;De(C,"argument-error",{appName:p}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ma(m){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<m;_++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch(_){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(_){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ut=uo("rcb"),Oa=new Dt(3e4,6e4);class cg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!gn().grecaptcha}load(h,p=""){return De(function Ll(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(gn().grecaptcha):new Promise((_,C)=>{const S=gn().setTimeout(()=>{C(un(h,"network-request-failed"))},Oa.get());gn()[ut]=()=>{gn().clearTimeout(S),delete gn()[ut];const ee=gn().grecaptcha;if(!ee)return void C(un(h,"internal-error"));const Re=ee.render;ee.render=(xe,We)=>{const Ge=Re(xe,We);return this.counter++,Ge},this.hostLanguage=p,_(ee)},xa(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:ut,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(S),C(un(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!gn().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dg{load(h){return(0,u.Z)(function*(){return new pd(h)})()}clearedOneInstance(){}}const md="recaptcha",rf={theme:"light",type:"image"};class fr{constructor(h,p=Object.assign({},rf),_){this.parameters=p,this.type=md,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dn(_),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof h?document.getElementById(h):h;De(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dg:new cg,this.validateStartingState()}verify(){var h=this;return(0,u.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),_=h.getAssertedRecaptcha();return _.getResponse(p)||new Promise(S=>{const V=ee=>{!ee||(h.tokenChangeListeners.delete(V),S(ee))};h.tokenChangeListeners.add(V),h.isInvisible&&_.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(_=>_(p)),"function"==typeof h)h(p);else if("string"==typeof h){const _=gn()[h];"function"==typeof _&&_(p)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,u.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const _=document.createElement("div");p.appendChild(_),p=_}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,u.Z)(function*(){De(nt()&&!Mn(),h.auth,"internal-error"),yield function Vl(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function ri(m){return Ei.apply(this,arguments)}(h.auth);De(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ra{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Ht._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function bi(){return(bi=(0,u.Z)(function*(m,h,p){const _=Dn(m),C=yield Zo(_,h,(0,N.m9)(p));return new Ra(C,S=>mu(_,S))})).apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(m,h,p){const _=(0,N.m9)(m);yield so(!1,_,"phone");const C=yield Zo(_.auth,h,(0,N.m9)(p));return new Ra(C,S=>fa(_,S))})).apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(m,h,p){const _=(0,N.m9)(m),C=yield Zo(_.auth,h,(0,N.m9)(p));return new Ra(C,S=>gi(_,S))})).apply(this,arguments)}function Zo(m,h,p){return Au.apply(this,arguments)}function Au(){return(Au=(0,u.Z)(function*(m,h,p){var _;const C=yield p.verify();try{let S;if(De("string"==typeof C,m,"argument-error"),De(p.type===md,m,"argument-error"),S="string"==typeof h?{phoneNumber:h}:h,"session"in S){const V=S.session;if("phoneNumber"in S)return De("enroll"===V.type,m,"internal-error"),(yield Qh(m,{idToken:V.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{De("signin"===V.type,m,"internal-error");const ee=(null===(_=S.multiFactorHint)||void 0===_?void 0:_.uid)||S.multiFactorUid;return De(ee,m,"missing-multi-factor-info"),(yield lg(m,{mfaPendingCredential:V.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:V}=yield pi(m,{phoneNumber:S.phoneNumber,recaptchaToken:C});return V}}finally{p._reset()}})).apply(this,arguments)}function Su(){return(Su=(0,u.Z)(function*(m,h){yield Cl((0,N.m9)(m),h)})).apply(this,arguments)}let I=(()=>{class m{constructor(p){this.providerId=m.PROVIDER_ID,this.auth=Dn(p)}verifyPhoneNumber(p,_){return Zo(this.auth,p,(0,N.m9)(_))}static credential(p,_){return Ht._fromVerification(p,_)}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:_,temporaryProof:C}=p;return _&&C?Ht._fromTokenResponse(_,C):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function T(m,h){return h?Bt(h):(De(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class M extends sa{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ts(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Ts(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Ts(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function F(m){return pu(m.auth,new M(m),m.bypassAuthState)}function $(m){const{auth:h,user:p}=m;return De(p,h,"internal-error"),Hr(p,new M(m),m.bypassAuthState)}function W(m){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,u.Z)(function*(m){const{auth:h,user:p}=m;return De(p,h,"internal-error"),Cl(p,new M(m),m.bypassAuthState)})).apply(this,arguments)}class He{constructor(h,p,_,C,S=!1){this.auth=h,this.resolver=_,this.user=C,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,u.Z)(function*(_,C){h.pendingPromise={resolve:_,reject:C};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(S){h.reject(S)}});return function(_,C){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,u.Z)(function*(){const{urlResponse:_,sessionId:C,postBody:S,tenantId:V,error:ee,type:Re}=h;if(ee)return void p.reject(ee);const xe={auth:p.auth,requestUri:_,sessionId:C,tenantId:V||void 0,postBody:S||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Re)(xe))}catch(We){p.reject(We)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return F;case"linkViaPopup":case"linkViaRedirect":return W;case"reauthViaPopup":case"reauthViaRedirect":return $;default:Pt(this.auth,"internal-error")}}resolve(h){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Be=new Dt(2e3,1e4);function $t(){return($t=(0,u.Z)(function*(m,h,p){const _=Dn(m);Ur(m,h,Un);const C=T(_,p);return new Ti(_,"signInViaPopup",h,C).executeNotNull()})).apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(m,h,p){const _=(0,N.m9)(m);Ur(_.auth,h,Un);const C=T(_.auth,p);return new Ti(_.auth,"reauthViaPopup",h,C,_).executeNotNull()})).apply(this,arguments)}function Ii(){return(Ii=(0,u.Z)(function*(m,h,p){const _=(0,N.m9)(m);Ur(_.auth,h,Un);const C=T(_.auth,p);return new Ti(_.auth,"linkViaPopup",h,C,_).executeNotNull()})).apply(this,arguments)}let Ti=(()=>{class m extends He{constructor(p,_,C,S,V){super(p,_,S,V),this.provider=C,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var p=this;return(0,u.Z)(function*(){const _=yield p.execute();return De(_,p.auth,"internal-error"),_})()}onExecution(){var p=this;return(0,u.Z)(function*(){Xe(1===p.filter.length,"Popup operations only handle one event");const _=oo();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],_),p.authWindow.associatedEvent=_,p.resolver._originValidation(p.auth).catch(C=>{p.reject(C)}),p.resolver._isIframeWebStorageSupported(p.auth,C=>{C||p.reject(un(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const p=()=>{var _,C;this.pollId=(null===(C=null===(_=this.authWindow)||void 0===_?void 0:_.window)||void 0===C?void 0:C.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(un(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Be.get())};p()}}return m.currentPopupAction=null,m})();const Ci=new Map;class Gi extends He{constructor(h,p,_=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,_),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,u.Z)(function*(){let _=Ci.get(p.auth._key());if(!_){try{const S=(yield function Ns(m,h){return Ul.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;_=()=>Promise.resolve(S)}catch(C){_=()=>Promise.reject(C)}Ci.set(p.auth._key(),_)}return p.bypassAuthState||Ci.set(p.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,_=this;return(0,u.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(_,h);if("unknown"!==h.type){if(h.eventId){const C=yield _.auth._redirectUserForId(h.eventId);if(C)return _.user=C,p().call(_,h);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Ul(){return(Ul=(0,u.Z)(function*(m,h){const p=Bl(h),_=Mu(m);if(!(yield _._isAvailable()))return!1;const C="true"===(yield _._get(p));return yield _._remove(p),C})).apply(this,arguments)}function vd(m,h){return of.apply(this,arguments)}function of(){return(of=(0,u.Z)(function*(m,h){return Mu(m)._set(Bl(h),"true")})).apply(this,arguments)}function Mu(m){return Bt(m._redirectPersistence)}function Bl(m){return Lt("pendingRedirect",m.config.apiKey,m.name)}function af(){return(af=(0,u.Z)(function*(m,h,p){const _=Dn(m);Ur(m,h,Un);const C=T(_,p);return yield vd(C,_),C._openRedirect(_,h,"signInViaRedirect")})).apply(this,arguments)}function _d(){return(_d=(0,u.Z)(function*(m,h,p){const _=(0,N.m9)(m);Ur(_.auth,h,Un);const C=T(_.auth,p);yield vd(C,_.auth);const S=yield Ps(_);return C._openRedirect(_.auth,h,"reauthViaRedirect",S)})).apply(this,arguments)}function Di(){return(Di=(0,u.Z)(function*(m,h,p){const _=(0,N.m9)(m);Ur(_.auth,h,Un);const C=T(_.auth,p);yield so(!1,_,h.providerId),yield vd(C,_.auth);const S=yield Ps(_);return C._openRedirect(_.auth,h,"linkViaRedirect",S)})).apply(this,arguments)}function wd(){return(wd=(0,u.Z)(function*(m,h){return yield Dn(m)._initializationPromise,jl(m,h,!1)})).apply(this,arguments)}function jl(m,h){return fg.apply(this,arguments)}function fg(){return(fg=(0,u.Z)(function*(m,h,p=!1){const _=Dn(m),C=T(_,h),V=yield new Gi(_,C,p).execute();return V&&!p&&(delete V.user._redirectEventId,yield _._persistUserIfCurrent(V.user),yield _._setRedirectUser(null,h)),V})).apply(this,arguments)}function Ps(m){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,u.Z)(function*(m){const h=oo(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class Nu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(h,_)&&(p=!0,this.sendToConsumer(h,_),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function gg(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zl(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var _;if(h.error&&!Zl(h)){const C=(null===(_=h.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";p.onError(un(this.auth,C))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const _=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&_}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ed(h))}saveEventToCache(h){this.cachedEventUids.add(Ed(h)),this.lastProcessedEventTime=Date.now()}}function Ed(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function Zl({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===(null==h?void 0:h.code)}function bd(m){return ql.apply(this,arguments)}function ql(){return(ql=(0,u.Z)(function*(m,h={}){return ln(m,"GET","/v1/projects",h)})).apply(this,arguments)}const Ry=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hl=/^https?/;function Pa(){return(Pa=(0,u.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield bd(m);for(const p of h)try{if(Ny(p))return}catch(_){}Pt(m,"unauthorized-domain")})).apply(this,arguments)}function Ny(m){const h=ct(),{protocol:p,hostname:_}=new URL(h);if(m.startsWith("chrome-extension://")){const V=new URL(m);return""===V.hostname&&""===_?"chrome-extension:"===p&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&V.hostname===_}if(!Hl.test(p))return!1;if(Ry.test(m))return _===m;const C=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(_)}const lf=new Dt(3e4,6e4);function $l(){const m=gn().___jsl;if(null==m?void 0:m.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let p=0;p<m.CP.length;p++)m.CP[p]=null}let Id=null;function Py(m){return Id=Id||function mg(m){return new Promise((h,p)=>{var _,C,S;function V(){$l(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{$l(),p(un(m,"network-request-failed"))},timeout:lf.get()})}if(null===(C=null===(_=gn().gapi)||void 0===_?void 0:_.iframes)||void 0===C?void 0:C.Iframe)h(gapi.iframes.getContext());else{if(!(null===(S=gn().gapi)||void 0===S?void 0:S.load)){const ee=uo("iframefcb");return gn()[ee]=()=>{gapi.load?V():p(un(m,"network-request-failed"))},xa(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Re=>p(Re))}V()}}).catch(h=>{throw Id=null,h})}(m),Id}const yg=new Dt(5e3,15e3),Fy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ly=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vy(m){const h=m.config;De(h.authDomain,m,"auth-domain-config-required");const p=h.emulator?et(h,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,_={apiKey:h.apiKey,appName:m.name,v:se.SDK_VERSION},C=Ly.get(m.config.apiHost);C&&(_.eid=C);const S=m._getFrameworks();return S.length&&(_.fw=S.join(",")),`${p}?${(0,N.xO)(_).slice(1)}`}function Pu(){return Pu=(0,u.Z)(function*(m){const h=yield Py(m),p=gn().gapi;return De(p,m,"internal-error"),h.open({where:document.body,url:Vy(m),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fy,dontclear:!0},_=>new Promise(function(){var C=(0,u.Z)(function*(S,V){yield _.restyle({setHideOnLeave:!1});const ee=un(m,"network-request-failed"),Re=gn().setTimeout(()=>{V(ee)},yg.get());function xe(){gn().clearTimeout(Re),S(_)}_.ping(xe).then(xe,()=>{V(ee)})});return function(S,V){return C.apply(this,arguments)}}()))}),Pu.apply(this,arguments)}const Cd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hf{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function ds(m,h,p,_,C,S){De(m.config.authDomain,m,"auth-domain-config-required"),De(m.config.apiKey,m,"invalid-api-key");const V={apiKey:m.config.apiKey,appName:m.name,authType:p,redirectUrl:_,v:se.SDK_VERSION,eventId:C};if(h instanceof Un){h.setDefaultLanguage(m.languageCode),V.providerId=h.providerId||"",(0,N.xb)(h.getCustomParameters())||(V.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Re,xe]of Object.entries(S||{}))V[Re]=xe}if(h instanceof An){const Re=h.getScopes().filter(xe=>""!==xe);Re.length>0&&(V.scopes=Re.join(","))}m.tenantId&&(V.tid=m.tenantId);const ee=V;for(const Re of Object.keys(ee))void 0===ee[Re]&&delete ee[Re];return`${function pf({config:m}){return m.emulator?et(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,N.xO)(ee).slice(1)}`}const wg="webStorageSupport";class Fa extends class Gl{constructor(h){this.factorId=h}_process(h,p,_){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,_);case"signin":return this._finalizeSignIn(h,p.credential);default:return nr("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Fa(h)}_finalizeEnroll(h,p,_){return function Ca(m,h){return ln(m,"POST","/v2/accounts/mfaEnrollment:finalize",dt(m,h))}(h,{idToken:p,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function tf(m,h){return ln(m,"POST","/v2/accounts/mfaSignIn:finalize",dt(m,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Uy=(()=>{class m{constructor(){}static assertion(p){return Fa._fromCredential(p)}}return m.FACTOR_ID="phone",m})();var Fu="@firebase/auth";class Dd{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,u.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(_=>{var C;h((null===(C=_)||void 0===C?void 0:C.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rn(){return window}function Lu(){return(Lu=(0,u.Z)(function*(m,h,p){var _;const{BuildInfo:C}=rn();Xe(h.sessionId,"AuthEvent did not contain a session ID");const S=yield z0(h.sessionId),V={};return Bi()?V.ibi=C.packageName:Ui()?V.apn=C.packageName:Pt(m,"operation-not-supported-in-this-environment"),C.displayName&&(V.appDisplayName=C.displayName),V.sessionId=S,ds(m,p,h.type,void 0,null!==(_=h.eventId)&&void 0!==_?_:void 0,V)})).apply(this,arguments)}function Vu(){return(Vu=(0,u.Z)(function*(m){const{BuildInfo:h}=rn(),p={};Bi()?p.iosBundleId=h.packageName:Ui()?p.androidPackageName=h.packageName:Pt(m,"operation-not-supported-in-this-environment"),yield bd(m,p)})).apply(this,arguments)}function vf(){return(vf=(0,u.Z)(function*(m,h,p){const{cordova:_}=rn();let C=()=>{};try{yield new Promise((S,V)=>{let ee=null;function Re(){var Ge;S();const St=null===(Ge=_.plugins.browsertab)||void 0===Ge?void 0:Ge.close;"function"==typeof St&&St(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function xe(){ee||(ee=window.setTimeout(()=>{V(un(m,"redirect-cancelled-by-user"))},2e3))}function We(){"visible"===(null==document?void 0:document.visibilityState)&&xe()}h.addPassiveListener(Re),document.addEventListener("resume",xe,!1),Ui()&&document.addEventListener("visibilitychange",We,!1),C=()=>{h.removePassiveListener(Re),document.removeEventListener("resume",xe,!1),document.removeEventListener("visibilitychange",We,!1),ee&&window.clearTimeout(ee)}})}finally{C()}})).apply(this,arguments)}function z0(m){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,u.Z)(function*(m){const h=Uu(m),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Uu(m){if(Xe(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const h=new ArrayBuffer(m.length),p=new Uint8Array(h);for(let _=0;_<m.length;_++)p[_]=m.charCodeAt(_);return p}!function Ad(m){(0,se._registerComponent)(new le.wA("auth",(h,{options:p})=>{const _=h.getProvider("app").getImmediate(),{apiKey:C,authDomain:S}=_.options;return(V=>{De(C&&!C.includes(":"),"invalid-api-key",{appName:V.name}),De(!(null==S?void 0:S.includes(":")),"argument-error",{appName:V.name});const ee={apiKey:C,authDomain:S,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hi(m)},Re=new Hc(V,ee);return function Ys(m,h){const p=(null==h?void 0:h.persistence)||[],_=(Array.isArray(p)?p:[p]).map(Bt);(null==h?void 0:h.errorMap)&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(_,null==h?void 0:h.popupRedirectResolver)}(Re,p),Re})(_)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,_)=>{h.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new le.wA("auth-internal",h=>{const p=Dn(h.getProvider("auth").getImmediate());return new Dd(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Fu,"0.19.9",function Eg(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,se.registerVersion)(Fu,"0.19.9","esm2017")}("Browser");class La extends Nu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,u.Z)(function*(){yield h.initPromise})()}}function sr(m){return Va.apply(this,arguments)}function Va(){return(Va=(0,u.Z)(function*(m){const h=yield Ef()._get(xd(m));return h&&(yield Ef()._remove(xd(m))),h})).apply(this,arguments)}function Zy(){const m=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const _=Math.floor(Math.random()*h.length);m.push(h.charAt(_))}return m.join("")}function Ef(){return Bt(Da)}function xd(m){return Lt("authEvent",m.config.apiKey,m.name)}function Yl(m){if(!(null==m?void 0:m.includes("?")))return{};const[h,...p]=m.split("?");return(0,N.zd)(p.join("?"))}function Ua(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:un("no-auth-event")}}function Ho(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function Ig(m=(0,N.z$)()){return!("file:"!==Ho()&&"ionic:"!==Ho()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tf(){try{const m=self.localStorage,h=oo();if(m)return m.setItem(h,"1"),m.removeItem(h),!function Yy(m=(0,N.z$)()){return function Wy(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ky(m=(0,N.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,N.hl)()}catch(m){return Cf()&&(0,N.hl)()}return!1}function Cf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Df(){return(function Xl(){return"http:"===Ho()||"https:"===Ho()}()||(0,N.ru)()||Ig())&&!function zy(){return(0,N.b$)()||(0,N.UG)()}()&&Tf()&&!Cf()}function Af(){return Ig()&&"undefined"!=typeof document}function Md(){return(Md=(0,u.Z)(function*(){return!!Af()&&new Promise(m=>{const h=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),m(!0)})})})).apply(this,arguments)}const Ai={LOCAL:"local",NONE:"none",SESSION:"session"},ec=De,$o="persistence";function Sf(m){return xf.apply(this,arguments)}function xf(){return(xf=(0,u.Z)(function*(m){yield m._initializationPromise;const h=Tg(),p=Lt($o,m.config.apiKey,m.name);h&&h.setItem(p,m._getPersistence())})).apply(this,arguments)}function Tg(){var m;try{return(null===(m=function Jy(){return"undefined"!=typeof window?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch(h){return null}}const Fs=De;class Ls{constructor(){this.browserResolver=Bt(class $0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xn,this._completeRedirectFn=jl}_openPopup(h,p,_,C){var S=this;return(0,u.Z)(function*(){var V;Xe(null===(V=S.eventManagers[h._key()])||void 0===V?void 0:V.manager,"_initialize() not called before _openPopup()");const ee=ds(h,p,_,ct(),C);return function H0(m,h,p,_=500,C=600){const S=Math.max((window.screen.availHeight-C)/2,0).toString(),V=Math.max((window.screen.availWidth-_)/2,0).toString();let ee="";const Re=Object.assign(Object.assign({},Cd),{width:_.toString(),height:C.toString(),top:S,left:V}),xe=(0,N.z$)().toLowerCase();p&&(ee=no(xe)?"_blank":p),wt(xe)&&(h=h||"http://localhost",Re.scrollbars="yes");const We=Object.entries(Re).reduce((St,[or,hs])=>`${St}${or}=${hs},`,"");if(function Yt(m=(0,N.z$)()){var h;return Bi(m)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(xe)&&"_self"!==ee)return function _g(m,h){const p=document.createElement("a");p.href=m,p.target=h;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(_)}(h||"",ee),new hf(null);const Ge=window.open(h||"",ee,We);De(Ge,m,"popup-blocked");try{Ge.focus()}catch(St){}return new hf(Ge)}(h,ee,oo())})()}_openRedirect(h,p,_,C){var S=this;return(0,u.Z)(function*(){return yield S._originValidation(h),function Aa(m){gn().location.href=m}(ds(h,p,_,ct(),C)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:C,promise:S}=this.eventManagers[p];return C?Promise.resolve(C):(Xe(S,"If manager is not set, promise should be"),S)}const _=this.initAndGetManager(h);return this.eventManagers[p]={promise:_},_.catch(()=>{delete this.eventManagers[p]}),_}initAndGetManager(h){var p=this;return(0,u.Z)(function*(){const _=yield function Td(m){return Pu.apply(this,arguments)}(h),C=new Nu(h);return _.register("authEvent",S=>(De(null==S?void 0:S.authEvent,h,"invalid-auth-event"),{status:C.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:C},p.iframes[h._key()]=_,C})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(wg,{type:wg},C=>{var S;const V=null===(S=null==C?void 0:C[0])||void 0===S?void 0:S[wg];void 0!==V&&p(!!V),Pt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function qo(m){return Pa.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Eo()||to()||Bi()}}),this.cordovaResolver=Bt(class qy{constructor(){this._redirectPersistence=xn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=jl}_initialize(h){var p=this;return(0,u.Z)(function*(){const _=h._key();let C=p.eventManagers.get(_);return C||(C=new La(h),p.eventManagers.set(_,C),p.attachCallbackListeners(h,C)),C})()}_openPopup(h){Pt(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,_,C){var S=this;return(0,u.Z)(function*(){!function jy(m){var h,p,_,C,S,V,ee,Re,xe,We;const Ge=rn();De("function"==typeof(null===(h=null==Ge?void 0:Ge.universalLinks)||void 0===h?void 0:h.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(p=null==Ge?void 0:Ge.BuildInfo)||void 0===p?void 0:p.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(S=null===(C=null===(_=null==Ge?void 0:Ge.cordova)||void 0===_?void 0:_.plugins)||void 0===C?void 0:C.browsertab)||void 0===S?void 0:S.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Re=null===(ee=null===(V=null==Ge?void 0:Ge.cordova)||void 0===V?void 0:V.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===Re?void 0:Re.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(We=null===(xe=null==Ge?void 0:Ge.cordova)||void 0===xe?void 0:xe.InAppBrowser)||void 0===We?void 0:We.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const V=yield S._initialize(h);yield V.initialized(),V.resetRedirect(),function xu(){Ci.clear()}(),yield S._originValidation(h);const ee=function _f(m,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:Zy(),postBody:null,tenantId:m.tenantId,error:un(m,"no-auth-event")}}(h,_,C);yield function Kl(m,h){return Ef()._set(xd(m),h)}(h,ee);const Re=yield function zi(m,h,p){return Lu.apply(this,arguments)}(h,ee,p),xe=yield function Sd(m){const{cordova:h}=rn();return new Promise(p=>{h.plugins.browsertab.isAvailable(_=>{let C=null;_?h.plugins.browsertab.openUrl(m):C=h.InAppBrowser.open(m,function Zr(m=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),p(C)})})}(Re);return function By(m,h,p){return vf.apply(this,arguments)}(h,V,xe)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function yf(m){return Vu.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:_,handleOpenURL:C,BuildInfo:S}=rn(),V=setTimeout((0,u.Z)(function*(){yield sr(h),p.onEvent(Ua())}),500),ee=function(){var We=(0,u.Z)(function*(Ge){clearTimeout(V);const St=yield sr(h);let or=null;St&&(null==Ge?void 0:Ge.url)&&(or=function wf(m,h){var p,_;const C=function bg(m){const h=Yl(m),p=h.link?decodeURIComponent(h.link):void 0,_=Yl(p).link,C=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Yl(C).link||C||_||p||m}(h);if(C.includes("/__/auth/callback")){const S=Yl(C),V=S.firebaseError?function bf(m){try{return JSON.parse(m)}catch(h){return null}}(decodeURIComponent(S.firebaseError)):null,ee=null===(_=null===(p=null==V?void 0:V.code)||void 0===p?void 0:p.split("auth/"))||void 0===_?void 0:_[1],Re=ee?un(ee):null;return Re?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:C,postBody:null}}return null}(St,Ge.url)),p.onEvent(or||Ua())});return function(St){return We.apply(this,arguments)}}();void 0!==_&&"function"==typeof _.subscribe&&_.subscribe(null,ee);const Re=C,xe=`${S.packageName.toLowerCase()}://`;rn().handleOpenURL=function(){var We=(0,u.Z)(function*(Ge){if(Ge.toLowerCase().startsWith(xe)&&ee({url:Ge}),"function"==typeof Re)try{Re(Ge)}catch(St){console.error(St)}});return function(Ge){return We.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=xn,this._completeRedirectFn=jl}_initialize(h){var p=this;return(0,u.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,_,C){var S=this;return(0,u.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(h,p,_,C)})()}_openRedirect(h,p,_,C){var S=this;return(0,u.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(h,p,_,C)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Af()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fs(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,u.Z)(function*(){if(h.underlyingResolver)return;const p=yield function Qy(){return Md.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function Od(m){return m.unwrap()}function Cg(m){return Of(m)}function Of(m){const{_tokenResponse:h}=m instanceof N.ZR?m.customData:m;if(!h)return null;if(!(m instanceof N.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return I.credentialFromResult(m);const p=h.providerId;if(!p||"password"===p)return null;let _;switch(p){case"google.com":_=Zi;break;case"facebook.com":_=To;break;case"github.com":_=br;break;case"twitter.com":_=Ds;break;default:const{oauthIdToken:C,oauthAccessToken:S,oauthTokenSecret:V,pendingToken:ee,nonce:Re}=h;return S||V||C||ee?ee?p.startsWith("saml.")?qi._create(p,ee):dr._fromParams({providerId:p,signInMethod:p,pendingToken:ee,idToken:C,accessToken:S}):new is(p).credential({idToken:C,accessToken:S,rawNonce:Re}):null}return m instanceof N.ZR?_.credentialFromError(m):_.credentialFromResult(m)}function zr(m,h){return h.catch(p=>{throw p instanceof N.ZR&&function Ba(m,h){var p;const _=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new Rf(m,function vt(m,h){var p;const _=(0,N.m9)(m),C=h;return De(h.customData.operationType,_,"argument-error"),De(null===(p=C.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,_,"argument-error"),us._fromError(_,C)}(m,h));else if(_){const C=Of(h),S=h;C&&(S.credential=C,S.tenantId=_.tenantId||void 0,S.email=_.email||void 0,S.phoneNumber=_.phoneNumber||void 0)}}(m,p),p}).then(p=>{const C=p.user;return{operationType:p.operationType,credential:Cg(p),additionalUserInfo:Ye(p),user:Go.getOrCreate(C)}})}function tc(m,h){return ja.apply(this,arguments)}function ja(){return(ja=(0,u.Z)(function*(m,h){const p=yield h;return{verificationId:p.verificationId,confirm:_=>zr(m,p.confirm(_))}})).apply(this,arguments)}class Rf{constructor(h,p){this.resolver=p,this.auth=function Xy(m){return m.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return zr(Od(this.auth),this.resolver.resolveSignIn(h))}}class Go{constructor(h){this._delegate=h,this.multiFactor=function Tu(m){const h=(0,N.m9)(m);return pn.has(h)||pn.set(h,Ro._fromUser(h)),pn.get(h)}(h)}static getOrCreate(h){return Go.USER_MAP.has(h)||Go.USER_MAP.set(h,new Go(h)),Go.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,u.Z)(function*(){return zr(p.auth,fa(p._delegate,h))})()}linkWithPhoneNumber(h,p){var _=this;return(0,u.Z)(function*(){return tc(_.auth,function ir(m,h,p){return hn.apply(this,arguments)}(_._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,u.Z)(function*(){return zr(p.auth,function Jt(m,h,p){return Ii.apply(this,arguments)}(p._delegate,h,Ls))})()}linkWithRedirect(h){var p=this;return(0,u.Z)(function*(){return yield Sf(Dn(p.auth)),function uf(m,h,p){return function Ou(m,h,p){return Di.apply(this,arguments)}(m,h,p)}(p._delegate,h,Ls)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,u.Z)(function*(){return zr(p.auth,gi(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return tc(this.auth,function yd(m,h,p){return Na.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return zr(this.auth,function Cr(m,h,p){return qn.apply(this,arguments)}(this._delegate,h,Ls))}reauthenticateWithRedirect(h){var p=this;return(0,u.Z)(function*(){return yield Sf(Dn(p.auth)),function q0(m,h,p){return function Oy(m,h,p){return _d.apply(this,arguments)}(m,h,p)}(p._delegate,h,Ls)})()}sendEmailVerification(h){return function Ml(m,h){return Ss.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,u.Z)(function*(){return yield function Ce(m,h){return At.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function Kh(m,h){return Ea((0,N.m9)(m),h,null)}(this._delegate,h)}updatePassword(h){return function ag(m,h){return Ea((0,N.m9)(m),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function sf(m,h){return Su.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function as(m,h){return dn.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function wu(m,h,p){return Eu.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Go.USER_MAP=new WeakMap;const Vs=De;let Rd=(()=>{class m{constructor(p,_){if(this.app=p,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=p.options;Vs(C,"invalid-api-key",{appName:p.name}),Vs(C,"invalid-api-key",{appName:p.name});const S="undefined"!=typeof window?Ls:void 0;this._delegate=_.initialize({options:{persistence:Dg(C,p.name),popupRedirectResolver:S}}),this._delegate._updateErrorMap(vr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Go.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,_){!function ji(m,h,p){const _=Dn(m);De(_._canInitEmulator,_,"emulator-config-failed"),De(/^https?:\/\//.test(h),_,"invalid-emulator-scheme");const C=!!(null==p?void 0:p.disableWarnings),S=$c(h),{host:V,port:ee}=function ng(m){const h=$c(m),p=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!p)return{host:"",port:null};const _=p[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(_);if(C){const S=C[1];return{host:S,port:jh(_.substr(S.length+1))}}{const[S,V]=_.split(":");return{host:S,port:jh(V)}}}(h);_.config.emulator={url:`${S}//${V}${null===ee?"":`:${ee}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:V,port:ee,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function fi(){function m(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,p,_)}applyActionCode(p){return function Al(m,h){return Oo.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return sd(this._delegate,p)}confirmPasswordReset(p,_){return function ya(m,h,p){return Dl.apply(this,arguments)}(this._delegate,p,_)}createUserWithEmailAndPassword(p,_){var C=this;return(0,u.Z)(function*(){return zr(C._delegate,function _u(m,h,p){return od.apply(this,arguments)}(C._delegate,p,_))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function ad(m,h){return zh.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function cn(m,h){const p=Wt.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,u.Z)(function*(){Vs(Df(),p._delegate,"operation-not-supported-in-this-environment");const _=yield function cs(m,h){return wd.apply(this,arguments)}(p._delegate,Ls);return _?zr(p._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function $y(m,h){Dn(m)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,_,C){const{next:S,error:V,complete:ee}=Nf(p,_,C);return this._delegate.onAuthStateChanged(S,V,ee)}onIdTokenChanged(p,_,C){const{next:S,error:V,complete:ee}=Nf(p,_,C);return this._delegate.onIdTokenChanged(S,V,ee)}sendSignInLinkToEmail(p,_){return function Qn(m,h,p){return Sn.apply(this,arguments)}(this._delegate,p,_)}sendPasswordResetEmail(p,_){return function ga(m,h,p){return ma.apply(this,arguments)}(this._delegate,p,_||void 0)}setPersistence(p){var _=this;return(0,u.Z)(function*(){let C;switch(function lo(m,h){ec(Object.values(Ai).includes(h),m,"invalid-persistence-type"),(0,N.b$)()?ec(h!==Ai.SESSION,m,"unsupported-persistence-type"):(0,N.UG)()?ec(h===Ai.NONE,m,"unsupported-persistence-type"):Cf()?ec(h===Ai.NONE||h===Ai.LOCAL&&(0,N.hl)(),m,"unsupported-persistence-type"):ec(h===Ai.NONE||Tf(),m,"unsupported-persistence-type")}(_._delegate,p),p){case Ai.SESSION:C=xn;break;case Ai.LOCAL:C=(yield Bt(wi)._isAvailable())?wi:Da;break;case Ai.NONE:C=Er;break;default:return Pt("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return zr(this._delegate,function ha(m){return Do.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return zr(this._delegate,mu(this._delegate,p))}signInWithCustomToken(p){return zr(this._delegate,function id(m,h){return xo.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,_){return zr(this._delegate,function og(m,h,p){return mu((0,N.m9)(m),Io.credential(h,p))}(this._delegate,p,_))}signInWithEmailLink(p,_){return zr(this._delegate,function xl(m,h,p){return wa.apply(this,arguments)}(this._delegate,p,_))}signInWithPhoneNumber(p,_){return tc(this._delegate,function Du(m,h,p){return bi.apply(this,arguments)}(this._delegate,p,_))}signInWithPopup(p){var _=this;return(0,u.Z)(function*(){return Vs(Df(),_._delegate,"operation-not-supported-in-this-environment"),zr(_._delegate,function kt(m,h,p){return $t.apply(this,arguments)}(_._delegate,p,Ls))})()}signInWithRedirect(p){var _=this;return(0,u.Z)(function*(){return Vs(Df(),_._delegate,"operation-not-supported-in-this-environment"),yield Sf(_._delegate),function Z0(m,h,p){return function hg(m,h,p){return af.apply(this,arguments)}(m,h,p)}(_._delegate,p,Ls)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Sl(m,h){return _a.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Ai,m})();function Nf(m,h,p){let _=m;"function"!=typeof m&&({next:_,error:h,complete:p}=m);const C=_;return{next:V=>C(V&&Go.getOrCreate(V)),error:h,complete:p}}function Dg(m,h){const p=function Mf(m,h){const p=Tg();if(!p)return[];const _=Lt($o,m,h);switch(p.getItem(_)){case Ai.NONE:return[Er];case Ai.LOCAL:return[wi,xn];case Ai.SESSION:return[xn];default:return[]}}(m,h);if("undefined"!=typeof self&&!p.includes(wi)&&p.push(wi),"undefined"!=typeof window)for(const _ of[Da,xn])p.includes(_)||p.push(_);return p.includes(Er)||p.push(Er),p}class nc{constructor(){this.providerId="phone",this._delegate=new I(Od(Y.Z.auth()))}static credential(h,p){return I.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}nc.PHONE_SIGN_IN_METHOD=I.PHONE_SIGN_IN_METHOD,nc.PROVIDER_ID=I.PROVIDER_ID;const ev=De;class Si{constructor(h,p,_=Y.Z.app()){var C;ev(null===(C=_.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new fr(h,p,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Nd(m){m.INTERNAL.registerComponent(new le.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),_=h.getProvider("auth");return new Rd(p,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Io,FacebookAuthProvider:To,GithubAuthProvider:br,GoogleAuthProvider:Zi,OAuthProvider:is,SAMLAuthProvider:Ir,PhoneAuthProvider:nc,PhoneMultiFactorGenerator:Uy,RecaptchaVerifier:Si,TwitterAuthProvider:Ds,Auth:Rd,AuthCredential:sa,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.9")}(Y.Z)},2940:function(it,Te){!function(P){"use strict";function u(z){return Array.prototype.slice.call(z)}function Y(z){return new Promise(function(te,pe){z.onsuccess=function(){te(z.result)},z.onerror=function(){pe(z.error)}})}function N(z,te,pe){var be,ge=new Promise(function(Ue,Ie){Y(be=z[te].apply(z,pe)).then(Ue,Ie)});return ge.request=be,ge}function se(z,te,pe){var be=N(z,te,pe);return be.then(function(ge){if(ge)return new B(ge,be.request)})}function ne(z,te,pe){pe.forEach(function(be){Object.defineProperty(z.prototype,be,{get:function(){return this[te][be]},set:function(ge){this[te][be]=ge}})})}function ce(z,te,pe,be){be.forEach(function(ge){ge in pe.prototype&&(z.prototype[ge]=function(){return N(this[te],ge,arguments)})})}function ie(z,te,pe,be){be.forEach(function(ge){ge in pe.prototype&&(z.prototype[ge]=function(){return this[te][ge].apply(this[te],arguments)})})}function oe(z,te,pe,be){be.forEach(function(ge){ge in pe.prototype&&(z.prototype[ge]=function(){return se(this[te],ge,arguments)})})}function ue(z){this._index=z}function B(z,te){this._cursor=z,this._request=te}function U(z){this._store=z}function J(z){this._tx=z,this.complete=new Promise(function(te,pe){z.oncomplete=function(){te()},z.onerror=function(){pe(z.error)},z.onabort=function(){pe(z.error)}})}function Le(z,te,pe){this._db=z,this.oldVersion=te,this.transaction=new J(pe)}function Ee(z){this._db=z}ne(ue,"_index",["name","keyPath","multiEntry","unique"]),ce(ue,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),oe(ue,"_index",IDBIndex,["openCursor","openKeyCursor"]),ne(B,"_cursor",["direction","key","primaryKey","value"]),ce(B,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(z){z in IDBCursor.prototype&&(B.prototype[z]=function(){var te=this,pe=arguments;return Promise.resolve().then(function(){return te._cursor[z].apply(te._cursor,pe),Y(te._request).then(function(be){if(be)return new B(be,te._request)})})})}),U.prototype.createIndex=function(){return new ue(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new ue(this._store.index.apply(this._store,arguments))},ne(U,"_store",["name","keyPath","indexNames","autoIncrement"]),ce(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),oe(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ie(U,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},ne(J,"_tx",["objectStoreNames","mode"]),ie(J,"_tx",IDBTransaction,["abort"]),Le.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},ne(Le,"_db",["name","version","objectStoreNames"]),ie(Le,"_db",IDBDatabase,["deleteObjectStore","close"]),Ee.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},ne(Ee,"_db",["name","version","objectStoreNames"]),ie(Ee,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(z){[U,ue].forEach(function(te){z in te.prototype&&(te.prototype[z.replace("open","iterate")]=function(){var pe=u(arguments),be=pe[pe.length-1],ge=this._store||this._index,Ue=ge[z].apply(ge,pe.slice(0,-1));Ue.onsuccess=function(){be(Ue.result)}})})}),[ue,U].forEach(function(z){z.prototype.getAll||(z.prototype.getAll=function(te,pe){var be=this,ge=[];return new Promise(function(Ue){be.iterateCursor(te,function(Ie){Ie?(ge.push(Ie.value),void 0===pe||ge.length!=pe?Ie.continue():Ue(ge)):Ue(ge)})})})}),P.openDb=function Me(z,te,pe){var be=N(indexedDB,"open",[z,te]),ge=be.request;return ge&&(ge.onupgradeneeded=function(Ue){pe&&pe(new Le(ge.result,Ue.oldVersion,ge.transaction))}),be.then(function(Ue){return new Ee(Ue)})},P.deleteDb=function Fe(z){return N(indexedDB,"deleteDatabase",[z])},Object.defineProperty(P,"__esModule",{value:!0})}(Te)},8306:(it,Te,P)=>{"use strict";P.d(Te,{y:()=>B});var u=P(2961),Y=P(727),N=P(8822),se=P(4671);var ie=P(2416),oe=P(576),ue=P(2806);let B=(()=>{class Ee{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const z=new Ee;return z.source=this,z.operator=Fe,z}subscribe(Fe,z,te){const pe=function Le(Ee){return Ee&&Ee instanceof u.Lv||function J(Ee){return Ee&&(0,oe.m)(Ee.next)&&(0,oe.m)(Ee.error)&&(0,oe.m)(Ee.complete)}(Ee)&&(0,Y.Nn)(Ee)}(Fe)?Fe:new u.Hp(Fe,z,te);return(0,ue.x)(()=>{const{operator:be,source:ge}=this;pe.add(be?be.call(pe,ge):ge?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(z){Fe.error(z)}}forEach(Fe,z){return new(z=U(z))((te,pe)=>{let be;be=this.subscribe(ge=>{try{Fe(ge)}catch(Ue){pe(Ue),null==be||be.unsubscribe()}},pe,te)})}_subscribe(Fe){var z;return null===(z=this.source)||void 0===z?void 0:z.subscribe(Fe)}[N.L](){return this}pipe(...Fe){return function ce(Ee){return 0===Ee.length?se.y:1===Ee.length?Ee[0]:function(Fe){return Ee.reduce((z,te)=>te(z),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=U(Fe))((z,te)=>{let pe;this.subscribe(be=>pe=be,be=>te(be),()=>z(pe))})}}return Ee.create=Me=>new Ee(Me),Ee})();function U(Ee){var Me;return null!==(Me=null!=Ee?Ee:ie.v.Promise)&&void 0!==Me?Me:Promise}},7579:(it,Te,P)=>{"use strict";P.d(Te,{x:()=>ie});var u=P(8306),Y=P(727);const se=(0,P(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=P(8737),ce=P(2806);let ie=(()=>{class ue extends u.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const J=new oe(this,this);return J.operator=U,J}_throwIfClosed(){if(this.closed)throw new se}next(U){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const J=this.observers.slice();for(const Le of J)Le.next(U)}})}error(U){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:J}=this;for(;J.length;)J.shift().error(U)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:J,isStopped:Le,observers:Ee}=this;return J||Le?Y.Lc:(Ee.push(U),new Y.w0(()=>(0,ne.P)(Ee,U)))}_checkFinalizedStatuses(U){const{hasError:J,thrownError:Le,isStopped:Ee}=this;J?U.error(Le):Ee&&U.complete()}asObservable(){const U=new u.y;return U.source=this,U}}return ue.create=(B,U)=>new oe(B,U),ue})();class oe extends ie{constructor(B,U){super(),this.destination=B,this.source=U}next(B){var U,J;null===(J=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===J||J.call(U,B)}error(B){var U,J;null===(J=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===J||J.call(U,B)}complete(){var B,U;null===(U=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===U||U.call(B)}_subscribe(B){var U,J;return null!==(J=null===(U=this.source)||void 0===U?void 0:U.subscribe(B))&&void 0!==J?J:Y.Lc}}},2961:(it,Te,P)=>{"use strict";P.d(Te,{Hp:()=>Le,Lv:()=>J});var u=P(576),Y=P(727),N=P(2416),se=P(7849);function ne(){}const ce=ue("C",void 0,void 0);function ue(te,pe,be){return{kind:te,value:pe,error:be}}var B=P(3410),U=P(2806);class J extends Y.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,Y.Nn)(pe)&&pe.add(this)):this.destination=z}static create(pe,be,ge){return new Le(pe,be,ge)}next(pe){this.isStopped?Fe(function oe(te){return ue("N",te,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?Fe(function ie(te){return ue("E",void 0,te)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?Fe(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Le extends J{constructor(pe,be,ge){let Ue;if(super(),(0,u.m)(pe))Ue=pe;else if(pe){let Ie;({next:Ue,error:be,complete:ge}=pe),this&&N.v.useDeprecatedNextContext?(Ie=Object.create(pe),Ie.unsubscribe=()=>this.unsubscribe()):Ie=pe,Ue=null==Ue?void 0:Ue.bind(Ie),be=null==be?void 0:be.bind(Ie),ge=null==ge?void 0:ge.bind(Ie)}this.destination={next:Ue?Ee(Ue):ne,error:Ee(null!=be?be:Me),complete:ge?Ee(ge):ne}}}function Ee(te,pe){return(...be)=>{try{te(...be)}catch(ge){N.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(ge):(0,se.h)(ge)}}}function Me(te){throw te}function Fe(te,pe){const{onStoppedNotification:be}=N.v;be&&B.z.setTimeout(()=>be(te,pe))}const z={closed:!0,next:ne,error:Me,complete:ne}},727:(it,Te,P)=>{"use strict";P.d(Te,{Lc:()=>ce,w0:()=>ne,Nn:()=>ie});var u=P(576);const N=(0,P(3888).d)(ue=>function(U){ue(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((J,Le)=>`${Le+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var se=P(8737);class ne{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Ee of U)Ee.remove(this);else U.remove(this);const{initialTeardown:J}=this;if((0,u.m)(J))try{J()}catch(Ee){B=Ee instanceof N?Ee.errors:[Ee]}const{_teardowns:Le}=this;if(Le){this._teardowns=null;for(const Ee of Le)try{oe(Ee)}catch(Me){B=null!=B?B:[],Me instanceof N?B=[...B,...Me.errors]:B.push(Me)}}if(B)throw new N(B)}}add(B){var U;if(B&&B!==this)if(this.closed)oe(B);else{if(B instanceof ne){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._teardowns=null!==(U=this._teardowns)&&void 0!==U?U:[]).push(B)}}_hasParent(B){const{_parentage:U}=this;return U===B||Array.isArray(U)&&U.includes(B)}_addParent(B){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(B),U):U?[U,B]:B}_removeParent(B){const{_parentage:U}=this;U===B?this._parentage=null:Array.isArray(U)&&(0,se.P)(U,B)}remove(B){const{_teardowns:U}=this;U&&(0,se.P)(U,B),B instanceof ne&&B._removeParent(this)}}ne.EMPTY=(()=>{const ue=new ne;return ue.closed=!0,ue})();const ce=ne.EMPTY;function ie(ue){return ue instanceof ne||ue&&"closed"in ue&&(0,u.m)(ue.remove)&&(0,u.m)(ue.add)&&(0,u.m)(ue.unsubscribe)}function oe(ue){(0,u.m)(ue)?ue():ue.unsubscribe()}},2416:(it,Te,P)=>{"use strict";P.d(Te,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,Te,P)=>{"use strict";P.d(Te,{E:()=>Y});const Y=new(P(8306).y)(ne=>ne.complete())},8996:(it,Te,P)=>{"use strict";P.d(Te,{D:()=>Ue});var u=P(8421),Y=P(5363),N=P(9468),ce=P(8306),oe=P(2202),ue=P(576),B=P(9672);function J(Ie,tt){if(!Ie)throw new Error("Iterable cannot be null");return new ce.y($e=>{(0,B.f)($e,tt,()=>{const lt=Ie[Symbol.asyncIterator]();(0,B.f)($e,tt,()=>{lt.next().then(Q=>{Q.done?$e.complete():$e.next(Q.value)})},0,!0)})})}var Le=P(3670),Ee=P(8239),Me=P(1144),Fe=P(6495),z=P(2206),te=P(4532),pe=P(3260);function Ue(Ie,tt){return tt?function ge(Ie,tt){if(null!=Ie){if((0,Le.c)(Ie))return function se(Ie,tt){return(0,u.Xf)(Ie).pipe((0,N.R)(tt),(0,Y.Q)(tt))}(Ie,tt);if((0,Me.z)(Ie))return function ie(Ie,tt){return new ce.y($e=>{let lt=0;return tt.schedule(function(){lt===Ie.length?$e.complete():($e.next(Ie[lt++]),$e.closed||this.schedule())})})}(Ie,tt);if((0,Ee.t)(Ie))return function ne(Ie,tt){return(0,u.Xf)(Ie).pipe((0,N.R)(tt),(0,Y.Q)(tt))}(Ie,tt);if((0,z.D)(Ie))return J(Ie,tt);if((0,Fe.T)(Ie))return function U(Ie,tt){return new ce.y($e=>{let lt;return(0,B.f)($e,tt,()=>{lt=Ie[oe.h](),(0,B.f)($e,tt,()=>{let Q,he;try{({value:Q,done:he}=lt.next())}catch(me){return void $e.error(me)}he?$e.complete():$e.next(Q)},0,!0)}),()=>(0,ue.m)(null==lt?void 0:lt.return)&&lt.return()})}(Ie,tt);if((0,pe.L)(Ie))return function be(Ie,tt){return J((0,pe.Q)(Ie),tt)}(Ie,tt)}throw(0,te.z)(Ie)}(Ie,tt):(0,u.Xf)(Ie)}},8421:(it,Te,P)=>{"use strict";P.d(Te,{Xf:()=>Le});var u=P(5987),Y=P(1144),N=P(8239),se=P(8306),ne=P(3670),ce=P(2206),ie=P(4532),oe=P(6495),ue=P(3260),B=P(576),U=P(7849),J=P(8822);function Le(ge){if(ge instanceof se.y)return ge;if(null!=ge){if((0,ne.c)(ge))return function Ee(ge){return new se.y(Ue=>{const Ie=ge[J.L]();if((0,B.m)(Ie.subscribe))return Ie.subscribe(Ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,Y.z)(ge))return function Me(ge){return new se.y(Ue=>{for(let Ie=0;Ie<ge.length&&!Ue.closed;Ie++)Ue.next(ge[Ie]);Ue.complete()})}(ge);if((0,N.t)(ge))return function Fe(ge){return new se.y(Ue=>{ge.then(Ie=>{Ue.closed||(Ue.next(Ie),Ue.complete())},Ie=>Ue.error(Ie)).then(null,U.h)})}(ge);if((0,ce.D)(ge))return te(ge);if((0,oe.T)(ge))return function z(ge){return new se.y(Ue=>{for(const Ie of ge)if(Ue.next(Ie),Ue.closed)return;Ue.complete()})}(ge);if((0,ue.L)(ge))return function pe(ge){return te((0,ue.Q)(ge))}(ge)}throw(0,ie.z)(ge)}function te(ge){return new se.y(Ue=>{(function be(ge,Ue){var Ie,tt,$e,lt;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,u.KL)(ge);!(tt=yield Ie.next()).done;)if(Ue.next(tt.value),Ue.closed)return}catch(Q){$e={error:Q}}finally{try{tt&&!tt.done&&(lt=Ie.return)&&(yield lt.call(Ie))}finally{if($e)throw $e.error}}Ue.complete()})})(ge,Ue).catch(Ie=>Ue.error(Ie))})}},6451:(it,Te,P)=>{"use strict";P.d(Te,{T:()=>ce});var u=P(8189),Y=P(8421),N=P(515),se=P(7669),ne=P(8996);function ce(...ie){const oe=(0,se.yG)(ie),ue=(0,se._6)(ie,1/0),B=ie;return B.length?1===B.length?(0,Y.Xf)(B[0]):(0,u.J)(ue)((0,ne.D)(B,oe)):N.E}},5403:(it,Te,P)=>{"use strict";P.d(Te,{Q:()=>Y});var u=P(2961);class Y extends u.Lv{constructor(se,ne,ce,ie,oe){super(se),this.onFinalize=oe,this._next=ne?function(ue){try{ne(ue)}catch(B){se.error(B)}}:super._next,this._error=ie?function(ue){try{ie(ue)}catch(B){se.error(B)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(ue){se.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}},4004:(it,Te,P)=>{"use strict";P.d(Te,{U:()=>N});var u=P(4482),Y=P(5403);function N(se,ne){return(0,u.e)((ce,ie)=>{let oe=0;ce.subscribe(new Y.Q(ie,ue=>{ie.next(se.call(ne,ue,oe++))}))})}},8189:(it,Te,P)=>{"use strict";P.d(Te,{J:()=>N});var u=P(5577),Y=P(4671);function N(se=1/0){return(0,u.z)(Y.y,se)}},5577:(it,Te,P)=>{"use strict";P.d(Te,{z:()=>oe});var u=P(4004),Y=P(8421),N=P(4482),se=P(9672),ne=P(5403),ie=P(576);function oe(ue,B,U=1/0){return(0,ie.m)(B)?oe((J,Le)=>(0,u.U)((Ee,Me)=>B(J,Ee,Le,Me))((0,Y.Xf)(ue(J,Le))),U):("number"==typeof B&&(U=B),(0,N.e)((J,Le)=>function ce(ue,B,U,J,Le,Ee,Me,Fe){const z=[];let te=0,pe=0,be=!1;const ge=()=>{be&&!z.length&&!te&&B.complete()},Ue=tt=>te<J?Ie(tt):z.push(tt),Ie=tt=>{Ee&&B.next(tt),te++;let $e=!1;(0,Y.Xf)(U(tt,pe++)).subscribe(new ne.Q(B,lt=>{null==Le||Le(lt),Ee?Ue(lt):B.next(lt)},()=>{$e=!0},void 0,()=>{if($e)try{for(te--;z.length&&te<J;){const lt=z.shift();Me?(0,se.f)(B,Me,()=>Ie(lt)):Ie(lt)}ge()}catch(lt){B.error(lt)}}))};return ue.subscribe(new ne.Q(B,Ue,()=>{be=!0,ge()})),()=>{null==Fe||Fe()}}(J,Le,ue,U)))}},5363:(it,Te,P)=>{"use strict";P.d(Te,{Q:()=>se});var u=P(9672),Y=P(4482),N=P(5403);function se(ne,ce=0){return(0,Y.e)((ie,oe)=>{ie.subscribe(new N.Q(oe,ue=>(0,u.f)(oe,ne,()=>oe.next(ue),ce),()=>(0,u.f)(oe,ne,()=>oe.complete(),ce),ue=>(0,u.f)(oe,ne,()=>oe.error(ue),ce)))})}},3099:(it,Te,P)=>{"use strict";P.d(Te,{B:()=>ce});var u=P(8996),Y=P(5698),N=P(7579),se=P(2961),ne=P(4482);function ce(oe={}){const{connector:ue=(()=>new N.x),resetOnError:B=!0,resetOnComplete:U=!0,resetOnRefCountZero:J=!0}=oe;return Le=>{let Ee=null,Me=null,Fe=null,z=0,te=!1,pe=!1;const be=()=>{null==Me||Me.unsubscribe(),Me=null},ge=()=>{be(),Ee=Fe=null,te=pe=!1},Ue=()=>{const Ie=Ee;ge(),null==Ie||Ie.unsubscribe()};return(0,ne.e)((Ie,tt)=>{z++,!pe&&!te&&be();const $e=Fe=null!=Fe?Fe:ue();tt.add(()=>{z--,0===z&&!pe&&!te&&(Me=ie(Ue,J))}),$e.subscribe(tt),Ee||(Ee=new se.Hp({next:lt=>$e.next(lt),error:lt=>{pe=!0,be(),Me=ie(ge,B,lt),$e.error(lt)},complete:()=>{te=!0,be(),Me=ie(ge,U),$e.complete()}}),(0,u.D)(Ie).subscribe(Ee))})(Le)}}function ie(oe,ue,...B){return!0===ue?(oe(),null):!1===ue?null:ue(...B).pipe((0,Y.q)(1)).subscribe(()=>oe())}},9468:(it,Te,P)=>{"use strict";P.d(Te,{R:()=>Y});var u=P(4482);function Y(N,se=0){return(0,u.e)((ne,ce)=>{ce.add(N.schedule(()=>ne.subscribe(ce),se))})}},5698:(it,Te,P)=>{"use strict";P.d(Te,{q:()=>se});var u=P(515),Y=P(4482),N=P(5403);function se(ne){return ne<=0?()=>u.E:(0,Y.e)((ce,ie)=>{let oe=0;ce.subscribe(new N.Q(ie,ue=>{++oe<=ne&&(ie.next(ue),ne<=oe&&ie.complete())}))})}},8505:(it,Te,P)=>{"use strict";P.d(Te,{b:()=>ne});var u=P(576),Y=P(4482),N=P(5403),se=P(4671);function ne(ce,ie,oe){const ue=(0,u.m)(ce)||ie||oe?{next:ce,error:ie,complete:oe}:ce;return ue?(0,Y.e)((B,U)=>{var J;null===(J=ue.subscribe)||void 0===J||J.call(ue);let Le=!0;B.subscribe(new N.Q(U,Ee=>{var Me;null===(Me=ue.next)||void 0===Me||Me.call(ue,Ee),U.next(Ee)},()=>{var Ee;Le=!1,null===(Ee=ue.complete)||void 0===Ee||Ee.call(ue),U.complete()},Ee=>{var Me;Le=!1,null===(Me=ue.error)||void 0===Me||Me.call(ue,Ee),U.error(Ee)},()=>{var Ee,Me;Le&&(null===(Ee=ue.unsubscribe)||void 0===Ee||Ee.call(ue)),null===(Me=ue.finalize)||void 0===Me||Me.call(ue)}))}):se.y}},4408:(it,Te,P)=>{"use strict";P.d(Te,{o:()=>ne});var u=P(727);class Y extends u.w0{constructor(ie,oe){super()}schedule(ie,oe=0){return this}}const N={setInterval(...ce){const{delegate:ie}=N;return((null==ie?void 0:ie.setInterval)||setInterval)(...ce)},clearInterval(ce){const{delegate:ie}=N;return((null==ie?void 0:ie.clearInterval)||clearInterval)(ce)},delegate:void 0};var se=P(8737);class ne extends Y{constructor(ie,oe){super(ie,oe),this.scheduler=ie,this.work=oe,this.pending=!1}schedule(ie,oe=0){if(this.closed)return this;this.state=ie;const ue=this.id,B=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(B,ue,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(B,this.id,oe),this}requestAsyncId(ie,oe,ue=0){return N.setInterval(ie.flush.bind(ie,this),ue)}recycleAsyncId(ie,oe,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return oe;N.clearInterval(oe)}execute(ie,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(ie,oe);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,oe){let B,ue=!1;try{this.work(ie)}catch(U){ue=!0,B=U||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:ie,scheduler:oe}=this,{actions:ue}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ue,this),null!=ie&&(this.id=this.recycleAsyncId(oe,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,Te,P)=>{"use strict";P.d(Te,{v:()=>N});var u=P(6063);class Y{constructor(ne,ce=Y.now){this.schedulerActionCtor=ne,this.now=ce}schedule(ne,ce=0,ie){return new this.schedulerActionCtor(this,ne).schedule(ie,ce)}}Y.now=u.l.now;class N extends Y{constructor(ne,ce=Y.now){super(ne,ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:ce}=this;if(this._active)return void ce.push(ne);let ie;this._active=!0;do{if(ie=ne.execute(ne.state,ne.delay))break}while(ne=ce.shift());if(this._active=!1,ie){for(;ne=ce.shift();)ne.unsubscribe();throw ie}}}},4986:(it,Te,P)=>{"use strict";P.d(Te,{z:()=>N});var u=P(4408);const N=new(P(7565).v)(u.o)},6063:(it,Te,P)=>{"use strict";P.d(Te,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(it,Te,P)=>{"use strict";P.d(Te,{z:()=>u});const u={setTimeout(...Y){const{delegate:N}=u;return((null==N?void 0:N.setTimeout)||setTimeout)(...Y)},clearTimeout(Y){const{delegate:N}=u;return((null==N?void 0:N.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(it,Te,P)=>{"use strict";P.d(Te,{h:()=>Y});const Y=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,Te,P)=>{"use strict";P.d(Te,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(it,Te,P)=>{"use strict";P.d(Te,{_6:()=>ce,jO:()=>se,yG:()=>ne});var u=P(576);function N(ie){return ie[ie.length-1]}function se(ie){return(0,u.m)(N(ie))?ie.pop():void 0}function ne(ie){return function Y(ie){return ie&&(0,u.m)(ie.schedule)}(N(ie))?ie.pop():void 0}function ce(ie,oe){return"number"==typeof N(ie)?ie.pop():oe}},8737:(it,Te,P)=>{"use strict";function u(Y,N){if(Y){const se=Y.indexOf(N);0<=se&&Y.splice(se,1)}}P.d(Te,{P:()=>u})},3888:(it,Te,P)=>{"use strict";function u(Y){const se=Y(ne=>{Error.call(ne),ne.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(Te,{d:()=>u})},2806:(it,Te,P)=>{"use strict";P.d(Te,{x:()=>N,O:()=>se});var u=P(2416);let Y=null;function N(ne){if(u.v.useDeprecatedSynchronousErrorHandling){const ce=!Y;if(ce&&(Y={errorThrown:!1,error:null}),ne(),ce){const{errorThrown:ie,error:oe}=Y;if(Y=null,ie)throw oe}}else ne()}function se(ne){u.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=ne)}},9672:(it,Te,P)=>{"use strict";function u(Y,N,se,ne=0,ce=!1){const ie=N.schedule(function(){se(),ce?Y.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(Y.add(ie),!ce)return ie}P.d(Te,{f:()=>u})},4671:(it,Te,P)=>{"use strict";function u(Y){return Y}P.d(Te,{y:()=>u})},1144:(it,Te,P)=>{"use strict";P.d(Te,{z:()=>u});const u=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(it,Te,P)=>{"use strict";P.d(Te,{D:()=>Y});var u=P(576);function Y(N){return Symbol.asyncIterator&&(0,u.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(it,Te,P)=>{"use strict";function u(Y){return"function"==typeof Y}P.d(Te,{m:()=>u})},3670:(it,Te,P)=>{"use strict";P.d(Te,{c:()=>N});var u=P(8822),Y=P(576);function N(se){return(0,Y.m)(se[u.L])}},6495:(it,Te,P)=>{"use strict";P.d(Te,{T:()=>N});var u=P(2202),Y=P(576);function N(se){return(0,Y.m)(null==se?void 0:se[u.h])}},8239:(it,Te,P)=>{"use strict";P.d(Te,{t:()=>Y});var u=P(576);function Y(N){return(0,u.m)(null==N?void 0:N.then)}},3260:(it,Te,P)=>{"use strict";P.d(Te,{Q:()=>N,L:()=>se});var u=P(5987),Y=P(576);function N(ne){return(0,u.FC)(this,arguments,function*(){const ie=ne.getReader();try{for(;;){const{value:oe,done:ue}=yield(0,u.qq)(ie.read());if(ue)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(oe)}}finally{ie.releaseLock()}})}function se(ne){return(0,Y.m)(null==ne?void 0:ne.getReader)}},4482:(it,Te,P)=>{"use strict";P.d(Te,{A:()=>Y,e:()=>N});var u=P(576);function Y(se){return(0,u.m)(null==se?void 0:se.lift)}function N(se){return ne=>{if(Y(ne))return ne.lift(function(ce){try{return se(ce,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(it,Te,P)=>{"use strict";P.d(Te,{h:()=>N});var u=P(2416),Y=P(3410);function N(se){Y.z.setTimeout(()=>{const{onUnhandledError:ne}=u.v;if(!ne)throw se;ne(se)})}},4532:(it,Te,P)=>{"use strict";function u(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Te,{z:()=>u})},5987:(it,Te,P)=>{"use strict";function oe(Q,he,me,_e){return new(me||(me=Promise))(function(le,It){function Nt(rt){try{ot(_e.next(rt))}catch(yr){It(yr)}}function Gn(rt){try{ot(_e.throw(rt))}catch(yr){It(yr)}}function ot(rt){rt.done?le(rt.value):function Ne(le){return le instanceof me?le:new me(function(It){It(le)})}(rt.value).then(Nt,Gn)}ot((_e=_e.apply(Q,he||[])).next())})}function z(Q){return this instanceof z?(this.v=Q,this):new z(Q)}function te(Q,he,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,_e=me.apply(Q,he||[]),le=[];return Ne={},It("next"),It("throw"),It("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function It(Kt){_e[Kt]&&(Ne[Kt]=function(vr){return new Promise(function(zt,ui){le.push([Kt,vr,zt,ui])>1||Nt(Kt,vr)})})}function Nt(Kt,vr){try{!function Gn(Kt){Kt.value instanceof z?Promise.resolve(Kt.value.v).then(ot,rt):yr(le[0][2],Kt)}(_e[Kt](vr))}catch(zt){yr(le[0][3],zt)}}function ot(Kt){Nt("next",Kt)}function rt(Kt){Nt("throw",Kt)}function yr(Kt,vr){Kt(vr),le.shift(),le.length&&Nt(le[0][0],le[0][1])}}function be(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,he=Q[Symbol.asyncIterator];return he?he.call(Q):(Q=function J(Q){var he="function"==typeof Symbol&&Symbol.iterator,me=he&&Q[he],_e=0;if(me)return me.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&_e>=Q.length&&(Q=void 0),{value:Q&&Q[_e++],done:!Q}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),me={},_e("next"),_e("throw"),_e("return"),me[Symbol.asyncIterator]=function(){return this},me);function _e(le){me[le]=Q[le]&&function(It){return new Promise(function(Nt,Gn){!function Ne(le,It,Nt,Gn){Promise.resolve(Gn).then(function(ot){le({value:ot,done:Nt})},It)}(Nt,Gn,(It=Q[le](It)).done,It.value)})}}}P.d(Te,{mG:()=>oe,qq:()=>z,FC:()=>te,KL:()=>be})},5e3:(it,Te,P)=>{"use strict";P.d(Te,{deG:()=>Uo,tb:()=>ul,AFp:()=>ru,ip1:()=>kp,CZH:()=>al,hGG:()=>Ob,z2F:()=>vo,sBO:()=>eC,Sil:()=>uy,_Vd:()=>Sp,EJc:()=>o0,SBq:()=>fs,qLn:()=>Xl,vpe:()=>ea,tBr:()=>qn,XFs:()=>Xe,OlP:()=>Vt,zs3:()=>ho,ZZ4:()=>gy,aQg:()=>my,soG:()=>ll,YKP:()=>il,h0i:()=>yo,PXZ:()=>l0,R0b:()=>Qi,FiY:()=>Jt,Lbi:()=>ay,g9A:()=>oy,Qsj:()=>Zm,FYo:()=>Mp,JOm:()=>Fs,tp0:()=>Ti,Rgc:()=>Mc,dDg:()=>cy,q4F:()=>ps,GfV:()=>Ac,s_b:()=>Oc,ifc:()=>Dt,eFA:()=>iu,G48:()=>hy,Gpc:()=>U,X6Q:()=>JT,_c5:()=>I0,VLi:()=>dy,c2e:()=>Lc,zSh:()=>qg,wAp:()=>gt,vHH:()=>Me,cg1:()=>Sm,kL8:()=>__,dqk:()=>dt,sIi:()=>qd,CqO:()=>Yv,QGY:()=>op,F4k:()=>Kv,RDi:()=>td,AaK:()=>oe,qOj:()=>Nv,TTD:()=>ua,_Bn:()=>M_,xp6:()=>rv,uIk:()=>Xg,ekj:()=>_m,Suo:()=>Ch,Xpm:()=>kn,lG2:()=>lu,Yz7:()=>zt,cJS:()=>es,oAB:()=>bs,Yjl:()=>Js,Y36:()=>Ko,_UZ:()=>eh,qZA:()=>cm,TgZ:()=>Xd,n5z:()=>gn,LFG:()=>$,$8M:()=>Mn,$Z:()=>Ww,NdJ:()=>mc,CRH:()=>W_,Q6J:()=>zv,MGl:()=>up,iGM:()=>ty,LSH:()=>Lu,_uU:()=>sE,hij:()=>Ec});var u=P(7579),Y=P(727),N=P(8306),se=P(6451),ne=P(3099);function ce(i){for(let s in i)if(i[s]===ce)return s;throw Error("Could not find renamed property on target object.")}function ie(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function oe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(oe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ue(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const B=ce({__forward_ref__:ce});function U(i){return i.__forward_ref__=U,i.toString=function(){return oe(this())},i}function J(i){return Le(i)?i():i}function Le(i){return"function"==typeof i&&i.hasOwnProperty(B)&&i.__forward_ref__===U}class Me extends Error{constructor(s,a){super(function Fe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function z(i){return"string"==typeof i?i:null==i?"":String(i)}function te(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():z(i)}function Ue(i,s){const a=s?` in ${s}`:"";throw new Me(-201,`No provider for ${te(i)} found${a}`)}function ot(i,s){null==i&&function rt(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function zt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function es(i){return{providers:i.providers||[],imports:i.imports||[]}}function vn(i){return Li(i,Ur)||Li(i,De)}function Li(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ks(i){return i&&(i.hasOwnProperty(ts)||i.hasOwnProperty(nr))?i[ts]:null}const Ur=ce({\u0275prov:ce}),ts=ce({\u0275inj:ce}),De=ce({ngInjectableDef:ce}),nr=ce({ngInjectorDef:ce});var Xe=(()=>((Xe=Xe||{})[Xe.Default=0]="Default",Xe[Xe.Host=1]="Host",Xe[Xe.Self=2]="Self",Xe[Xe.SkipSelf=4]="SkipSelf",Xe[Xe.Optional=8]="Optional",Xe))();let ni;function Pn(i){const s=ni;return ni=i,s}function Ys(i,s,a){const l=vn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Xe.Optional?null:void 0!==s?s:void Ue(oe(i),"Injector")}function nt(i){return{toString:i}.toString()}var Ct=(()=>((Ct=Ct||{})[Ct.OnPush=0]="OnPush",Ct[Ct.Default=1]="Default",Ct))(),Dt=(()=>{return(i=Dt||(Dt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Dt;var i})();const et="undefined"!=typeof globalThis&&globalThis,at="undefined"!=typeof window&&window,gl="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,dt=et||"undefined"!=typeof global&&global||at||gl,ns={},L=[],Z=ce({\u0275cmp:ce}),H=ce({\u0275dir:ce}),ve=ce({\u0275pipe:ce}),X=ce({\u0275mod:ce}),Ze=ce({\u0275fac:ce}),mt=ce({__NG_ELEMENT_ID__:ce});let tn=0;function kn(i){return nt(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Ct.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||L,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Dt.Emulated,id:"c",styles:i.styles||L,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,g=i.features,v=i.pipes;return l.id+=tn++,l.inputs=_o(i.inputs,a),l.outputs=_o(i.outputs),g&&g.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(wr):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(Mt):null,l})}function wr(i){return zn(i)||function Fn(i){return i[H]||null}(i)}function Mt(i){return function Vi(i){return i[ve]||null}(i)}const rr={};function bs(i){return nt(()=>{const s={type:i.type,bootstrap:i.bootstrap||L,declarations:i.declarations||L,imports:i.imports||L,exports:i.exports||L,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(rr[i.id]=i.type),s})}function _o(i,s){if(null==i)return ns;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,s&&(s[d]=g)}return a}const lu=kn;function Js(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function zn(i){return i[Z]||null}function Wn(i,s){const a=i[X]||null;if(!a&&!0===s)throw new Error(`Type ${oe(i)} does not have '\u0275mod' property.`);return a}function di(i){return Array.isArray(i)&&"object"==typeof i[1]}function hi(i){return Array.isArray(i)&&!0===i[1]}function Hc(i){return 0!=(8&i.flags)}function Dn(i){return 2==(2&i.flags)}function rs(i){return 1==(1&i.flags)}function ji(i){return null!==i.template}function $c(i){return 0!=(512&i[2])}function ro(i,s){return i.hasOwnProperty(Ze)?i[Ze]:null}class cu{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function ua(){return io}function io(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ts),la}function la(){const i=Xc(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===ns)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Ts(i,s,a,l){const d=Xc(i)||function dr(i,s){return i[du]=s}(i,{previous:ns,current:null}),g=d.current||(d.current={}),v=d.previous,w=this.declaredInputs[a],b=v[w];g[w]=new cu(b&&b.currentValue,s,v===ns),i[l]=s}ua.ngInherit=!0;const du="__ngSimpleChanges__";function Xc(i){return i[du]||null}let hu;function td(i){hu=i}function Ht(i){return!!i.listen}const Cs={createRenderer:(i,s)=>function bl(){return void 0!==hu?hu:"undefined"!=typeof document?document:void 0}()};function Wt(i){for(;Array.isArray(i);)i=i[0];return i}function Un(i,s){return Wt(s[i])}function An(i,s){return Wt(s[i.index])}function To(i,s){return i.data[s]}function br(i,s){const a=s[i];return di(a)?a:a[0]}function Bn(i){return 4==(4&i[2])}function qi(i){return 128==(128&i[2])}function Ir(i,s){return null==s?null:i[s]}function Ds(i){i[18]=0}function Co(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const ht={lFrame:va(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ao(){return ht.bindingsEnabled}function Ce(){return ht.lFrame.lView}function At(){return ht.lFrame.tView}function Qt(){let i=so();for(;null!==i&&64===i.type;)i=i.parent;return i}function so(){return ht.lFrame.currentTNode}function Hr(i,s){const a=ht.lFrame;a.currentTNode=i,a.isParent=s}function ss(){return ht.lFrame.isParent}function So(){return ht.isInCheckNoChangesMode}function fa(i){ht.isInCheckNoChangesMode=i}function os(){return ht.lFrame.bindingIndex++}function vu(i,s){const a=ht.lFrame;a.bindingIndex=a.bindingRootIndex=i,Mo(s)}function Mo(i){ht.lFrame.currentDirectiveIndex=i}function ma(){return ht.lFrame.currentQueryIndex}function ya(i){ht.lFrame.currentQueryIndex=i}function Dl(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Al(i,s,a){if(a&Xe.SkipSelf){let d=s,g=i;for(;!(d=d.parent,null!==d||a&Xe.Host||(d=Dl(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;s=d,i=g}const l=ht.lFrame=sd();return l.currentTNode=s,l.lView=i,!0}function Oo(i){const s=sd(),a=i[1];ht.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function sd(){const i=ht.lFrame,s=null===i?null:i.child;return null===s?va(i):s}function va(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Sl(){const i=ht.lFrame;return ht.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const _a=Sl;function _u(){const i=Sl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Qn(){return ht.lFrame.selectedIndex}function Sn(i){ht.lFrame.selectedIndex=i}function cn(){const i=ht.lFrame;return To(i.tView,i.selectedIndex)}function Ml(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:A,ngOnDestroy:x}=g;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),A&&((i.viewHooks||(i.viewHooks=[])).push(a,A),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,A)),null!=x&&(i.destroyHooks||(i.destroyHooks=[])).push(a,x)}}function Ss(i,s,a){Wh(i,s,3,a)}function wu(i,s,a,l){(3&i[2])===a&&Wh(i,s,a,l)}function Eu(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Wh(i,s,a,l){const g=null!=l?l:-1,v=s.length-1;let w=0;for(let b=void 0!==l?65535&i[18]:0;b<v;b++)if("number"==typeof s[b+1]){if(w=s[b],null!=l&&w>=l)break}else s[b]<0&&(i[18]+=65536),(w<g||-1==g)&&(ud(i,a,s,b),i[18]=(4294901760&i[18])+b+2),b++}function ud(i,s,a,l){const d=a[l]<0,g=a[l+1],w=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class dn{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Ol(i,s,a){const l=Ht(i);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const v=a[d++],w=a[d++],b=a[d++];l?i.setAttribute(s,w,b,v):s.setAttributeNS(v,w,b)}else{const v=g,w=a[++d];xs(v)?l&&i.setProperty(s,v,w):l?i.setAttribute(s,v,w):s.setAttribute(v,w),d++}}return d}function an(i){return 3===i||4===i||6===i}function xs(i){return 64===i.charCodeAt(0)}function Ye(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||Ms(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function Ms(i,s,a,l,d){let g=0,v=i.length;if(-1===s)v=-1;else for(;g<i.length;){const w=i[g++];if("number"==typeof w){if(w===s){v=-1;break}if(w>s){v=g-1;break}}}for(;g<i.length;){const w=i[g];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(i[g+1]=d));if(l===i[g+1])return void(i[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==v&&(i.splice(v,0,s),g=v+1),i.splice(g++,0,a),null!==l&&i.splice(g++,0,l),null!==d&&i.splice(g++,0,d)}function yi(i){return-1!==i}function Jn(i){return 32767&i}function Ia(i,s){let a=function Yh(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let dd=!0;function Ta(i){const s=dd;return dd=i,s}let vt=0;function Ca(i,s){const a=Ro(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Iu(l.data,i),Iu(s,null),Iu(l.blueprint,null));const d=pn(i,s),g=i.injectorIndex;if(yi(d)){const v=Jn(d),w=Ia(d,s),b=w[1].data;for(let A=0;A<8;A++)s[g+A]=w[v+A]|b[v+A]}return s[g+8]=d,g}function Iu(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Ro(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function pn(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){const g=d[1],v=g.type;if(l=2===v?g.declTNode:1===v?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Tu(i,s,a){!function Qh(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(mt)&&(l=a[mt]),null==l&&(l=a[mt]=vt++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Nl(i,s,a){if(a&Xe.Optional)return i;Ue(s,"NodeInjector")}function vi(i,s,a,l){if(a&Xe.Optional&&void 0===l&&(l=null),0==(a&(Xe.Self|Xe.Host))){const d=i[9],g=Pn(void 0);try{return d?d.get(s,l,a&Xe.Optional):Ys(s,l,a&Xe.Optional)}finally{Pn(g)}}return Nl(l,s,a)}function Pl(i,s,a,l=Xe.Default,d){if(null!==i){const g=function Cu(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(mt)?i[mt]:void 0;return"number"==typeof s?s>=0?255&s:ko:s}(a);if("function"==typeof g){if(!Al(s,i,l))return l&Xe.Host?Nl(d,a,l):vi(s,a,l,d);try{const v=g(l);if(null!=v||l&Xe.Optional)return v;Ue(a)}finally{_a()}}else if("number"==typeof g){let v=null,w=Ro(i,s),b=-1,A=l&Xe.Host?s[16][6]:null;for((-1===w||l&Xe.SkipSelf)&&(b=-1===w?pn(i,s):s[w+8],-1!==b&&oo(l,!1)?(v=s[1],w=Jn(b),s=Ia(b,s)):w=-1);-1!==w;){const x=s[1];if(Lo(g,w,x.data)){const k=Da(w,s,a,v,l,A);if(k!==Po)return k}b=s[w+8],-1!==b&&oo(l,s[1].data[w+8]===A)&&Lo(g,w,s)?(v=x,w=Jn(b),s=Ia(b,s)):w=-1}}}return vi(s,a,l,d)}const Po={};function ko(){return new Zn(Qt(),Ce())}function Da(i,s,a,l,d,g){const v=s[1],w=v.data[i+8],x=Fo(w,v,a,null==l?Dn(w)&&dd:l!=v&&0!=(3&w.type),d&Xe.Host&&g===w);return null!==x?xn(s,v,x,w):Po}function Fo(i,s,a,l,d){const g=i.providerIndexes,v=s.data,w=1048575&g,b=i.directiveStart,x=g>>20,j=d?w+x:i.directiveEnd;for(let K=l?w:w+x;K<j;K++){const fe=v[K];if(K<b&&a===fe||K>=b&&fe.type===a)return K}if(d){const K=v[b];if(K&&ji(K)&&K.type===a)return b}return null}function xn(i,s,a,l){let d=i[a];const g=s.data;if(function Kh(i){return i instanceof dn}(d)){const v=d;v.resolving&&function pe(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Me(-200,`Circular dependency in DI detected for ${i}${a}`)}(te(g[a]));const w=Ta(v.canSeeViewProviders);v.resolving=!0;const b=v.injectImpl?Pn(v.injectImpl):null;Al(i,l,Xe.Default);try{d=i[a]=v.factory(void 0,g,i,l),s.firstCreatePass&&a>=l.directiveStart&&function zh(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=s.type.prototype;if(l){const v=io(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],s)}finally{null!==b&&Pn(b),Ta(w),v.resolving=!1,_a()}}return d}function Lo(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function oo(i,s){return!(i&Xe.Self||i&Xe.Host&&s)}class Zn{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Pl(this._tNode,this._lView,s,l,a)}}function gn(i){return nt(()=>{const s=i.prototype.constructor,a=s[Ze]||Aa(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const g=d[Ze]||Aa(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Aa(i){return Le(i)?()=>{const s=Aa(J(i));return s&&s()}:ro(i)}function Mn(i){return function No(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(an(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===s)return a[d+1];d+=2}}}return null}(Qt(),i)}const _i="__parameters__";function $r(i,s,a){return nt(()=>{const l=function hr(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return w.annotation=v,w;function w(b,A,x){const k=b.hasOwnProperty(_i)?b[_i]:Object.defineProperty(b,_i,{value:[]})[_i];for(;k.length<=x;)k.push(null);return(k[x]=k[x]||[]).push(v),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Vt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=zt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Uo=new Vt("AnalyzeForEntryComponents");function ri(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),ri(l,s)):s!==i&&s.push(l)}return s}function Ei(i,s){i.forEach(a=>Array.isArray(a)?Ei(a,s):s(a))}function fd(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function xa(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ut(i,s,a){let l=Gr(i,s);return l>=0?i[1|l]=a:(l=~l,function jo(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Oa(i,s){const a=Gr(i,s);if(a>=0)return i[1|a]}function Gr(i,s){return function Ll(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const g=l+(d-l>>1),v=i[g<<a];if(s===v)return g<<a;v>s?d=g:l=g+1}return~(d<<a)}(i,s,1)}const hn={},yd="__NG_DI_FLAG__",Na="ngTempTokenPath",Au=/\n/gm,Su="__source",I=ce({provide:String,useValue:ce});let T;function M(i){const s=T;return T=i,s}function F(i,s=Xe.Default){if(void 0===T)throw new Me(203,"");return null===T?Ys(i,void 0,s):T.get(i,s&Xe.Optional?null:void 0,s)}function $(i,s=Xe.Default){return(function Bt(){return ni}()||F)(J(i),s)}function He(i){const s=[];for(let a=0;a<i.length;a++){const l=J(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Me(900,"");let d,g=Xe.Default;for(let v=0;v<l.length;v++){const w=l[v],b=kt(w);"number"==typeof b?-1===b?d=w.token:g|=b:d=w}s.push($(d,g))}else s.push($(l))}return s}function Be(i,s){return i[yd]=s,i.prototype[yd]=s,i}function kt(i){return i[yd]}const qn=Be($r("Inject",i=>({token:i})),-1),Jt=Be($r("Optional"),8),Ti=Be($r("SkipSelf"),4);class Zl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function qo(i){return i instanceof Zl?i.changingThisBreaksApplicationSecurity:i}const Ly=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Td=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var rn=(()=>((rn=rn||{})[rn.NONE=0]="NONE",rn[rn.HTML=1]="HTML",rn[rn.STYLE=2]="STYLE",rn[rn.SCRIPT=3]="SCRIPT",rn[rn.URL=4]="URL",rn[rn.RESOURCE_URL=5]="RESOURCE_URL",rn))();function Lu(i){const s=function Uu(){const i=Ce();return i&&i[12]}();return s?s.sanitize(rn.URL,i)||"":function Pa(i,s){const a=function Ny(i){return i instanceof Zl&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?qo(i):function Pu(i){return(i=String(i)).match(Ly)||i.match(Td)?i:"unsafe:"+i}(z(i))}const Kl="__ngContext__";function sr(i,s){i[Kl]=s}function wf(i){const s=function Va(i){return i[Kl]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function If(i){return i.ngOriginalError}function Ho(i,...s){i.error(...s)}class Xl{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function Gy(i){return i&&i.ngErrorLogger||Ho}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&If(s);for(;a&&If(a);)a=If(a);return a||null}}const Md=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(dt))();function lo(i){return i instanceof Function?i():i}var Fs=(()=>((Fs=Fs||{})[Fs.Important=1]="Important",Fs[Fs.DashCase=2]="DashCase",Fs))();function Od(i,s){return undefined(i,s)}function Ba(i){const s=i[3];return hi(s)?s[3]:s}function tc(i){return Rf(i[13])}function ja(i){return Rf(i[4])}function Rf(i){for(;null!==i&&!hi(i);)i=i[4];return i}function Vs(i,s,a,l,d){if(null!=l){let g,v=!1;hi(l)?g=l:di(l)&&(v=!0,l=l[0]);const w=Wt(l);0===i&&null!==a?null==d?Ge(s,a,w):We(s,a,w,d||null,!0):1===i&&null!==a?We(s,a,w,d||null,!0):2===i?function kd(i,s,a){const l=hs(i,s);l&&function or(i,s,a,l){Ht(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,w,v):3===i&&s.destroyNode(w),null!=g&&function sI(i,s,a,l,d){const g=a[7];g!==Wt(a)&&Vs(s,i,l,g,d);for(let w=10;w<a.length;w++){const b=a[w];Vf(b[1],b,i,s,l,g)}}(s,i,g,a,d)}}function nc(i,s,a){return Ht(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function p(i,s){const a=i[9],l=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Co(d,-1)),a.splice(l,1)}function _(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&p(d,l),s>0&&(i[a-1][4]=l[4]);const g=xa(i,10+s);!function ev(i,s){Vf(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function C(i,s){if(!(256&s[2])){const a=s[11];Ht(a)&&a.destroyNode&&Vf(i,s,a,3,null,null),function Nd(i){let s=i[13];if(!s)return S(i[1],i);for(;s;){let a=null;if(di(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)di(s)&&S(s[1],s),s=s[3];null===s&&(s=i),di(s)&&S(s[1],s),a=s&&s[4]}s=a}}(s)}}function S(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function ee(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof dn)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const w=d[g[v]],b=g[v+1];try{b.call(w)}finally{}}else try{g.call(d)}finally{}}}}(i,s),function V(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],w="function"==typeof v?v(s):Wt(s[v]),b=l[d=a[g+2]],A=a[g+3];"boolean"==typeof A?w.removeEventListener(a[g],b,A):A>=0?l[d=A]():l[d=-A].unsubscribe(),g+=2}else{const v=l[d=a[g+1]];a[g].call(v)}if(null!==l){for(let g=d+1;g<l.length;g++)l[g]();s[7]=null}}(i,s),1===s[1].type&&Ht(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&hi(s[3])){a!==s[3]&&p(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function Re(i,s,a){return function xe(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Dt.None||d===Dt.Emulated)return null}return An(l,a)}(i,s.parent,a)}function We(i,s,a,l,d){Ht(i)?i.insertBefore(s,a,l,d):s.insertBefore(a,l,d)}function Ge(i,s,a){Ht(i)?i.appendChild(s,a):s.appendChild(a)}function St(i,s,a,l,d){null!==l?We(i,s,a,l,d):Ge(i,s,a)}function hs(i,s){return Ht(i)?i.parentNode(s):s.parentNode}let kf=function Pf(i,s,a){return 40&i.type?An(i,a):null};function ic(i,s,a,l){const d=Re(i,l,s),g=s[11],w=function Pd(i,s,a){return kf(i,s,a)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)St(g,d,a[b],w,!1);else St(g,d,a,w,!1)}function ju(i,s){if(null!==s){const a=s.type;if(3&a)return An(s,i);if(4&a)return Lf(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return ju(i,l);{const d=i[s.index];return hi(d)?Lf(-1,d):Wt(d)}}if(32&a)return Od(s,i)()||Wt(i[s.index]);{const l=sc(i,s);return null!==l?Array.isArray(l)?l[0]:ju(Ba(i[16]),l):ju(i,s.next)}}return null}function sc(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Lf(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return ju(l,d)}return s[7]}function Fd(i,s,a,l,d,g,v){for(;null!=a;){const w=l[a.index],b=a.type;if(v&&0===s&&(w&&sr(Wt(w),l),a.flags|=4),64!=(64&a.flags))if(8&b)Fd(i,s,a.child,l,d,g,!1),Vs(s,i,d,w,g);else if(32&b){const A=Od(a,l);let x;for(;x=A();)Vs(s,i,d,x,g);Vs(s,i,d,w,g)}else 16&b?W0(i,s,l,a,d,g):Vs(s,i,d,w,g);a=v?a.projectionNext:a.next}}function Vf(i,s,a,l,d,g){Fd(a,l,i.firstChild,s,d,g,!1)}function W0(i,s,a,l,d,g){const v=a[16],b=v[6].projection[l.projection];if(Array.isArray(b))for(let A=0;A<b.length;A++)Vs(s,i,d,b[A],g);else Fd(i,s,b,v[3],d,g,!0)}function Zu(i,s,a){Ht(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Us(i,s,a){Ht(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Y0(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const g=s.length;if(d+g===l||i.charCodeAt(d+g)<=32)return d}a=d+1}}const Q0="ng-template";function aI(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==Y0(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function J0(i){return 4===i.type&&i.value!==Q0}function Uf(i,s,a){return s===(4!==i.type||a?i.value:Q0)}function qu(i,s,a){let l=4;const d=i.attrs||[],g=function YD(i){for(let s=0;s<i.length;s++)if(an(i[s]))return s;return i.length}(d);let v=!1;for(let w=0;w<s.length;w++){const b=s[w];if("number"!=typeof b){if(!v)if(4&l){if(l=2|1&l,""!==b&&!Uf(i,b,a)||""===b&&1===s.length){if(Bs(l))return!1;v=!0}}else{const A=8&l?b:s[++w];if(8&l&&null!==i.attrs){if(!aI(i.attrs,A,a)){if(Bs(l))return!1;v=!0}continue}const k=ii(8&l?"class":b,d,J0(i),a);if(-1===k){if(Bs(l))return!1;v=!0;continue}if(""!==A){let j;j=k>g?"":d[k+1].toLowerCase();const K=8&l?j:null;if(K&&-1!==Y0(K,A,0)||2&l&&A!==j){if(Bs(l))return!1;v=!0}}}}else{if(!v&&!Bs(l)&&!Bs(b))return!1;if(v&&Bs(b))continue;v=!1,l=b|1&l}}return Bs(l)||v}function Bs(i){return 0==(1&i)}function ii(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let g=!1;for(;d<s.length;){const v=s[d];if(v===i)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function X0(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function Za(i,s,a=!1){for(let l=0;l<s.length;l++)if(qu(i,s[l],a))return!0;return!1}function nv(i,s){return i?":not("+s.trim()+")":s}function tw(i){let s=i[0],a=1,l=2,d="",g=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&l){const w=i[++a];d+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!Bs(v)&&(s+=nv(g,d),d=""),l=v,g=g||!Bs(l);a++}return""!==d&&(s+=nv(g,d)),s}const Et={};function rv(i){Ld(At(),Ce(),Qn()+i,So())}function Ld(i,s,a,l){if(!l)if(3==(3&s[2])){const g=i.preOrderCheckHooks;null!==g&&Ss(s,g,a)}else{const g=i.preOrderHooks;null!==g&&wu(s,g,0,a)}Sn(a)}function Bf(i,s){return i<<17|s<<2}function js(i){return i>>17&32767}function Ag(i){return 2|i}function zo(i){return(131068&i)>>2}function jf(i,s){return-131069&i|s<<2}function Zf(i){return 1|i}function yI(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if(-1!==g){const v=i.data[g];ya(d),v.contentQueries(2,s[g],g)}}}function Hf(i,s,a,l,d,g,v,w,b,A){const x=s.blueprint.slice();return x[0]=d,x[2]=140|l,Ds(x),x[3]=x[15]=i,x[8]=a,x[10]=v||i&&i[10],x[11]=w||i&&i[11],x[12]=b||i&&i[12]||null,x[9]=A||i&&i[9]||null,x[6]=g,x[16]=2==s.type?i[16]:x,x}function lc(i,s,a,l,d){let g=i.data[s];if(null===g)g=function $f(i,s,a,l,d){const g=so(),v=ss(),b=i.data[s]=function _I(i,s,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=b),null!==g&&(v?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(i,s,a,l,d),function id(){return ht.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const v=function As(){const i=ht.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Hr(g,!0),g}function qa(i,s,a,l){if(0===a)return-1;const d=s.length;for(let g=0;g<a;g++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function Fg(i,s,a){Oo(s);try{const l=i.viewQuery;null!==l&&Av(1,l,a);const d=i.template;null!==d&&zf(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&yI(i,s),i.staticViewQueries&&Av(2,i.viewQuery,a);const g=i.components;null!==g&&function hv(i,s){for(let a=0;a<s.length;a++)Qf(i,s[a])}(s,g)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,_u()}}function $u(i,s,a,l){const d=s[2];if(256==(256&d))return;Oo(s);const g=So();try{Ds(s),function yu(i){return ht.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&zf(i,s,a,2,l);const v=3==(3&d);if(!g)if(v){const A=i.preOrderCheckHooks;null!==A&&Ss(s,A,null)}else{const A=i.preOrderHooks;null!==A&&wu(s,A,0,null),Eu(s,0)}if(function CI(i){for(let s=tc(i);null!==s;s=ja(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],g=d[3];0==(1024&d[2])&&Co(g,1),d[2]|=1024}}}(s),function bv(i){for(let s=tc(i);null!==s;s=ja(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];qi(l)&&$u(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&yI(i,s),!g)if(v){const A=i.contentCheckHooks;null!==A&&Ss(s,A)}else{const A=i.contentHooks;null!==A&&wu(s,A,1),Eu(s,1)}!function mI(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Sn(~d);else{const g=d,v=a[++l],w=a[++l];vu(v,g),w(2,s[g])}}}finally{Sn(-1)}}(i,s);const w=i.components;null!==w&&function vI(i,s){for(let a=0;a<s.length;a++)yw(i,s[a])}(s,w);const b=i.viewQuery;if(null!==b&&Av(2,b,l),!g)if(v){const A=i.viewCheckHooks;null!==A&&Ss(s,A)}else{const A=i.viewHooks;null!==A&&wu(s,A,2),Eu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Co(s[3],-1))}finally{_u()}}function Gf(i,s,a,l){const d=s[10],g=!So(),v=Bn(s);try{g&&!v&&d.begin&&d.begin(),v&&Fg(i,s,l),$u(i,s,a,l)}finally{g&&!v&&d.end&&d.end()}}function zf(i,s,a,l,d){const g=Qn(),v=2&l;try{Sn(-1),v&&s.length>20&&Ld(i,s,20,So()),a(l,d)}finally{Sn(g)}}function Lg(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Wf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Wf(i,s,a,l,d,g,v,w,b,A){const x=20+l,k=x+d,j=function pv(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Et);return a}(x,k),K="function"==typeof A?A():A;return j[1]={type:i,blueprint:j,template:a,queries:null,viewQuery:w,declTNode:s,data:j.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:b,consts:K,incompleteFirstPass:!1}}function Vg(i,s,a,l){const d=ww(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&Sv(i).push(l,d.length-1))}function yv(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function Mi(i,s,a,l,d,g,v,w){const b=An(s,a);let x,A=s.inputs;!w&&null!=A&&(x=A[l])?(jg(i,a,x,l,d),Dn(s)&&function Wo(i,s){const a=br(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function cw(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=v?v(d,s.value||"",l):d,Ht(g)?g.setProperty(b,l,d):xs(l)||(b.setProperty?b.setProperty(l,d):b[l]=d))}function wI(i,s,a,l,d,g){const v=g.hostBindings;if(v){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const b=~s.index;(function sA(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=b&&w.push(b),w.push(l,d,v)}}function vv(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function _v(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function wv(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;ji(s)&&(a[""]=i)}}function gw(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Yf(i,s,a,l,d){i.data[l]=d;const g=d.factory||(d.factory=ro(d.type)),v=new dn(g,ji(d),null);i.blueprint[l]=v,a[l]=v,wI(i,s,0,l,qa(i,a,d.hostVars,Et),d)}function II(i,s,a){const l=An(s,i),d=Lg(a),g=i[10],v=jd(i,Hf(i,d,null,a.onPush?64:16,l,s,g,g.createRenderer(l,a),null,null));i[s.index]=v}function Ha(i,s,a,l,d,g){const v=An(i,s);!function Ug(i,s,a,l,d,g,v){if(null==g)Ht(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const w=null==v?z(g):v(g,l||"",d);Ht(i)?i.setAttribute(s,d,w,a):a?s.setAttributeNS(a,d,w):s.setAttribute(d,w)}}(s[11],v,g,i.value,a,l,d)}function TI(i,s,a,l,d,g){const v=g[s];if(null!==v){const w=l.setInput;for(let b=0;b<v.length;){const A=v[b++],x=v[b++],k=v[b++];null!==w?l.setInput(a,k,A,x):a[x]=k}}}function mw(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function yw(i,s){const a=br(s,i);if(qi(a)){const l=a[1];80&a[2]?$u(l,a,l.template,a[8]):a[5]>0&&Iv(a)}}function Iv(i){for(let l=tc(i);null!==l;l=ja(l))for(let d=10;d<l.length;d++){const g=l[d];if(1024&g[2]){const v=g[1];$u(v,g,v.template,g[8])}else g[5]>0&&Iv(g)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=br(a[l],i);qi(d)&&d[5]>0&&Iv(d)}}function Qf(i,s){const a=br(s,i),l=a[1];(function DI(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Fg(l,a,a[8])}function jd(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Tv(i){for(;i;){i[2]|=64;const s=Ba(i);if($c(i)&&!s)return i;i=s}return null}function Dv(i,s,a){const l=s[10];l.begin&&l.begin();try{$u(i,s,i.template,a)}catch(d){throw xI(s,d),d}finally{l.end&&l.end()}}function Jf(i){!function Bg(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=wf(a),d=l[1];Gf(d,l,d.template,a)}}(i[8])}function Av(i,s,a){ya(0),s(i,a)}const SI=(()=>Promise.resolve(null))();function ww(i){return i[7]||(i[7]=[])}function Sv(i){return i.cleanup||(i.cleanup=[])}function xI(i,s){const a=i[9],l=a?a.get(Xl,null):null;l&&l.handleError(s)}function jg(i,s,a,l,d){for(let g=0;g<a.length;){const v=a[g++],w=a[g++],b=s[v],A=i.data[v];null!==A.setInput?A.setInput(b,d,l,w):b[w]=d}}function $a(i,s,a){const l=Un(s,i);!function Nf(i,s,a){Ht(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function Xf(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,g=0;if(null!==s)for(let v=0;v<s.length;v++){const w=s[v];"number"==typeof w?g=w:1==g?d=ue(d,w):2==g&&(l=ue(l,w+": "+s[++v]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}const Zg=new Vt("INJECTOR",-1);class Iw{get(s,a=hn){if(a===hn){const l=new Error(`NullInjectorError: No provider for ${oe(s)}!`);throw l.name="NullInjectorError",l}return a}}const qg=new Vt("Set Injector scope."),tp={},MI={};let np;function xv(){return void 0===np&&(np=new Iw),np}function Tw(i,s=null,a=null,l){const d=Mv(i,s,a,l);return d._resolveInjectorDefTypes(),d}function Mv(i,s=null,a=null,l){return new OI(i,a,s||xv(),l)}class OI{constructor(s,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&Ei(a,w=>this.processProvider(w,s,a)),Ei([s],w=>this.processInjectorType(w,[],g)),this.records.set(Zg,hc(void 0,this));const v=this.records.get(qg);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof s?null:oe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=hn,l=Xe.Default){this.assertNotDestroyed();const d=M(this),g=Pn(void 0);try{if(!(l&Xe.SkipSelf)){let w=this.records.get(s);if(void 0===w){const b=function fA(i){return"function"==typeof i||"object"==typeof i&&i instanceof Vt}(s)&&vn(s);w=b&&this.injectableDefInScope(b)?hc(Hg(s),tp):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&Xe.Self?xv():this.parent).get(s,a=l&Xe.Optional&&a===hn?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Na]=v[Na]||[]).unshift(oe(s)),d)throw v;return function $t(i,s,a,l){const d=i[Na];throw s[Su]&&d.unshift(s[Su]),i.message=function Cr(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=oe(s);if(Array.isArray(s))d=s.map(oe).join(" -> ");else if("object"==typeof s){let g=[];for(let v in s)if(s.hasOwnProperty(v)){let w=s[v];g.push(v+":"+("string"==typeof w?JSON.stringify(w):oe(w)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(Au,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[Na]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{Pn(g),M(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(oe(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,"")}processInjectorType(s,a,l){if(!(s=J(s)))return!1;let d=Ks(s);const g=null==d&&s.ngModule||void 0,v=void 0===g?s:g,w=-1!==l.indexOf(v);if(void 0!==g&&(d=Ks(g)),null==d)return!1;if(null!=d.imports&&!w){let x;l.push(v);try{Ei(d.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===x&&(x=[]),x.push(k))})}finally{}if(void 0!==x)for(let k=0;k<x.length;k++){const{ngModule:j,providers:K}=x[k];Ei(K,fe=>this.processProvider(fe,j,K||L))}}this.injectorDefTypes.add(v);const b=ro(v)||(()=>new v);this.records.set(v,hc(b,tp));const A=d.providers;if(null!=A&&!w){const x=s;Ei(A,k=>this.processProvider(k,x,A))}return void 0!==g&&void 0!==s.providers}processProvider(s,a,l){let d=Zd(s=J(s))?s:J(s&&s.provide);const g=function Cw(i,s,a){return NI(i)?hc(void 0,i.useValue):hc(Dw(i),tp)}(s);if(Zd(s)||!0!==s.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=hc(void 0,tp,!0),v.factory=()=>He(v.multi),this.records.set(d,v)),d=s,v.multi.push(s)}this.records.set(d,g)}hydrate(s,a){return a.value===tp&&(a.value=MI,a.value=a.factory()),"object"==typeof a.value&&a.value&&function hA(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=J(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Hg(i){const s=vn(i),a=null!==s?s.factory:ro(i);if(null!==a)return a;if(i instanceof Vt)throw new Me(204,"");if(i instanceof Function)return function RI(i){const s=i.length;if(s>0)throw function uo(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new Me(204,"");const a=function Pt(i){const s=i&&(i[Ur]||i[De]);if(s){const a=function un(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Me(204,"")}function Dw(i,s,a){let l;if(Zd(i)){const d=J(i);return ro(d)||Hg(d)}if(NI(i))l=()=>J(i.useValue);else if(function cA(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...He(i.deps||[]));else if(function lA(i){return!(!i||!i.useExisting)}(i))l=()=>$(J(i.useExisting));else{const d=J(i&&(i.useClass||i.provide));if(!function PI(i){return!!i.deps}(i))return ro(d)||Hg(d);l=()=>new d(...He(i.deps))}return l}function hc(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function NI(i){return null!==i&&"object"==typeof i&&I in i}function Zd(i){return"function"==typeof i}let ho=(()=>{class i{static create(a,l){var d;if(Array.isArray(a))return Tw({name:""},l,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return Tw({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=hn,i.NULL=new Iw,i.\u0275prov=zt({token:i,providedIn:"any",factory:()=>$(Zg)}),i.__NG_ELEMENT_ID__=-1,i})();function Wg(i,s){Ml(wf(i)[1],Qt())}function Nv(i){let s=function za(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if(ji(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Me(903,"");d=s.\u0275dir}if(d){if(a){l.push(d);const v=i;v.inputs=Kg(i.inputs),v.declaredInputs=Kg(i.declaredInputs),v.outputs=Kg(i.outputs);const w=d.hostBindings;w&&Nw(i,w);const b=d.viewQuery,A=d.contentQueries;if(b&&Rw(i,b),A&&VI(i,A),ie(i.inputs,d.inputs),ie(i.declaredInputs,d.declaredInputs),ie(i.outputs,d.outputs),ji(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const w=g[v];w&&w.ngInherit&&w(i),w===Nv&&(a=!1)}}s=Object.getPrototypeOf(s)}!function LI(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=Ye(d.hostAttrs,a=Ye(a,d.hostAttrs))}}(l)}function Kg(i){return i===ns?{}:i===L?[]:i}function Rw(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function VI(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,g)=>{s(l,d,g),a(l,d,g)}:s}function Nw(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let xr=null;function Wu(){if(!xr){const i=dt.Symbol;if(i&&i.iterator)xr=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(xr=l)}}}return xr}function qd(i){return!!Qg(i)&&(Array.isArray(i)||!(i instanceof Map)&&Wu()in i)}function Qg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Mr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Xg(i,s,a,l){const d=Ce();return Mr(d,os(),s)&&(At(),Ha(cn(),d,i,s,a,l)),Xg}function pc(i,s,a,l){return Mr(i,os(),a)?s+z(a)+l:Et}function Ko(i,s=Xe.Default){const a=Ce();return null===a?$(i,s):Pl(Qt(),a,J(i),s)}function Ww(){throw new Error("invalid")}function zv(i,s,a){const l=Ce();return Mr(l,os(),s)&&Mi(At(),cn(),l,i,s,l[11],a,!1),zv}function Ka(i,s,a,l,d){const v=d?"class":"style";jg(i,a,s.inputs[v],v,l)}function Xd(i,s,a,l){const d=Ce(),g=At(),v=20+i,w=d[11],b=d[v]=nc(w,s,function ad(){return ht.lFrame.currentNamespace}()),A=g.firstCreatePass?function Kw(i,s,a,l,d,g,v){const w=s.consts,A=lc(s,i,2,d,Ir(w,g));return function fw(i,s,a,l){let d=!1;if(Ao()){const g=function bI(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];Za(a,v.selectors,!1)&&(d||(d=[]),Tu(Ca(a,s),i,v.type),ji(v)?(_v(i,a),d.unshift(v)):d.push(v))}return d}(i,s,a),v=null===l?null:{"":-1};if(null!==g){d=!0,gw(a,i.data.length,g.length);for(let x=0;x<g.length;x++){const k=g[x];k.providersResolver&&k.providersResolver(k)}let w=!1,b=!1,A=qa(i,s,g.length,null);for(let x=0;x<g.length;x++){const k=g[x];a.mergedAttrs=Ye(a.mergedAttrs,k.hostAttrs),Yf(i,a,s,A,k),wv(A,k,v),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const j=k.type.prototype;!w&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!b&&(j.ngOnChanges||j.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),A++}!function lw(i,s){const l=s.directiveEnd,d=i.data,g=s.attrs,v=[];let w=null,b=null;for(let A=s.directiveStart;A<l;A++){const x=d[A],k=x.inputs,j=null===g||J0(s)?null:mw(k,g);v.push(j),w=yv(k,A,w),b=yv(x.outputs,A,b)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=w,s.outputs=b}(i,a)}v&&function pw(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const g=a[s[d+1]];if(null==g)throw new Me(-301,`Export of name '${s[d+1]}' not found!`);l.push(s[d],g)}}}(a,l,v)}return a.mergedAttrs=Ye(a.mergedAttrs,a.attrs),d}(s,a,A,Ir(w,v)),null!==A.attrs&&Xf(A,A.attrs,!1),null!==A.mergedAttrs&&Xf(A,A.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,A),A}(v,g,d,0,s,a,l):g.data[v];Hr(A,!0);const x=A.mergedAttrs;null!==x&&Ol(w,b,x);const k=A.classes;null!==k&&Us(w,b,k);const j=A.styles;null!==j&&Zu(w,b,j),64!=(64&A.flags)&&ic(g,d,b,A),0===function da(){return ht.lFrame.elementDepthCount}()&&sr(b,d),function ha(){ht.lFrame.elementDepthCount++}(),rs(A)&&(function dc(i,s,a){!Ao()||(function oA(i,s,a,l){const d=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||Ca(a,s),sr(l,s);const v=a.initialInputs;for(let w=d;w<g;w++){const b=i.data[w],A=ji(b);A&&II(s,a,b);const x=xn(s,i,w,a);sr(x,s),null!==v&&TI(0,w-d,x,b,0,v),A&&(br(a.index,s)[8]=x)}}(i,s,a,An(a,s)),128==(128&a.flags)&&function EI(i,s,a){const l=a.directiveStart,d=a.directiveEnd,v=a.index,w=function pa(){return ht.lFrame.currentDirectiveIndex}();try{Sn(v);for(let b=l;b<d;b++){const A=i.data[b],x=s[b];Mo(b),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&vv(A,x)}}finally{Sn(-1),Mo(w)}}(i,s,a))}(g,d,A),function cc(i,s,a){if(Hc(s)){const d=s.directiveEnd;for(let g=s.directiveStart;g<d;g++){const v=i.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,A,d)),null!==l&&function fv(i,s,a=An){const l=s.localNames;if(null!==l){let d=s.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],w=-1===v?a(s,i):i[v];i[d++]=w}}}(d,A)}function cm(){let i=Qt();ss()?function pu(){ht.lFrame.isParent=!1}():(i=i.parent,Hr(i,!1));const s=i;!function Do(){ht.lFrame.elementDepthCount--}();const a=At();a.firstCreatePass&&(Ml(a,i),Hc(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function ld(i){return 0!=(16&i.flags)}(s)&&Ka(a,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ba(i){return 0!=(32&i.flags)}(s)&&Ka(a,s,Ce(),s.stylesWithoutHost,!1)}function eh(i,s,a,l){Xd(i,s,a,l),cm()}function op(i){return!!i&&"function"==typeof i.then}function Kv(i){return!!i&&"function"==typeof i.subscribe}const Yv=Kv;function mc(i,s,a,l){const d=Ce(),g=At(),v=Qt();return function fm(i,s,a,l,d,g,v,w){const b=rs(l),x=i.firstCreatePass&&Sv(i),k=s[8],j=ww(s);let K=!0;if(3&l.type||w){const Ve=An(l,s),Qe=w?w(Ve):Ve,we=j.length,ft=w?Ot=>w(Wt(Ot[l.index])):l.index;if(Ht(a)){let Ot=null;if(!w&&b&&(Ot=function Qv(i,s,a,l){const d=i.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===l){const w=s[7],b=d[g+2];return w.length>b?w[b]:null}"string"==typeof v&&(g+=2)}return null}(i,s,d,l.index)),null!==Ot)(Ot.__ngLastListenerFn__||Ot).__ngNextListenerFn__=g,Ot.__ngLastListenerFn__=g,K=!1;else{g=yc(l,s,k,g,!1);const en=a.listen(Qe,d,g);j.push(g,en),x&&x.push(d,ft,we,we+1)}}else g=yc(l,s,k,g,!0),Qe.addEventListener(d,g,v),j.push(g),x&&x.push(d,ft,we,v)}else g=yc(l,s,k,g,!1);const fe=l.outputs;let Oe;if(K&&null!==fe&&(Oe=fe[d])){const Ve=Oe.length;if(Ve)for(let Qe=0;Qe<Ve;Qe+=2){const Fi=s[Oe[Qe]][Oe[Qe+1]].subscribe(g),ta=j.length;j.push(g,Fi),x&&x.push(d,l.index,ta,-(ta+1))}}}(g,d,d[11],v,i,s,!!a,l),mc}function ap(i,s,a,l){try{return!1!==a(l)}catch(d){return xI(i,d),!1}}function yc(i,s,a,l,d){return function g(v){if(v===Function)return l;const w=2&i.flags?br(i.index,s):s;0==(32&s[2])&&Tv(w);let b=ap(s,0,l,v),A=g.__ngNextListenerFn__;for(;A;)b=ap(s,0,A,v)&&b,A=A.__ngNextListenerFn__;return d&&!1===b&&(v.preventDefault(),v.returnValue=!1),b}}function up(i,s,a,l,d){const g=Ce(),v=pc(g,s,a,l);return v!==Et&&Mi(At(),cn(),g,i,v,g[11],d,!1),up}function vc(i,s,a,l,d){const g=i[a+1],v=null===s;let w=l?js(g):zo(g),b=!1;for(;0!==w&&(!1===b||v);){const x=i[w+1];r_(i[w],s)&&(b=!0,i[w+1]=l?Zf(x):Ag(x)),w=l?js(x):zo(x)}b&&(i[a+1]=l?Ag(g):Zf(g))}function r_(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Gr(i,s)>=0}function _m(i,s){return function Ni(i,s,a,l){const d=Ce(),g=At(),v=function mi(i){const s=ht.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);g.firstUpdatePass&&function o_(i,s,a,l){const d=i.data;if(null===d[a+1]){const g=d[Qn()],v=function s_(i,s){return s>=i.expandoStartIndex}(i,a);(function iE(i,s){return 0!=(i.flags&(s?16:32))})(g,l)&&null===s&&!v&&(s=!1),s=function nE(i,s,a,l){const d=function ga(i){const s=ht.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let g=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=hp(a=wm(null,i,s,a,l),s.attrs,l),g=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==d)if(a=wm(d,i,s,a,l),null===g){let b=function sh(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==zo(l))return i[js(l)]}(i,s,l);void 0!==b&&Array.isArray(b)&&(b=wm(null,i,s,b[1],l),b=hp(b,s.attrs,l),function rT(i,s,a,l){i[js(a?s.classBindings:s.styleBindings)]=l}(i,s,l,b))}else g=function iT(i,s,a){let l;const d=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<d;g++)l=hp(l,i[g].hostAttrs,a);return hp(l,s.attrs,a)}(i,s,l)}return void 0!==g&&(l?s.residualClasses=g:s.residualStyles=g),a}(d,g,s,l),function JI(i,s,a,l,d,g){let v=g?s.classBindings:s.styleBindings,w=js(v),b=zo(v);i[l]=a;let x,A=!1;if(Array.isArray(a)){const k=a;x=k[1],(null===x||Gr(k,x)>0)&&(A=!0)}else x=a;if(d)if(0!==b){const j=js(i[w+1]);i[l+1]=Bf(j,w),0!==j&&(i[j+1]=jf(i[j+1],l)),i[w+1]=function lI(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=Bf(w,0),0!==w&&(i[w+1]=jf(i[w+1],l)),w=l;else i[l+1]=Bf(b,0),0===w?w=l:i[b+1]=jf(i[b+1],l),b=l;A&&(i[l+1]=Ag(i[l+1])),vc(i,x,l,!0),vc(i,x,l,!1),function n_(i,s,a,l,d){const g=d?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&Gr(g,s)>=0&&(a[l+1]=Zf(a[l+1]))}(s,x,i,l,g),v=Bf(w,b),g?s.classBindings=v:s.styleBindings=v}(d,g,s,a,v,l)}}(g,i,v,l),s!==Et&&Mr(d,v,s)&&function Em(i,s,a,l,d,g,v,w){if(!(3&s.type))return;const b=i.data,A=b[w+1];fp(function ov(i){return 1==(1&i)}(A)?l_(b,s,a,d,zo(A),v):void 0)||(fp(g)||function sv(i){return 2==(2&i)}(A)&&(g=l_(b,null,a,d,w,v)),function K0(i,s,a,l,d){const g=Ht(i);if(s)d?g?i.addClass(a,l):a.classList.add(l):g?i.removeClass(a,l):a.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:Fs.DashCase;if(null==d)g?i.removeStyle(a,l,v):a.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),v|=Fs.Important),g?i.setStyle(a,l,d,v):a.style.setProperty(l,d,w?"important":"")}}}(l,v,Un(Qn(),a),d,g))}(g,g.data[Qn()],d,d[11],i,d[v+1]=function c_(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=oe(qo(i)))),i}(s,a),l,v)}(i,s,null,!0),_m}function wm(i,s,a,l,d){let g=null;const v=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<v&&(g=s[w],l=hp(l,g.hostAttrs,d),g!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function hp(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let g=0;g<s.length;g++){const v=s[g];"number"==typeof v?d=v:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ut(i,v,!!a||s[++g]))}return void 0===i?null:i}function l_(i,s,a,l,d,g){const v=null===s;let w;for(;d>0;){const b=i[d],A=Array.isArray(b),x=A?b[1]:b,k=null===x;let j=a[d+1];j===Et&&(j=k?L:void 0);let K=k?Oa(j,l):x===l?j:void 0;if(A&&!fp(K)&&(K=Oa(b,l)),fp(K)&&(w=K,v))return w;const fe=i[d+1];d=v?js(fe):zo(fe)}if(null!==s){let b=g?s.residualClasses:s.residualStyles;null!=b&&(w=Oa(b,l))}return w}function fp(i){return void 0!==i}function sE(i,s=""){const a=Ce(),l=At(),d=i+20,g=l.firstCreatePass?lc(l,d,1,s,null):l.data[d],v=a[d]=function Rd(i,s){return Ht(i)?i.createText(s):i.createTextNode(s)}(a[11],s);ic(l,a,v,g),Hr(g,!1)}function Ec(i,s,a){const l=Ce(),d=pc(l,i,s,a);return d!==Et&&$a(l,Qn(),d),Ec}const Xo=void 0;var yE=["en",[["a","p"],["AM","PM"],Xo],[["AM","PM"],Xo,Xo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xo,"{1} 'at' {0}",Xo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mE(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Zs={};function Sm(i){const s=function vE(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=yp(s);if(a)return a;const l=s.split("-")[0];if(a=yp(l),a)return a;if("en"===l)return yE;throw new Error(`Missing locale data for the locale "${i}".`)}function __(i){return Sm(i)[gt.PluralCase]}function yp(i){return i in Zs||(Zs[i]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[i]),Zs[i]}var gt=(()=>((gt=gt||{})[gt.LocaleId=0]="LocaleId",gt[gt.DayPeriodsFormat=1]="DayPeriodsFormat",gt[gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",gt[gt.DaysFormat=3]="DaysFormat",gt[gt.DaysStandalone=4]="DaysStandalone",gt[gt.MonthsFormat=5]="MonthsFormat",gt[gt.MonthsStandalone=6]="MonthsStandalone",gt[gt.Eras=7]="Eras",gt[gt.FirstDayOfWeek=8]="FirstDayOfWeek",gt[gt.WeekendRange=9]="WeekendRange",gt[gt.DateFormat=10]="DateFormat",gt[gt.TimeFormat=11]="TimeFormat",gt[gt.DateTimeFormat=12]="DateTimeFormat",gt[gt.NumberSymbols=13]="NumberSymbols",gt[gt.NumberFormats=14]="NumberFormats",gt[gt.CurrencyCode=15]="CurrencyCode",gt[gt.CurrencySymbol=16]="CurrencySymbol",gt[gt.CurrencyName=17]="CurrencyName",gt[gt.Currencies=18]="Currencies",gt[gt.Directionality=19]="Directionality",gt[gt.PluralCase=20]="PluralCase",gt[gt.ExtraData=21]="ExtraData",gt))();const xm="en-US";let vp=xm;function Cc(i,s,a,l,d){if(i=J(i),Array.isArray(i))for(let g=0;g<i.length;g++)Cc(i[g],s,a,l,d);else{const g=At(),v=Ce();let w=Zd(i)?i:J(i.provide),b=Dw(i);const A=Qt(),x=1048575&A.providerIndexes,k=A.directiveStart,j=A.providerIndexes>>20;if(Zd(i)||!i.multi){const K=new dn(b,d,Ko),fe=yh(w,s,d?x:x+j,k);-1===fe?(Tu(Ca(A,v),g,w),S_(g,i,s.length),s.push(w),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(K),v.push(K)):(a[fe]=K,v[fe]=K)}else{const K=yh(w,s,x+j,k),fe=yh(w,s,x,x+j),Oe=K>=0&&a[K],Ve=fe>=0&&a[fe];if(d&&!Ve||!d&&!Oe){Tu(Ca(A,v),g,w);const Qe=function TT(i,s,a,l,d){const g=new dn(i,a,Ko);return g.multi=[],g.index=s,g.componentProviders=0,Dp(g,d,l&&!a),g}(d?IT:Pi,a.length,d,l,b);!d&&Ve&&(a[fe].providerFactory=Qe),S_(g,i,s.length,0),s.push(w),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(Qe),v.push(Qe)}else S_(g,i,K>-1?K:fe,Dp(a[d?fe:K],b,!d&&l));!d&&l&&Ve&&a[fe].componentProviders++}}}function S_(i,s,a,l){const d=Zd(s),g=function dA(i){return!!i.useClass}(s);if(d||g){const b=(g?J(s.useClass):s).prototype.ngOnDestroy;if(b){const A=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const x=A.indexOf(a);-1===x?A.push(a,[l,b]):A[x+1].push(l,b)}else A.push(a,b)}}}function Dp(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function yh(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function Pi(i,s,a,l){return x_(this.multi,[])}function IT(i,s,a,l){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=xn(a,a[1],this.providerFactory.index,l);g=w.slice(0,v),x_(d,g);for(let b=v;b<w.length;b++)g.push(w[b])}else g=[],x_(d,g);return g}function x_(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function M_(i,s=[]){return a=>{a.providersResolver=(l,d)=>function xE(i,s,a){const l=At();if(l.firstCreatePass){const d=ji(i);Cc(a,l.data,l.blueprint,d,!0),Cc(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class ME{}class vh{resolveComponentFactory(s){throw function DT(i){const s=Error(`No component factory found for ${oe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Sp=(()=>{class i{}return i.NULL=new vh,i})();function RE(){return Dc(Qt(),Ce())}function Dc(i,s){return new fs(An(i,s))}let fs=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=RE,i})();function NE(i){return i instanceof fs?i.nativeElement:i}class Mp{}let Zm=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function R_(){const i=Ce(),a=br(Qt().index,i);return function O_(i){return i[11]}(di(a)?a:i)}(),i})(),N_=(()=>{class i{}return i.\u0275prov=zt({token:i,providedIn:"root",factory:()=>null}),i})();class Ac{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ps=new Ac("13.1.3"),qm={};function rl(i,s,a,l,d=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&l.push(Wt(g)),hi(g))for(let w=10;w<g.length;w++){const b=g[w],A=b[1].firstChild;null!==A&&rl(b[1],b,A,l)}const v=a.type;if(8&v)rl(i,s,a.child,l);else if(32&v){const w=Od(a,s);let b;for(;b=w();)l.push(b)}else if(16&v){const w=sc(s,a);if(Array.isArray(w))l.push(...w);else{const b=Ba(s[16]);rl(b[1],b,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class _h{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return rl(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(hi(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(_(s,l),xa(a,l))}this._attachedToViewContainer=!1}C(this._lView[1],this._lView)}onDestroy(s){Vg(this._lView[1],this._lView,null,s)}markForCheck(){Tv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Dv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function AI(i,s,a){fa(!0);try{Dv(i,s,a)}finally{fa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tv(i,s){Vf(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=s}}class P_ extends _h{constructor(s){super(s),this._view=s}detectChanges(){Jf(this._view)}checkNoChanges(){!function vw(i){fa(!0);try{Jf(i)}finally{fa(!1)}}(this._view)}get context(){return null}}class Hm extends Sp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=zn(s);return new $m(a,this.ngModule)}}function k_(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const PE=new Vt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Md});class $m extends ME{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function nw(i){return i.map(tw).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return k_(this.componentDef.inputs)}get outputs(){return k_(this.componentDef.outputs)}create(s,a,l,d){const g=(d=d||this.ngModule)?function kE(i,s){return{get:(a,l,d)=>{const g=i.get(a,qm,d);return g!==qm||l===qm?g:s.get(a,l,d)}}}(s,d.injector):s,v=g.get(Mp,Cs),w=g.get(N_,null),b=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=l?function mv(i,s,a){if(Ht(i))return i.selectRootElement(s,a===Dt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(b,l,this.componentDef.encapsulation):nc(v.createRenderer(null,this.componentDef),A,function AT(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(A)),k=this.componentDef.onPush?576:528,j=function Sr(i,s){return{components:[],scheduler:i||Md,clean:SI,playerHandler:s||null,flags:0}}(),K=Wf(0,null,null,1,0,null,null,null,null,null),fe=Hf(null,K,j,k,null,null,v,b,w,g);let Oe,Ve;Oo(fe);try{const Qe=function Mw(i,s,a,l,d,g){const v=a[1];a[20]=i;const b=lc(v,20,2,"#host",null),A=b.mergedAttrs=s.hostAttrs;null!==A&&(Xf(b,A,!0),null!==i&&(Ol(d,i,A),null!==b.classes&&Us(d,i,b.classes),null!==b.styles&&Zu(d,i,b.styles)));const x=l.createRenderer(i,s),k=Hf(a,Lg(s),null,s.onPush?64:16,a[20],b,l,x,g||null,null);return v.firstCreatePass&&(Tu(Ca(b,a),v,s.type),_v(v,b),gw(b,a.length,1)),jd(a,k),a[20]=k}(x,this.componentDef,fe,v,b);if(x)if(l)Ol(b,x,["ng-version",ps.full]);else{const{attrs:we,classes:ft}=function rw(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let g=i[l];if("string"==typeof g)2===d?""!==g&&s.push(g,i[++l]):8===d&&a.push(g);else{if(!Bs(d))break;d=g}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);we&&Ol(b,x,we),ft&&ft.length>0&&Us(b,x,ft.join(" "))}if(Ve=To(K,20),void 0!==a){const we=Ve.projection=[];for(let ft=0;ft<this.ngContentSelectors.length;ft++){const Ot=a[ft];we.push(null!=Ot?Array.from(Ot):null)}}Oe=function Ow(i,s,a,l,d){const g=a[1],v=function hw(i,s,a){const l=Qt();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Yf(i,l,s,qa(i,s,1,null),a));const d=xn(s,i,l.directiveStart,l);sr(d,s);const g=An(l,s);return g&&sr(g,s),d}(g,a,s);if(l.components.push(v),i[8]=v,d&&d.forEach(b=>b(v,s)),s.contentQueries){const b=Qt();s.contentQueries(1,v,b.directiveStart)}const w=Qt();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Sn(w.index),wI(a[1],w,0,w.directiveStart,w.directiveEnd,s),vv(s,v)),v}(Qe,this.componentDef,fe,j,[Wg]),Fg(K,fe,null)}finally{_u()}return new ST(this.componentType,Oe,Dc(Ve,fe),fe,Ve)}}class ST extends class CT{}{constructor(s,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new P_(d),this.componentType=s}get injector(){return new Zn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class yo{}class il{}const Sc=new Map;class LE extends yo{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Hm(this);const l=Wn(s);this._bootstrapComponents=lo(l.bootstrap),this._r3Injector=Mv(s,a,[{provide:yo,useValue:this},{provide:Sp,useValue:this.componentFactoryResolver}],oe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=ho.THROW_IF_NOT_FOUND,l=Xe.Default){return s===ho||s===yo||s===Zg?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class V_ extends il{constructor(s){super(),this.moduleType=s,null!==Wn(s)&&function Eh(i){const s=new Set;!function a(l){const d=Wn(l,!0),g=d.id;null!==g&&(function F_(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${oe(s)} vs ${oe(s.name)}`)}(g,Sc.get(g),l),Sc.set(g,l));const v=lo(d.imports);for(const w of v)s.has(w)||(s.add(w),a(w))}(i)}(s)}create(s){return new LE(this.moduleType,s)}}function sl(i){return s=>{setTimeout(i,void 0,s)}}const ea=class qE extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var d,g,v;let w=s,b=a||(()=>null),A=l;if(s&&"object"==typeof s){const k=s;w=null===(d=k.next)||void 0===d?void 0:d.bind(k),b=null===(g=k.error)||void 0===g?void 0:g.bind(k),A=null===(v=k.complete)||void 0===v?void 0:v.bind(k)}this.__isAsync&&(b=sl(b),w&&(w=sl(w)),A&&(A=sl(A)));const x=super.subscribe({next:w,error:b,complete:A});return s instanceof Y.w0&&s.add(x),x}};function $s(){return this._results[Wu()]()}class Z_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Wu(),l=Z_.prototype;l[a]||(l[a]=$s)}get changes(){return this._changes||(this._changes=new ea)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=ri(s);(this._changesDetected=!function tf(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],g=s[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Mc=(()=>{class i{}return i.__NG_ELEMENT_ID__=Xt,i})();const RT=Mc,NT=class extends RT{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=Hf(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),Fg(a,l,s),new _h(l)}};function Xt(){return Jm(Qt(),Ce())}function Jm(i,s){return 4&i.type?new NT(s,i,Dc(i,s)):null}let Oc=(()=>{class i{}return i.__NG_ELEMENT_ID__=Rp,i})();function Rp(){return H_(Qt(),Ce())}const Np=Oc,Pp=class extends Np{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Dc(this._hostTNode,this._hostLView)}get injector(){return new Zn(this._hostTNode,this._hostLView)}get parentInjector(){const s=pn(this._hostTNode,this._hostLView);if(yi(s)){const a=Ia(s,this._hostLView),l=Jn(s);return new Zn(a[1].data[l+8],a)}return new Zn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=q_(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const d=s.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(s,a,l,d,g){const v=s&&!function wi(i){return"function"==typeof i}(s);let w;if(v)w=a;else{const k=a||{};w=k.index,l=k.injector,d=k.projectableNodes,g=k.ngModuleRef}const b=v?s:new $m(zn(s)),A=l||this.parentInjector;if(!g&&null==b.ngModule&&A){const k=A.get(yo,null);k&&(g=k)}const x=b.create(A,d,void 0,g);return this.insert(x.hostView,w),x}insert(s,a){const l=s._lView,d=l[1];if(function Il(i){return hi(i[3])}(l)){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const k=l[3],j=new Pp(k,k[6],k[3]);j.detach(j.indexOf(s))}}const g=this._adjustIndex(a),v=this._lContainer;!function m(i,s,a,l){const d=10+l,g=a.length;l>0&&(a[d-1][4]=s),l<g-10?(s[4]=a[d],fd(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function h(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(v,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(d,l,v,g);const w=Lf(g,v),b=l[11],A=hs(b,v[7]);return null!==A&&function Si(i,s,a,l,d,g){l[0]=d,l[6]=s,Vf(i,l,a,1,d,g)}(d,v[6],b,l,A,w),s.attachToViewContainerRef(),fd(Xm(v),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=q_(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=_(this._lContainer,a);l&&(xa(Xm(this._lContainer),a),C(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=_(this._lContainer,a);return l&&null!=xa(Xm(this._lContainer),a)?new _h(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function q_(i){return i[8]}function Xm(i){return i[8]||(i[8]=[])}function H_(i,s){let a;const l=s[i.index];if(hi(l))a=l;else{let d;if(8&i.type)d=Wt(l);else{const g=s[11];d=g.createComment("");const v=An(i,s);We(g,hs(g,v),d,function rc(i,s){return Ht(i)?i.nextSibling(s):s.nextSibling}(g,v),!1)}s[i.index]=a=function Ev(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}(l,s,d,i),jd(s,a)}return new Pp(a,i,s)}class $_{constructor(s){this.queryList=s,this.matches=null}clone(){return new $_(this.queryList)}setDirty(){this.queryList.setDirty()}}class G_{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new G_(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Dh(s,a).matches&&this.queries[a].setDirty()}}class $E{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Rc{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(s,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Rc(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ey{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new ey(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(s,a,FT(a,g)),this.matchTNodeWithReadOption(s,a,Fo(a,s,g,!1,!1))}else l===Mc?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Fo(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===fs||d===Oc||d===Mc&&4&a.type)this.addMatch(a.index,-2);else{const g=Fo(a,s,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function FT(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function z_(i,s,a,l){return-1===a?function kr(i,s){return 11&i.type?Dc(i,s):4&i.type?Jm(i,s):null}(s,i):-2===a?function GE(i,s,a){return a===fs?Dc(s,i):a===Mc?Jm(s,i):a===Oc?H_(s,i):void 0}(i,s,l):xn(i,i[1],a,s)}function Th(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const g=i.data,v=a.matches,w=[];for(let b=0;b<v.length;b+=2){const A=v[b];w.push(A<0?null:z_(s,g[A],v[b+1],a.metadata.read))}d.matches=w}return d.matches}function Gs(i,s,a,l){const d=i.queries.getByIndex(a),g=d.matches;if(null!==g){const v=Th(i,s,d,a);for(let w=0;w<g.length;w+=2){const b=g[w];if(b>0)l.push(v[w/2]);else{const A=g[w+1],x=s[-b];for(let k=10;k<x.length;k++){const j=x[k];j[17]===j[3]&&Gs(j[1],j,A,l)}if(null!==x[9]){const k=x[9];for(let j=0;j<k.length;j++){const K=k[j];Gs(K[1],K,A,l)}}}}}return l}function ty(i){const s=Ce(),a=At(),l=ma();ya(l+1);const d=Dh(a,l);if(i.dirty&&Bn(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const g=d.crossesNgTemplate?Gs(a,s,l,[]):Th(a,s,d,l);i.reset(g,NE),i.notifyOnChanges()}return!0}return!1}function Ch(i,s,a,l){const d=At();if(d.firstCreatePass){const g=Qt();(function KE(i,s,a){null===i.queries&&(i.queries=new Rc),i.queries.track(new ey(s,a))})(d,new $E(s,a,l),g.index),function LT(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function K_(i,s,a){const l=new Z_(4==(4&a));Vg(i,s,l,l.destroy),null===s[19]&&(s[19]=new G_),s[19].queries.push(new $_(l))}(d,Ce(),a)}function W_(){return function WE(i,s){return i[19].queries[s].queryList}(Ce(),ma())}function Dh(i,s){return i.queries.getByIndex(s)}function tr(...i){}const kp=new Vt("Application Initializer");let al=(()=>{class i{constructor(a){this.appInits=a,this.resolve=tr,this.reject=tr,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(op(g))a.push(g);else if(Yv(g)){const v=new Promise((w,b)=>{g.subscribe({complete:w,error:b})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)($(kp,8))},i.\u0275prov=zt({token:i,factory:i.\u0275fac}),i})();const ru=new Vt("AppId"),ib={provide:ru,useFactory:function rb(){return`${sy()}${sy()}${sy()}`},deps:[]};function sy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const oy=new Vt("Platform Initializer"),ay=new Vt("Platform ID"),ul=new Vt("appBootstrapListener");let Lc=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=zt({token:i,factory:i.\u0275fac}),i})();const ll=new Vt("LocaleId"),o0=new Vt("DefaultCurrencyCode");class $T{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let uy=(()=>{class i{compileModuleSync(a){return new V_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=lo(Wn(a).declarations).reduce((v,w)=>{const b=zn(w);return b&&v.push(new $m(b)),v},[]);return new $T(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=zt({token:i,factory:i.\u0275fac}),i})();const Fp=(()=>Promise.resolve(0))();function Rh(i){"undefined"==typeof Zone?Fp.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Qi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ea(!1),this.onMicrotaskEmpty=new ea(!1),this.onStable=new ea(!1),this.onError=new ea(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function GT(){let i=dt.requestAnimationFrame,s=dt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function lb(i){const s=()=>{!function WT(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(dt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Lp(i),i.isCheckStableRunning=!0,a0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Lp(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,v,w)=>{try{return ly(i),a.invokeTask(d,g,v,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),u0(i)}},onInvoke:(a,l,d,g,v,w,b)=>{try{return ly(i),a.invoke(d,g,v,w,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),u0(i)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Lp(i),a0(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,s,zT,tr,tr);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const zT={};function a0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Lp(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function ly(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function u0(i){i._nesting--,a0(i)}class KT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ea,this.onMicrotaskEmpty=new ea,this.onStable=new ea,this.onError=new ea}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}let cy=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qi.assertNotInAngularZone(),Rh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rh(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)($(Qi))},i.\u0275prov=zt({token:i,factory:i.\u0275fac}),i})(),cb=(()=>{class i{constructor(){this._applications=new Map,Nh.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Nh.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=zt({token:i,factory:i.\u0275fac}),i})();class db{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function dy(i){Nh=i}let Ji,Nh=new db;const Vp=new Vt("AllowMultipleToken");class l0{constructor(s,a){this.name=s,this.token=a}}function iu(i,s,a=[]){const l=`Platform: ${s}`,d=new Vt(l);return(g=[])=>{let v=cl();if(!v||v.injector.get(Vp,!1))if(i)i(a.concat(g).concat({provide:d,useValue:!0}));else{const w=a.concat(g).concat({provide:d,useValue:!0},{provide:qg,useValue:"platform"});!function pb(i){if(Ji&&!Ji.destroyed&&!Ji.injector.get(Vp,!1))throw new Me(400,"");Ji=i.get(gb);const s=i.get(oy,null);s&&s.forEach(a=>a())}(ho.create({providers:w,name:l}))}return function Ph(i){const s=cl();if(!s)throw new Me(401,"");return s}()}}function cl(){return Ji&&!Ji.destroyed?Ji:null}let gb=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function kh(i,s){let a;return a="noop"===i?new KT:("zone.js"===i?void 0:i)||new Qi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),b=[{provide:Qi,useValue:w}];return w.run(()=>{const A=ho.create({providers:b,parent:this.injector,name:a.moduleType.name}),x=a.create(A),k=x.injector.get(Xl,null);if(!k)throw new Me(402,"");return w.runOutsideAngular(()=>{const j=w.onError.subscribe({next:K=>{k.handleError(K)}});x.onDestroy(()=>{Up(this._modules,x),j.unsubscribe()})}),function mb(i,s,a){try{const l=a();return op(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(k,w,()=>{const j=x.injector.get(al);return j.runInitializers(),j.donePromise.then(()=>(function fT(i){ot(i,"Expected localeId to be defined"),"string"==typeof i&&(vp=i.toLowerCase().replace(/_/g,"-"))}(x.injector.get(ll,xm)||xm),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,l=[]){const d=su({},l);return function hb(i,s,a){const l=new V_(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(vo);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Me(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)($(ho))},i.\u0275prov=zt({token:i,factory:i.\u0275fac}),i})();function su(i,s){return Array.isArray(s)?s.reduce(su,i):Object.assign(Object.assign({},i),s)}let vo=(()=>{class i{constructor(a,l,d,g,v){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new N.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),b=new N.y(A=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Qi.assertNotInAngularZone(),Rh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Qi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{x.unsubscribe(),k.unsubscribe()}});this.isStable=(0,se.T)(w,b.pipe((0,ne.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Me(405,"");let d;d=a instanceof ME?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function fb(i){return i.isBoundToModule}(d)?void 0:this._injector.get(yo),w=d.create(ho.NULL,[],l||d.selector,g),b=w.location.nativeElement,A=w.injector.get(cy,null),x=A&&w.injector.get(cb);return A&&x&&x.registerApplication(b,A),w.onDestroy(()=>{this.detachView(w.hostView),Up(this.components,w),x&&x.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Up(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(ul,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)($(Qi),$(ho),$(Xl),$(Sp),$(al))},i.\u0275prov=zt({token:i,factory:i.\u0275fac}),i})();function Up(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let yb=!0,vb=!1;function JT(){return vb=!0,yb}function hy(){if(vb)throw new Error("Cannot enable prod mode after platform setup.");yb=!1}let eC=(()=>{class i{}return i.__NG_ELEMENT_ID__=wb,i})();function wb(i){return function dl(i,s,a){if(Dn(i)&&!a){const l=br(i.index,s);return new _h(l,l)}return 47&i.type?new _h(s[16],s):null}(Qt(),Ce(),16==(16&i))}class v0{constructor(){}supports(s){return qd(s)}create(s){return new _0(s)}}const sC=(i,s)=>s;class _0{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||sC}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<py(l,d,g)?a:l,w=py(v,d,g),b=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const A=w-d,x=b-d;if(A!=x){for(let j=0;j<A;j++){const K=j<g.length?g[j]:g[j]=0,fe=K+j;x<=fe&&fe<A&&(g[j]=K+1)}g[v.previousIndex]=x-A}}w!==b&&s(v,w,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!qd(s))throw new Me(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,g,v,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)g=s[w],v=this._trackByFn(w,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,w)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,w),l=!0),a=a._next}else d=0,function kv(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Wu()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,w=>{v=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,w,v,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,v,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,d)):s=this._addAfter(new oC(a,l),g,d),s}_verifyReinsertion(s,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?s=this._reinsertAfter(g,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,g=s._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ab),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ab),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class oC{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class w0{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Ab{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new w0,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function py(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class Sb{constructor(){}supports(s){return s instanceof Map||Qg(s)}create(){return new aC}}class aC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Qg(s)))throw new Me(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const l=new E0(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class E0{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mr(){return new gy([new v0])}let gy=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||mr()),deps:[[i,new Ti,new Jt]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Me(901,"")}}return i.\u0275prov=zt({token:i,providedIn:"root",factory:mr}),i})();function xb(){return new my([new Sb])}let my=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||xb()),deps:[[i,new Ti,new Jt]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new Me(901,"")}}return i.\u0275prov=zt({token:i,providedIn:"root",factory:xb}),i})();const uC=[new Sb],b0=new gy([new v0]),Mb=new my(uC),I0=iu(null,"core",[{provide:ay,useValue:"unknown"},{provide:gb,deps:[ho]},{provide:cb,deps:[]},{provide:Lc,deps:[]}]),C0=[{provide:vo,useClass:vo,deps:[Qi,ho,Xl,Sp,al]},{provide:PE,deps:[Qi],useFactory:function D0(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:al,useClass:al,deps:[[new Jt,kp]]},{provide:uy,useClass:uy,deps:[]},ib,{provide:gy,useFactory:function yy(){return b0},deps:[]},{provide:my,useFactory:function $p(){return Mb},deps:[]},{provide:ll,useFactory:function vy(i){return i||function T0(){return"undefined"!=typeof $localize&&$localize.locale||xm}()},deps:[[new qn(ll),new Jt,new Ti]]},{provide:o0,useValue:"USD"}];let Ob=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)($(vo))},i.\u0275mod=bs({type:i}),i.\u0275inj=es({providers:C0}),i})()},3942:(it,Te,P)=>{"use strict";P.d(Te,{Z:()=>Me});var u=P(2090),Y=P(4859),N=P(9681),se=P(1877);class ne{constructor(z,te){this._delegate=z,this.firebase=te,(0,N._addComponent)(z,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this._delegate.automaticDataCollectionEnabled=z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(z=>{this._delegate.checkDestroyed(),z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(z,te=N._DEFAULT_ENTRY_NAME){var pe;this._delegate.checkDestroyed();const be=this._delegate.container.getProvider(z);return!be.isInitialized()&&"EXPLICIT"===(null===(pe=be.getComponent())||void 0===pe?void 0:pe.instantiationMode)&&be.initialize(),be.getImmediate({identifier:te})}_removeServiceInstance(z,te=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(z).clearInstance(te)}_addComponent(z){(0,N._addComponent)(this._delegate,z)}_addOrOverwriteComponent(z){(0,N._addOrOverwriteComponent)(this._delegate,z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ue(){const Fe=function oe(Fe){const z={},te={__esModule:!0,initializeApp:function ge($e,lt={}){const Q=N.initializeApp($e,lt);if((0,u.r3)(z,Q.name))return z[Q.name];const he=new Fe(Q,te);return z[Q.name]=he,he},app:be,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ie($e){const lt=$e.name,Q=lt.replace("-compat","");if(N._registerComponent($e)&&"PUBLIC"===$e.type){const he=(me=be())=>{if("function"!=typeof me[Q])throw ie.create("invalid-app-argument",{appName:lt});return me[Q]()};void 0!==$e.serviceProps&&(0,u.ZB)(he,$e.serviceProps),te[Q]=he,Fe.prototype[Q]=function(...me){return this._getService.bind(this,lt).apply(this,$e.multipleInstances?me:[])}}return"PUBLIC"===$e.type?te[Q]:null},removeApp:function pe($e){delete z[$e]},useAsService:function tt($e,lt){return"serverAuth"===lt?null:lt},modularAPIs:N}};function be($e){if(!(0,u.r3)(z,$e=$e||N._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:$e});return z[$e]}return te.default=te,Object.defineProperty(te,"apps",{get:function Ue(){return Object.keys(z).map($e=>z[$e])}}),be.App=Fe,te}(ne);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function z(te){(0,u.ZB)(Fe,te)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Fe}(),U=new se.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=B;!function Ee(Fe){(0,N.registerVersion)("@firebase/app-compat","0.1.18",Fe)}()},9681:(it,Te,P)=>{"use strict";P.r(Te),P.d(Te,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Ks,_DEFAULT_ENTRY_NAME:()=>Gn,_addComponent:()=>Kt,_addOrOverwriteComponent:()=>vr,_apps:()=>rt,_clearComponents:()=>vn,_components:()=>yr,_getProvider:()=>ui,_registerComponent:()=>zt,_removeServiceInstance:()=>es,deleteApp:()=>nr,getApp:()=>ts,getApps:()=>De,initializeApp:()=>Ur,onLog:()=>Bt,registerVersion:()=>ni,setLogLevel:()=>Pn});var u=P(5861),Y=P(4859),N=P(1877),se=P(2090);class ne{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(Ct=>{if(function ce(ct){const nt=ct.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(Ct)){const nn=Ct.getImmediate();return`${nn.library}/${nn.version}`}return null}).filter(Ct=>Ct).join(" ")}}const ie="@firebase/app",ue=new N.Yd("@firebase/app"),Gn="[DEFAULT]",ot={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,yr=new Map;function Kt(ct,nt){try{ct.container.addComponent(nt)}catch(Ct){ue.debug(`Component ${nt.name} failed to register with FirebaseApp ${ct.name}`,Ct)}}function vr(ct,nt){ct.container.addOrOverwriteComponent(nt)}function zt(ct){const nt=ct.name;if(yr.has(nt))return ue.debug(`There were multiple attempts to register component ${nt}.`),!1;yr.set(nt,ct);for(const Ct of rt.values())Kt(Ct,ct);return!0}function ui(ct,nt){return ct.container.getProvider(nt)}function es(ct,nt,Ct=Gn){ui(ct,nt).clearInstance(Ct)}function vn(){yr.clear()}const Pt=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class un{constructor(nt,Ct,nn){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},Ct),this._name=Ct.name,this._automaticDataCollectionEnabled=Ct.automaticDataCollectionEnabled,this._container=nn,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw Pt.create("app-deleted",{appName:this._name})}}const Ks="9.6.7";function Ur(ct,nt={}){"object"!=typeof nt&&(nt={name:nt});const Ct=Object.assign({name:Gn,automaticDataCollectionEnabled:!1},nt),nn=Ct.name;if("string"!=typeof nn||!nn)throw Pt.create("bad-app-name",{appName:String(nn)});const Br=rt.get(nn);if(Br){if((0,se.vZ)(ct,Br.options)&&(0,se.vZ)(Ct,Br.config))return Br;throw Pt.create("duplicate-app",{appName:nn})}const Dt=new Y.H0(nn);for(const at of yr.values())Dt.addComponent(at);const et=new un(ct,Ct,Dt);return rt.set(nn,et),et}function ts(ct=Gn){const nt=rt.get(ct);if(!nt)throw Pt.create("no-app",{appName:ct});return nt}function De(){return Array.from(rt.values())}function nr(ct){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)(function*(ct){const nt=ct.name;rt.has(nt)&&(rt.delete(nt),yield Promise.all(ct.container.getProviders().map(Ct=>Ct.delete())),ct.isDeleted=!0)})).apply(this,arguments)}function ni(ct,nt,Ct){var nn;let Br=null!==(nn=ot[ct])&&void 0!==nn?nn:ct;Ct&&(Br+=`-${Ct}`);const Dt=Br.match(/\s|\//),et=nt.match(/\s|\//);if(Dt||et){const at=[`Unable to register library "${Br}" with version "${nt}":`];return Dt&&at.push(`library name "${Br}" contains illegal characters (whitespace or "/")`),Dt&&et&&at.push("and"),et&&at.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void ue.warn(at.join(" "))}zt(new Y.wA(`${Br}-version`,()=>({library:Br,version:nt}),"VERSION"))}function Bt(ct,nt){if(null!==ct&&"function"!=typeof ct)throw Pt.create("invalid-log-argument");(0,N.Am)(ct,nt)}function Pn(ct){(0,N.Ub)(ct)}!function Ys(ct){zt(new Y.wA("platform-logger",nt=>new ne(nt),"PRIVATE")),ni(ie,"0.7.17",ct),ni(ie,"0.7.17","esm2017"),ni("fire-js","")}("")},4859:(it,Te,P)=>{"use strict";P.d(Te,{wA:()=>N,H0:()=>oe});var u=P(5861),Y=P(2090);class N{constructor(B,U,J){this.name=B,this.instanceFactory=U,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const se="[DEFAULT]";class ne{constructor(B,U){this.name=B,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const U=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(U)){const J=new Y.BH;if(this.instancesDeferred.set(U,J),this.isInitialized(U)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:U});Le&&J.resolve(Le)}catch(Le){}}return this.instancesDeferred.get(U).promise}getImmediate(B){var U;const J=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),Le=null!==(U=null==B?void 0:B.optional)&&void 0!==U&&U;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ee){if(Le)return null;throw Ee}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function ie(ue){return"EAGER"===ue.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:se})}catch(U){}for(const[U,J]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(U);try{const Ee=this.getOrInitializeService({instanceIdentifier:Le});J.resolve(Ee)}catch(Ee){}}}}clearInstance(B=se){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,u.Z)(function*(){const U=Array.from(B.instances.values());yield Promise.all([...U.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...U.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=se){return this.instances.has(B)}getOptions(B=se){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:U={}}=B,J=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:J,options:U});for(const[Ee,Me]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ee)&&Me.resolve(Le);return Le}onInit(B,U){var J;const Le=this.normalizeInstanceIdentifier(U),Ee=null!==(J=this.onInitCallbacks.get(Le))&&void 0!==J?J:new Set;Ee.add(B),this.onInitCallbacks.set(Le,Ee);const Me=this.instances.get(Le);return Me&&B(Me,Le),()=>{Ee.delete(B)}}invokeOnInitCallbacks(B,U){const J=this.onInitCallbacks.get(U);if(J)for(const Le of J)try{Le(B,U)}catch(Ee){}}getOrInitializeService({instanceIdentifier:B,options:U={}}){let J=this.instances.get(B);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=B,ue===se?void 0:ue),options:U}),this.instances.set(B,J),this.instancesOptions.set(B,U),this.invokeOnInitCallbacks(J,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,J)}catch(Le){}var ue;return J||null}normalizeInstanceIdentifier(B=se){return this.component?this.component.multipleInstances?B:se:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const U=this.getProvider(B.name);if(U.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);U.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const U=new ne(B,this);return this.providers.set(B,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(it,Te,P)=>{"use strict";P.d(Te,{in:()=>Y,Yd:()=>ie,Ub:()=>oe,Am:()=>ue});const u=[];var Y=(()=>{return(B=Y||(Y={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",Y;var B})();const N={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},se=Y.INFO,ne={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},ce=(B,U,...J)=>{if(U<B.logLevel)return;const Le=(new Date).toISOString(),Ee=ne[U];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Ee](`[${Le}]  ${B.name}:`,...J)};class ie{constructor(U){this.name=U,this._logLevel=se,this._logHandler=ce,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in Y))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?N[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...U),this._logHandler(this,Y.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...U),this._logHandler(this,Y.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...U),this._logHandler(this,Y.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...U),this._logHandler(this,Y.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...U),this._logHandler(this,Y.ERROR,...U)}}function oe(B){u.forEach(U=>{U.setLogLevel(B)})}function ue(B,U){for(const J of u){let Le=null;U&&U.level&&(Le=N[U.level]),J.userLogHandler=null===B?null:(Ee,Me,...Fe)=>{const z=Fe.map(te=>{if(null==te)return null;if("string"==typeof te)return te;if("number"==typeof te||"boolean"==typeof te)return te.toString();if(te instanceof Error)return te.message;try{return JSON.stringify(te)}catch(pe){return null}}).filter(te=>te).join(" ");Me>=(null!=Le?Le:Ee.logLevel)&&B({level:Y[Me].toLowerCase(),message:z,args:Fe,type:Ee.name})}}}},5861:(it,Te,P)=>{"use strict";function u(N,se,ne,ce,ie,oe,ue){try{var B=N[oe](ue),U=B.value}catch(J){return void ne(J)}B.done?se(U):Promise.resolve(U).then(ce,ie)}function Y(N){return function(){var se=this,ne=arguments;return new Promise(function(ce,ie){var oe=N.apply(se,ne);function ue(U){u(oe,ce,ie,ue,B,"next",U)}function B(U){u(oe,ce,ie,ue,B,"throw",U)}ue(void 0)})}}P.d(Te,{Z:()=>Y})}},it=>{it(it.s=5942)}]);